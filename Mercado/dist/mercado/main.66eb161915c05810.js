"use strict";(self.webpackChunkMercado=self.webpackChunkMercado||[]).push([[179],{6304:(ut,Ce,O)=>{O.d(Ce,{Dh:()=>Ne,GT:()=>ae,cc:()=>Se,hO:()=>Ve,on:()=>V,pX:()=>ie,xv:()=>fe});var u=O(5879),X=O(120),N=O(2793);ut=O.hmd(ut);const J=["ngOnDestroy"],ie=(Fe,pt,ht,ne={})=>new Proxy(Fe,{get:(ye,ee)=>ht.runOutsideAngular(()=>{var De;if(Fe[ee])return!(null===(De=ne?.spy)||void 0===De)&&De.get&&ne.spy.get(ee,Fe[ee]),Fe[ee];if(J.indexOf(ee)>-1)return()=>{};const Pe=pt.toPromise().then(qe=>{const le=qe&&qe[ee];return"function"==typeof le?le.bind(qe):le&&le.then?le.then(bt=>ht.run(()=>bt)):ht.run(()=>le)});return new Proxy(()=>{},{get:(qe,le)=>Pe[le],apply:(qe,le,bt)=>Pe.then(Ht=>{var hi;const Gi=Ht&&Ht(...bt);return!(null===(hi=ne?.spy)||void 0===hi)&&hi.apply&&ne.spy.apply(ee,bt,Gi),Gi})})})}),ae=(Fe,pt)=>{pt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(ne=>{Object.defineProperty(Fe.prototype,ne,Object.getOwnPropertyDescriptor(ht.prototype||ht,ne))})})};class _e{constructor(pt){return pt}}const Ne=new u.OlP("angularfire2.app.options"),fe=new u.OlP("angularfire2.app.name");function V(Fe,pt,ht){const ye="object"==typeof ht&&ht||{};ye.name=ye.name||"string"==typeof ht&&ht||"[DEFAULT]";const De=X.Z.apps.filter(Pe=>Pe&&Pe.name===ye.name)[0]||pt.runOutsideAngular(()=>X.Z.initializeApp(Fe,ye));try{JSON.stringify(Fe)!==JSON.stringify(De.options)&&$("error",`${De.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(De)}const $=(Fe,...pt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Fe](...pt)},Y={provide:_e,useFactory:V,deps:[Ne,u.R0b,[new u.FiY,fe]]};let Ve=(()=>{class Fe{constructor(ht){X.Z.registerVersion("angularfire",N.q4.full,"core"),X.Z.registerVersion("angularfire",N.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,ht.toString())}static initializeApp(ht,ne){return{ngModule:Fe,providers:[{provide:Ne,useValue:ht},{provide:fe,useValue:ne}]}}}return Fe.\u0275fac=function(ht){return new(ht||Fe)(u.LFG(u.Lbi))},Fe.\u0275mod=u.oAB({type:Fe}),Fe.\u0275inj=u.cJS({providers:[Y]}),Fe})();function Se(Fe,pt,ht,ne,ye){const[,ee,De]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Fe)||[];if(ee)return function Ze(Fe,pt){try{return Fe.toString()===pt.toString()}catch{return Fe===pt}}(ye,De)||(Ge("error",`${pt} was already initialized on the ${ht} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:ye,was:De})),ee;{const Pe=ne();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Pe,ye]),Pe}}const Re=!!ut.hot,Ge=(Fe,...pt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Fe](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(ut,Ce,O)=>{O.d(Ce,{q4:()=>Gs,iC:()=>Yp,HU:()=>cc,vb:()=>bd,JM:()=>Ji});var u=O(5879),X=O(4097),N=O(5861),J=O(534),ie=O(9058),ae=O(4537),_e=O(7879);const Ne=(x,C)=>C.some(A=>x instanceof A);let fe,V;const Ve=new WeakMap,Se=new WeakMap,Ze=new WeakMap,Re=new WeakMap,Ge=new WeakMap;let ht={get(x,C,A){if(x instanceof IDBTransaction){if("done"===C)return Se.get(x);if("objectStoreNames"===C)return x.objectStoreNames||Ze.get(x);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return De(x[C])},set:(x,C,A)=>(x[C]=A,!0),has:(x,C)=>x instanceof IDBTransaction&&("done"===C||"store"===C)||C in x};function ee(x){return"function"==typeof x?function ye(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...C){return x.apply(Pe(this),C),De(Ve.get(this))}:function(...C){return De(x.apply(Pe(this),C))}:function(C,...A){const P=x.call(Pe(this),C,...A);return Ze.set(P,C.sort?C.sort():[C]),De(P)}}(x):(x instanceof IDBTransaction&&function pt(x){if(Se.has(x))return;const C=new Promise((A,P)=>{const H=()=>{x.removeEventListener("complete",Z),x.removeEventListener("error",me),x.removeEventListener("abort",me)},Z=()=>{A(),H()},me=()=>{P(x.error||new DOMException("AbortError","AbortError")),H()};x.addEventListener("complete",Z),x.addEventListener("error",me),x.addEventListener("abort",me)});Se.set(x,C)}(x),Ne(x,function $(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ht):x)}function De(x){if(x instanceof IDBRequest)return function Fe(x){const C=new Promise((A,P)=>{const H=()=>{x.removeEventListener("success",Z),x.removeEventListener("error",me)},Z=()=>{A(De(x.result)),H()},me=()=>{P(x.error),H()};x.addEventListener("success",Z),x.addEventListener("error",me)});return C.then(A=>{A instanceof IDBCursor&&Ve.set(A,x)}).catch(()=>{}),Ge.set(C,x),C}(x);if(Re.has(x))return Re.get(x);const C=ee(x);return C!==x&&(Re.set(x,C),Ge.set(C,x)),C}const Pe=x=>Ge.get(x),bt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],hi=new Map;function Gi(x,C){if(!(x instanceof IDBDatabase)||C in x||"string"!=typeof C)return;if(hi.get(C))return hi.get(C);const A=C.replace(/FromIndex$/,""),P=C!==A,H=Ht.includes(A);if(!(A in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!bt.includes(A))return;const Z=function(){var me=(0,N.Z)(function*($e,...Be){const at=this.transaction($e,H?"readwrite":"readonly");let Dt=at.store;return P&&(Dt=Dt.index(Be.shift())),(yield Promise.all([Dt[A](...Be),H&&at.done]))[0]});return function(Be){return me.apply(this,arguments)}}();return hi.set(C,Z),Z}!function ne(x){ht=x(ht)}(x=>({...x,get:(C,A,P)=>Gi(C,A)||x.get(C,A,P),has:(C,A)=>!!Gi(C,A)||x.has(C,A)}));const ps="@firebase/installations",Fn="0.6.4",qo=1e4,gs=`w:${Fn}`,ce="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",be=36e5,tt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(x){return x instanceof ie.ZR&&x.code.includes("request-failed")}function Rn({projectId:x}){return`${he}/projects/${x}/installations`}function gt(x){return{token:x.token,requestStatus:2,expiresIn:Mi(x.expiresIn),creationTime:Date.now()}}function Yt(x,C){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,N.Z)(function*(x,C){const P=(yield C.json()).error;return tt.create("request-failed",{requestName:x,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function vn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function fi(x){return sn.apply(this,arguments)}function sn(){return(sn=(0,N.Z)(function*(x){const C=yield x();return C.status>=500&&C.status<600?x():C})).apply(this,arguments)}function Mi(x){return Number(x.replace("s","000"))}function rr(){return(rr=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:C},{fid:A}){const P=Rn(x),H=vn(x),Z=C.getImmediate({optional:!0});if(Z){const at=yield Z.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const $e={method:"POST",headers:H,body:JSON.stringify({fid:A,authVersion:ce,appId:x.appId,sdkVersion:gs})},Be=yield fi(()=>fetch(P,$e));if(Be.ok){const at=yield Be.json();return{fid:at.fid||A,registrationStatus:2,refreshToken:at.refreshToken,authToken:gt(at.authToken)}}throw yield Yt("Create Installation",Be)})).apply(this,arguments)}function sr(x){return new Promise(C=>{setTimeout(C,x)})}const Ua=/^[cdef][\w-]{21}$/,ft="";function zt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const A=function Rt(x){return function Ps(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Ua.test(A)?A:ft}catch{return ft}}function cn(x){return`${x.appName}!${x.appId}`}const In=new Map;function qi(x,C){const A=cn(x);Ba(A,C),function Jt(x,C){const A=function $t(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=x=>{Ba(x.data.key,x.data.fid)}),Wi}();A&&A.postMessage({key:x,fid:C}),function _s(){0===In.size&&Wi&&(Wi.close(),Wi=null)}()}(A,C)}function Ba(x,C){const A=In.get(x);if(A)for(const P of A)P(C)}let Wi=null;const io="firebase-installations-database",ro=1,fr="firebase-installations-store";let Fs=null;function Nr(){return Fs||(Fs=function qe(x,C,{blocked:A,upgrade:P,blocking:H,terminated:Z}={}){const me=indexedDB.open(x,C),$e=De(me);return P&&me.addEventListener("upgradeneeded",Be=>{P(De(me.result),Be.oldVersion,Be.newVersion,De(me.transaction))}),A&&me.addEventListener("blocked",()=>A()),$e.then(Be=>{Z&&Be.addEventListener("close",()=>Z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),$e}(io,ro,{upgrade:(x,C)=>{0===C&&x.createObjectStore(fr)}})),Fs}function Jn(x,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(x,C){const A=cn(x),H=(yield Nr()).transaction(fr,"readwrite"),Z=H.objectStore(fr),me=yield Z.get(A);return yield Z.put(C,A),yield H.done,(!me||me.fid!==C.fid)&&qi(x,C.fid),C})).apply(this,arguments)}function Zi(x){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(x){const C=cn(x),P=(yield Nr()).transaction(fr,"readwrite");yield P.objectStore(fr).delete(C),yield P.done})).apply(this,arguments)}function mr(x,C){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(x,C){const A=cn(x),H=(yield Nr()).transaction(fr,"readwrite"),Z=H.objectStore(fr),me=yield Z.get(A),$e=C(me);return void 0===$e?yield Z.delete(A):yield Z.put($e,A),yield H.done,$e&&(!me||me.fid!==$e.fid)&&qi(x,$e.fid),$e})).apply(this,arguments)}function j(x){return B.apply(this,arguments)}function B(){return B=(0,N.Z)(function*(x){let C;const A=yield mr(x.appConfig,P=>{const H=function q(x){return Ot(x||{fid:zt(),registrationStatus:0})}(P),Z=function Ee(x,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(tt.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},P=function se(x,C){return Ke.apply(this,arguments)}(x,A);return{installationEntry:A,registrationPromise:P}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:At(x)}:{installationEntry:C}}(x,H);return C=Z.registrationPromise,Z.installationEntry});return A.fid===ft?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),B.apply(this,arguments)}function Ke(){return Ke=(0,N.Z)(function*(x,C){try{const A=yield function no(x,C){return rr.apply(this,arguments)}(x,C);return Jn(x.appConfig,A)}catch(A){throw ze(A)&&409===A.customData.serverCode?yield Zi(x.appConfig):yield Jn(x.appConfig,{fid:C.fid,registrationStatus:0}),A}}),Ke.apply(this,arguments)}function At(x){return xt.apply(this,arguments)}function xt(){return(xt=(0,N.Z)(function*(x){let C=yield ti(x.appConfig);for(;1===C.registrationStatus;)yield sr(100),C=yield ti(x.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:P}=yield j(x);return P||A}return C})).apply(this,arguments)}function ti(x){return mr(x,C=>{if(!C)throw tt.create("installation-not-found");return Ot(C)})}function Ot(x){return function An(x){return 1===x.registrationStatus&&x.registrationTime+qo<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function $n(){return($n=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:C},A){const P=function Xr(x,{fid:C}){return`${Rn(x)}/${C}/authTokens:generate`}(x,A),H=function xn(x,{refreshToken:C}){const A=vn(x);return A.append("Authorization",function ir(x){return`${ce} ${x}`}(C)),A}(x,A),Z=C.getImmediate({optional:!0});if(Z){const at=yield Z.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const $e={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:gs,appId:x.appId}})},Be=yield fi(()=>fetch(P,$e));if(Be.ok)return gt(yield Be.json());throw yield Yt("Generate Auth Token",Be)})).apply(this,arguments)}function vs(x){return ja.apply(this,arguments)}function ja(){return ja=(0,N.Z)(function*(x,C=!1){let A;const P=yield mr(x.appConfig,Z=>{if(!Pt(Z))throw tt.create("not-registered");const me=Z.authToken;if(!C&&function Qt(x){return 2===x.requestStatus&&!function Vn(x){const C=Date.now();return C<x.creationTime||x.creationTime+x.expiresIn<C+be}(x)}(me))return Z;if(1===me.requestStatus)return A=function de(x,C){return te.apply(this,arguments)}(x,C),Z;{if(!navigator.onLine)throw tt.create("app-offline");const $e=function Un(x){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:C})}(Z);return A=function st(x,C){return We.apply(this,arguments)}(x,$e),$e}});return A?yield A:P.authToken}),ja.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(x,C){let A=yield Me(x.appConfig);for(;1===A.authToken.requestStatus;)yield sr(100),A=yield Me(x.appConfig);const P=A.authToken;return 0===P.requestStatus?vs(x,C):P})).apply(this,arguments)}function Me(x){return mr(x,C=>{if(!Pt(C))throw tt.create("not-registered");return function pi(x){return 1===x.requestStatus&&x.requestTime+qo<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function We(){return We=(0,N.Z)(function*(x,C){try{const A=yield function Wt(x,C){return $n.apply(this,arguments)}(x,C),P=Object.assign(Object.assign({},C),{authToken:A});return yield Jn(x.appConfig,P),A}catch(A){if(!ze(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const P=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Jn(x.appConfig,P)}else yield Zi(x.appConfig);throw A}}),We.apply(this,arguments)}function Pt(x){return void 0!==x&&2===x.registrationStatus}function Wo(){return(Wo=(0,N.Z)(function*(x){const C=x,{installationEntry:A,registrationPromise:P}=yield j(C);return P?P.catch(console.error):vs(C).catch(console.error),A.fid})).apply(this,arguments)}function Ha(){return Ha=(0,N.Z)(function*(x,C=!1){const A=x;return yield function $c(x){return gr.apply(this,arguments)}(A),(yield vs(A,C)).token}),Ha.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(x){const{registrationPromise:C}=yield j(x);C&&(yield C)})).apply(this,arguments)}function ao(x){return tt.create("missing-app-config-values",{valueName:x})}const Sl="installations",Bp=x=>{const C=x.getProvider("app").getImmediate(),A=function Ki(x){if(!x||!x.options)throw ao("App Configuration");if(!x.name)throw ao("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!x.options[A])throw ao(A);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,J._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},lo=x=>{const C=x.getProvider("app").getImmediate(),A=(0,J._getProvider)(C,Sl).getImmediate();return{getId:()=>function Jr(x){return Wo.apply(this,arguments)}(A),getToken:H=>function zc(x){return Ha.apply(this,arguments)}(A,H)}};(function yu(){(0,J._registerComponent)(new ae.wA(Sl,Bp,"PUBLIC")),(0,J._registerComponent)(new ae.wA("installations-internal",lo,"PRIVATE"))})(),(0,J.registerVersion)(ps,Fn),(0,J.registerVersion)(ps,Fn,"esm2017");const Ko="@firebase/remote-config",bi=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(C,A,P,H){this.client=C,this.storage=A,this.storageCache=P,this.logger=H}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-A,H=P<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var A=this;return(0,N.Z)(function*(){const[P,H]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(H&&A.isCachedDataFresh(C.cacheMaxAgeMillis,P))return H;C.eTag=H&&H.eTag;const Z=yield A.client.fetch(C),me=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&me.push(A.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(me),Z})()}}function yn(x=navigator){return x.languages&&x.languages[0]||x.language}class Oi{constructor(C,A,P,H,Z,me){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=P,this.projectId=H,this.apiKey=Z,this.appId=me}fetch(C){var A=this;return(0,N.Z)(function*(){const[P,H]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Be={sdk_version:A.sdkVersion,app_instance_id:P,app_instance_id_token:H,app_id:A.appId,language_code:yn()},at={method:"POST",headers:$e,body:JSON.stringify(Be)},Dt=fetch(me,at),St=new Promise((cr,ns)=>{C.signal.addEventListener(()=>{const cl=new Error("The operation was aborted.");cl.name="AbortError",ns(cl)})});let lr;try{yield Promise.race([Dt,St]),lr=yield Dt}catch(cr){let ns="fetch-client-network";throw"AbortError"===cr?.name&&(ns="fetch-timeout"),bi.create(ns,{originalErrorMessage:cr?.message})}let tn=lr.status;const ts=lr.headers.get("ETag")||void 0;let Ks,As;if(200===lr.status){let cr;try{cr=yield lr.json()}catch(ns){throw bi.create("fetch-client-parse",{originalErrorMessage:ns?.message})}Ks=cr.entries,As=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===As?tn=500:"NO_CHANGE"===As?tn=304:("NO_TEMPLATE"===As||"EMPTY_CONFIG"===As)&&(Ks={}),304!==tn&&200!==tn)throw bi.create("fetch-status",{httpStatus:tn});return{status:tn,eTag:ts,config:Ks}})()}}class Ga{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,N.Z)(function*(){const P=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,P)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:P}){var H=this;return(0,N.Z)(function*(){yield function co(x,C){return new Promise((A,P)=>{const H=Math.max(C-Date.now(),0),Z=setTimeout(A,H);x.addEventListener(()=>{clearTimeout(Z),P(bi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const Z=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function gi(x){if(!(x instanceof ie.ZR&&x.customData))return!1;const C=Number(x.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Z))throw Z;const me={throttleEndTimeMillis:Date.now()+(0,ie.$s)(P),backoffCount:P+1};return yield H.storage.setThrottleMetadata(me),H.attemptFetch(C,me)}})()}}class Xo{constructor(C,A,P,H,Z){this.app=C,this._client=A,this._storageCache=P,this._storage=H,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ct(x,C){const A=x.target.error||void 0;return bi.create(C,{originalErrorMessage:A&&A?.message})}const _i="app_namespace_store";class Kc{constructor(C,A,P,H=function bn(){return new Promise((x,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=P=>{C(Ct(P,"storage-open"))},A.onsuccess=P=>{x(P.target.result)},A.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(A){C(bi.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=P,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,N.Z)(function*(){const P=yield A.openDbPromise;return new Promise((H,Z)=>{const $e=P.transaction([_i],"readonly").objectStore(_i),Be=A.createCompositeKey(C);try{const at=$e.get(Be);at.onerror=Dt=>{Z(Ct(Dt,"storage-get"))},at.onsuccess=Dt=>{const St=Dt.target.result;H(St?St.value:void 0)}}catch(at){Z(bi.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(C,A){var P=this;return(0,N.Z)(function*(){const H=yield P.openDbPromise;return new Promise((Z,me)=>{const Be=H.transaction([_i],"readwrite").objectStore(_i),at=P.createCompositeKey(C);try{const Dt=Be.put({compositeKey:at,value:A});Dt.onerror=St=>{me(Ct(St,"storage-set"))},Dt.onsuccess=()=>{Z()}}catch(Dt){me(bi.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(C){var A=this;return(0,N.Z)(function*(){const P=yield A.openDbPromise;return new Promise((H,Z)=>{const $e=P.transaction([_i],"readwrite").objectStore(_i),Be=A.createCompositeKey(C);try{const at=$e.delete(Be);at.onerror=Dt=>{Z(Ct(Dt,"storage-delete"))},at.onsuccess=()=>{H()}}catch(at){Z(bi.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class uo{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,N.Z)(function*(){const A=C.storage.getLastFetchStatus(),P=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),Z=yield A;Z&&(C.lastFetchStatus=Z);const me=yield P;me&&(C.lastSuccessfulFetchTimestampMillis=me);const $e=yield H;$e&&(C.activeConfig=$e)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Vs(){return yr.apply(this,arguments)}function yr(){return(yr=(0,N.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ni(){(0,J._registerComponent)(new ae.wA("remote-config",function x(C,{instanceIdentifier:A}){const P=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bi.create("registration-window");if(!(0,ie.hl)())throw bi.create("indexed-db-unavailable");const{projectId:Z,apiKey:me,appId:$e}=P.options;if(!Z)throw bi.create("registration-project-id");if(!me)throw bi.create("registration-api-key");if(!$e)throw bi.create("registration-app-id");const Be=new Kc($e,P.name,A=A||"firebase"),at=new uo(Be),Dt=new _e.Yd(Ko);Dt.logLevel=_e.in.ERROR;const St=new Oi(H,J.SDK_VERSION,A,Z,me,$e),lr=new Ga(St,Be),tn=new wt(lr,Be,at,Dt),ts=new Xo(P,tn,at,Be,Dt);return function ki(x){const C=(0,ie.m9)(x);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(Ko,"0.4.4"),(0,J.registerVersion)(Ko,"0.4.4","esm2017")}();const Ol=(x,C)=>C.some(A=>x instanceof A);let ho,Vt;const Nl=new WeakMap,ii=new WeakMap,fo=new WeakMap,ri=new WeakMap,Us=new WeakMap;let si={get(x,C,A){if(x instanceof IDBTransaction){if("done"===C)return ii.get(x);if("objectStoreNames"===C)return x.objectStoreNames||fo.get(x);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return or(x[C])},set:(x,C,A)=>(x[C]=A,!0),has:(x,C)=>x instanceof IDBTransaction&&("done"===C||"store"===C)||C in x};function mo(x){return"function"==typeof x?function Pl(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jo(){return Vt||(Vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...C){return x.apply(Yi(this),C),or(Nl.get(this))}:function(...C){return or(x.apply(Yi(this),C))}:function(C,...A){const P=x.call(Yi(this),C,...A);return fo.set(P,C.sort?C.sort():[C]),or(P)}}(x):(x instanceof IDBTransaction&&function xf(x){if(ii.has(x))return;const C=new Promise((A,P)=>{const H=()=>{x.removeEventListener("complete",Z),x.removeEventListener("error",me),x.removeEventListener("abort",me)},Z=()=>{A(),H()},me=()=>{P(x.error||new DOMException("AbortError","AbortError")),H()};x.addEventListener("complete",Z),x.addEventListener("error",me),x.addEventListener("abort",me)});ii.set(x,C)}(x),Ol(x,function jp(){return ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,si):x)}function or(x){if(x instanceof IDBRequest)return function vi(x){const C=new Promise((A,P)=>{const H=()=>{x.removeEventListener("success",Z),x.removeEventListener("error",me)},Z=()=>{A(or(x.result)),H()},me=()=>{P(x.error),H()};x.addEventListener("success",Z),x.addEventListener("error",me)});return C.then(A=>{A instanceof IDBCursor&&Nl.set(A,x)}).catch(()=>{}),Us.set(C,x),C}(x);if(ri.has(x))return ri.get(x);const C=mo(x);return C!==x&&(ri.set(x,C),Us.set(C,x)),C}const Yi=x=>Us.get(x);function ea(x,C,{blocked:A,upgrade:P,blocking:H,terminated:Z}={}){const me=indexedDB.open(x,C),$e=or(me);return P&&me.addEventListener("upgradeneeded",Be=>{P(or(me.result),Be.oldVersion,Be.newVersion,or(me.transaction))}),A&&me.addEventListener("blocked",()=>A()),$e.then(Be=>{Z&&Be.addEventListener("close",()=>Z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),$e}function ta(x,{blocked:C}={}){const A=indexedDB.deleteDatabase(x);return C&&A.addEventListener("blocked",()=>C()),or(A).then(()=>{})}const Yc=["get","getKey","getAll","getAllKeys","count"],Hp=["put","add","delete","clear"],Fl=new Map;function Qc(x,C){if(!(x instanceof IDBDatabase)||C in x||"string"!=typeof C)return;if(Fl.get(C))return Fl.get(C);const A=C.replace(/FromIndex$/,""),P=C!==A,H=Hp.includes(A);if(!(A in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!Yc.includes(A))return;const Z=function(){var me=(0,N.Z)(function*($e,...Be){const at=this.transaction($e,H?"readwrite":"readonly");let Dt=at.store;return P&&(Dt=Dt.index(Be.shift())),(yield Promise.all([Dt[A](...Be),H&&at.done]))[0]});return function(Be){return me.apply(this,arguments)}}();return Fl.set(C,Z),Z}!function Ni(x){si=x(si)}(x=>({...x,get:(C,A,P)=>Qc(C,A)||x.get(C,A,P),has:(C,A)=>!!Qc(C,A)||x.has(C,A)}));const xu="/firebase-messaging-sw.js",Xc="/firebase-cloud-messaging-push-scope",Iu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zp="https://fcmregistrations.googleapis.com/v1",wn="google.c.a.c_id",$p="google.c.a.c_l",If="google.c.a.ts";var Cu=function(x){return x.PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",x}(Cu||{});function xs(x){const C=new Uint8Array(x);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jc(x){const A=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(A),H=new Uint8Array(P.length);for(let Z=0;Z<P.length;++Z)H[Z]=P.charCodeAt(Z);return H}const na="fcm_token_details_db",ed=5,qa="fcm_token_object_Store";function Wa(){return Wa=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(na))return null;let C=null;return(yield ea(na,ed,{upgrade:(P=(0,N.Z)(function*(H,Z,me,$e){var Be;if(Z<2||!H.objectStoreNames.contains(qa))return;const at=$e.objectStore(qa),Dt=yield at.index("fcmSenderId").get(x);if(yield at.clear(),Dt)if(2===Z){const St=Dt;if(!St.auth||!St.p256dh||!St.endpoint)return;C={token:St.fcmToken,createTime:null!==(Be=St.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:xs(St.vapidKey)}}}else if(3===Z){const St=Dt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:xs(St.auth),p256dh:xs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:xs(St.vapidKey)}}}else if(4===Z){const St=Dt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:xs(St.auth),p256dh:xs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:xs(St.vapidKey)}}}}),function(Z,me,$e,Be){return P.apply(this,arguments)})})).close(),yield ta(na),yield ta("fcm_vapid_details_db"),yield ta("undefined"),function po(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:C}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var P}),Wa.apply(this,arguments)}const Ll="firebase-messaging-database",Du=1,Pi="firebase-messaging-store";let Vl=null;function Ul(){return Vl||(Vl=ea(Ll,Du,{upgrade:(x,C)=>{0===C&&x.createObjectStore(Pi)}})),Vl}function td(x){return ia.apply(this,arguments)}function ia(){return ia=(0,N.Z)(function*(x){const C=Nn(x),P=yield(yield Ul()).transaction(Pi).objectStore(Pi).get(C);if(P)return P;{const H=yield function hv(x){return Wa.apply(this,arguments)}(x.appConfig.senderId);if(H)return yield Df(x,H),H}}),ia.apply(this,arguments)}function Df(x,C){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(x,C){const A=Nn(x),H=(yield Ul()).transaction(Pi,"readwrite");return yield H.objectStore(Pi).put(C,A),yield H.done,C})).apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(x){const C=Nn(x),P=(yield Ul()).transaction(Pi,"readwrite");yield P.objectStore(Pi).delete(C),yield P.done})).apply(this,arguments)}function Nn({appConfig:x}){return x.appId}const Fi=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jl(x,C){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(x,C){const A=yield nd(x),P=Sf(C),H={method:"POST",headers:A,body:JSON.stringify(P)};let Z;try{Z=yield(yield fetch(ra(x.appConfig),H)).json()}catch(me){throw Fi.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(Z.error)throw Fi.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Fi.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function Tu(){return(Tu=(0,N.Z)(function*(x,C){const A=yield nd(x),P=Sf(C.subscriptionOptions),H={method:"PATCH",headers:A,body:JSON.stringify(P)};let Z;try{Z=yield(yield fetch(`${ra(x.appConfig)}/${C.token}`,H)).json()}catch(me){throw Fi.create("token-update-failed",{errorInfo:me?.toString()})}if(Z.error)throw Fi.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Fi.create("token-update-no-token");return Z.token})).apply(this,arguments)}function Su(x,C){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(x,C){const P={method:"DELETE",headers:yield nd(x)};try{const Z=yield(yield fetch(`${ra(x.appConfig)}/${C}`,P)).json();if(Z.error)throw Fi.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch(H){throw Fi.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function ra({projectId:x}){return`${zp}/projects/${x}/registrations`}function nd(x){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*({appConfig:x,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Sf({p256dh:x,auth:C,endpoint:A,vapidKey:P}){const H={web:{endpoint:A,auth:C,p256dh:x}};return P!==Iu&&(H.web.applicationPubKey=P),H}const Af=6048e5;function $l(){return $l=(0,N.Z)(function*(x){const C=yield function Ka(x,C){return id.apply(this,arguments)}(x.swRegistration,x.vapidKey),A={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:C.endpoint,auth:xs(C.getKey("auth")),p256dh:xs(C.getKey("p256dh"))},P=yield td(x.firebaseDependencies);if(P){if(function Ru(x,C){return C.vapidKey===x.vapidKey&&C.endpoint===x.endpoint&&C.auth===x.auth&&C.p256dh===x.p256dh}(P.subscriptionOptions,A))return Date.now()>=P.createTime+Af?function Mf(x,C){return sa.apply(this,arguments)}(x,{token:P.token,createTime:Date.now(),subscriptionOptions:A}):P.token;try{yield Su(x.firebaseDependencies,P.token)}catch(H){console.warn(H)}return ku(x.firebaseDependencies,A)}return ku(x.firebaseDependencies,A)}),$l.apply(this,arguments)}function Mu(){return Mu=(0,N.Z)(function*(x){const C=yield td(x.firebaseDependencies);C&&(yield Su(x.firebaseDependencies,C.token),yield function es(x){return go.apply(this,arguments)}(x.firebaseDependencies));const A=yield x.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Mu.apply(this,arguments)}function sa(){return sa=(0,N.Z)(function*(x,C){try{const A=yield function Za(x,C){return Tu.apply(this,arguments)}(x.firebaseDependencies,C),P=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield Df(x.firebaseDependencies,P),A}catch(A){throw yield function Au(x){return Mu.apply(this,arguments)}(x),A}}),sa.apply(this,arguments)}function ku(x,C){return _o.apply(this,arguments)}function _o(){return(_o=(0,N.Z)(function*(x,C){const P={token:yield jl(x,C),createTime:Date.now(),subscriptionOptions:C};return yield Df(x,P),P.token})).apply(this,arguments)}function id(){return(id=(0,N.Z)(function*(x,C){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jc(C)})})).apply(this,arguments)}function Gl(x){const C={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function vo(x,C){if(!C.notification)return;x.notification={};const A=C.notification.title;A&&(x.notification.title=A);const P=C.notification.body;P&&(x.notification.body=P);const H=C.notification.image;H&&(x.notification.image=H);const Z=C.notification.icon;Z&&(x.notification.icon=Z)}(C,x),function kf(x,C){C.data&&(x.data=C.data)}(C,x),function br(x,C){var A,P,H,Z,me;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;x.fcmOptions={};const $e=null!==(H=null===(P=C.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==H?H:null===(Z=C.notification)||void 0===Z?void 0:Z.click_action;$e&&(x.fcmOptions.link=$e);const Be=null===(me=C.fcmOptions)||void 0===me?void 0:me.analytics_label;Be&&(x.fcmOptions.analyticsLabel=Be)}(C,x),C}function rd(x,C){const A=[];for(let P=0;P<x.length;P++)A.push(x.charAt(P)),P<C.length&&A.push(C.charAt(P));return A.join("")}function ql(x){return Fi.create("missing-app-config-values",{valueName:x})}rd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wl{constructor(C,A,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function un(x){if(!x||!x.options)throw ql("App Configuration Object");if(!x.name)throw ql("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=x;for(const P of C)if(!A[P])throw ql(P);return{appName:x.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:A,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Zl(){return(Zl=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(xu,{scope:Xc}),x.swRegistration.update().catch(()=>{})}catch(C){throw Fi.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function wr(){return(wr=(0,N.Z)(function*(x,C){if(!C&&!x.swRegistration&&(yield function Li(x){return Zl.apply(this,arguments)}(x)),C||!x.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Fi.create("invalid-sw-registration");x.swRegistration=C}})).apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(x,C){C?x.vapidKey=C:x.vapidKey||(x.vapidKey=Iu)})).apply(this,arguments)}function sd(){return sd=(0,N.Z)(function*(x,C){if(!navigator)throw Fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fi.create("permission-blocked");return yield function Pn(x,C){return oa.apply(this,arguments)}(x,C?.vapidKey),yield function Ou(x,C){return wr.apply(this,arguments)}(x,C?.serviceWorkerRegistration),function fv(x){return $l.apply(this,arguments)}(x)}),sd.apply(this,arguments)}function od(){return(od=(0,N.Z)(function*(x,C,A){const P=function Of(x){switch(x){case Cu.NOTIFICATION_CLICKED:return"notification_open";case Cu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:A[wn],message_name:A[$p],message_time:A[If],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yo(){return yo=(0,N.Z)(function*(x,C){const A=C.data;if(!A.isFirebaseMessaging)return;x.onMessageHandler&&A.messageType===Cu.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Gl(A)):x.onMessageHandler.next(Gl(A)));const P=A.data;(function Rf(x){return"object"==typeof x&&!!x&&wn in x})(P)&&"1"===P["google.c.a.e"]&&(yield function js(x,C,A){return od.apply(this,arguments)}(x,A.messageType,P))}),yo.apply(this,arguments)}const bo="@firebase/messaging",It=x=>{const C=new Wl(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Pu(x,C){return yo.apply(this,arguments)}(C,A)),C},Fu=x=>{const C=x.getProvider("messaging").getImmediate();return{getToken:P=>function Nu(x,C){return sd.apply(this,arguments)}(C,P)}};function Lu(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,N.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nf(){(0,J._registerComponent)(new ae.wA("messaging",It,"PUBLIC")),(0,J._registerComponent)(new ae.wA("messaging-internal",Fu,"PRIVATE")),(0,J.registerVersion)(bo,"0.12.4"),(0,J.registerVersion)(bo,"0.12.4","esm2017")}();const pe="analytics",Xt="firebase_id",Yl="origin",Vu=6e4,Gn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qa="https://www.googletagmanager.com/gtag/js",Mn=new _e.Yd("@firebase/analytics"),oi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xo(x){if(!x.startsWith(Qa)){const C=oi.create("invalid-gtag-resource",{gtagURL:x});return Mn.warn(C.message),""}return x}function Ql(x){return Promise.all(x.map(C=>C.catch(A=>A)))}function la(){return(la=(0,N.Z)(function*(x,C,A,P,H,Z){const me=P[H];try{if(me)yield C[me];else{const Be=(yield Ql(A)).find(at=>at.measurementId===H);Be&&(yield C[Be.appId])}}catch($e){Mn.error($e)}x("config",H,Z)})).apply(this,arguments)}function ai(){return(ai=(0,N.Z)(function*(x,C,A,P,H){try{let Z=[];if(H&&H.send_to){let me=H.send_to;Array.isArray(me)||(me=[me]);const $e=yield Ql(A);for(const Be of me){const at=$e.find(St=>St.measurementId===Be),Dt=at&&C[at.appId];if(!Dt){Z=[];break}Z.push(Dt)}}0===Z.length&&(Z=Object.values(C)),yield Promise.all(Z),x("event",P,H||{})}catch(Z){Mn.error(Z)}})).apply(this,arguments)}const Uu=30,Bu=new class Io{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function fd(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function md(){return(md=(0,N.Z)(function*(x){var C;const{appId:A,apiKey:P}=x,H={method:"GET",headers:fd(P)},Z=Gn.replace("{app-id}",A),me=yield fetch(Z,H);if(200!==me.status&&304!==me.status){let $e="";try{const Be=yield me.json();null!==(C=Be.error)&&void 0!==C&&C.message&&($e=Be.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:me.status,responseMessage:$e})}return me.json()})).apply(this,arguments)}function ca(){return(ca=(0,N.Z)(function*(x,C=Bu,A){const{appId:P,apiKey:H,measurementId:Z}=x.options;if(!P)throw oi.create("no-app-id");if(!H){if(Z)return{measurementId:Z,appId:P};throw oi.create("no-api-key")}const me=C.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new zu;return setTimeout((0,N.Z)(function*(){$e.abort()}),void 0!==A?A:Vu),Hu({appId:P,apiKey:H,measurementId:Z},me,$e,C)})).apply(this,arguments)}function Hu(x,C,A){return pd.apply(this,arguments)}function pd(){return pd=(0,N.Z)(function*(x,{throttleEndTimeMillis:C,backoffCount:A},P,H=Bu){var Z;const{appId:me,measurementId:$e}=x;try{yield function Xl(x,C){return new Promise((A,P)=>{const H=Math.max(C-Date.now(),0),Z=setTimeout(A,H);x.addEventListener(()=>{clearTimeout(Z),P(oi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(P,C)}catch(Be){if($e)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:me,measurementId:$e};throw Be}try{const Be=yield function qp(x){return md.apply(this,arguments)}(x);return H.deleteThrottleMetadata(me),Be}catch(Be){const at=Be;if(!function Ja(x){if(!(x instanceof ie.ZR&&x.customData))return!1;const C=Number(x.customData.httpStatus);return 429===C||500===C||503===C||504===C}(at)){if(H.deleteThrottleMetadata(me),$e)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:me,measurementId:$e};throw Be}const Dt=503===Number(null===(Z=at?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ie.$s)(A,H.intervalMillis,Uu):(0,ie.$s)(A,H.intervalMillis),St={throttleEndTimeMillis:Date.now()+Dt,backoffCount:A+1};return H.setThrottleMetadata(me,St),Mn.debug(`Calling attemptFetch again in ${Dt} millis`),Hu(x,St,P,H)}}),pd.apply(this,arguments)}class zu{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Jl,da;function Hs(){return(Hs=(0,N.Z)(function*(x,C,A,P,H){if(H&&H.global)x("event",A,P);else{const Z=yield C;x("event",A,Object.assign(Object.assign({},P),{send_to:Z}))}})).apply(this,arguments)}function Do(){return(Do=(0,N.Z)(function*(){if(!(0,ie.hl)())return Mn.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(x){return Mn.warn(oi.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function jn(){return jn=(0,N.Z)(function*(x,C,A,P,H,Z,me){var $e;const Be=function ju(x){return ca.apply(this,arguments)}(x);Be.then(tn=>{A[tn.measurementId]=tn.appId,x.options.measurementId&&tn.measurementId!==x.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${tn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tn=>Mn.error(tn)),C.push(Be);const at=function tl(){return Do.apply(this,arguments)}().then(tn=>{if(tn)return P.getId()}),[Dt,St]=yield Promise.all([Be,at]);(function hd(x){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Qa)&&A.src.includes(x))return A;return null})(Z)||function Xa(x,C){const A=function cd(x,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(x,C)),A}("firebase-js-sdk-policy",{createScriptURL:xo}),P=document.createElement("script"),H=`${Qa}?l=${x}&id=${C}`;P.src=A?A?.createScriptURL(H):H,P.async=!0,document.head.appendChild(P)}(Z,Dt.measurementId),da&&(H("consent","default",da),function Co(x){da=x}(void 0)),H("js",new Date);const lr=null!==($e=me?.config)&&void 0!==$e?$e:{};return lr[Yl]="firebase",lr.update=!0,null!=St&&(lr[Xt]=St),H("config",Dt.measurementId,lr),Jl&&(H("set",Jl),function Cs(x){Jl=x}(void 0)),Dt.measurementId}),jn.apply(this,arguments)}class lt{constructor(C){this.app=C}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},$u=[];const Gu={};let nc,xi,To="dataLayer",Er=!1;function So(x,C,A){!function ic(){const x=[];if((0,ie.ru)()&&x.push("This is a browser extension environment."),(0,ie.zI)()||x.push("Cookies are not available."),x.length>0){const C=x.map((P,H)=>`(${H+1}) ${P}`).join(" "),A=oi.create("invalid-analytics-context",{errorInfo:C});Mn.warn(A.message)}}();const P=x.options.appId;if(!P)throw oi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw oi.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[P])throw oi.create("already-exists",{id:P});if(!Er){!function Qi(x){let C=[];Array.isArray(window[x])?C=window[x]:window[x]=C}(To);const{wrappedGtag:Z,gtagCore:me}=function ud(x,C,A,P,H){let Z=function(...me){window[P].push(arguments)};return window[H]&&"function"==typeof window[H]&&(Z=window[H]),window[H]=function dd(x,C,A,P){function Z(){return Z=(0,N.Z)(function*(me,...$e){try{if("event"===me){const[Be,at]=$e;yield function Is(x,C,A,P,H){return ai.apply(this,arguments)}(x,C,A,Be,at)}else if("config"===me){const[Be,at]=$e;yield function Fr(x,C,A,P,H,Z){return la.apply(this,arguments)}(x,C,A,P,Be,at)}else if("consent"===me){const[Be]=$e;x("consent","update",Be)}else if("get"===me){const[Be,at,Dt]=$e;x("get",Be,at,Dt)}else if("set"===me){const[Be]=$e;x("set",Be)}else x(me,...$e)}catch(Be){Mn.error(Be)}}),Z.apply(this,arguments)}return function H(me){return Z.apply(this,arguments)}}(Z,x,C,A),{gtagCore:Z,wrappedGtag:window[H]}}(Ei,$u,Gu,To,"gtag");xi=Z,nc=me,Er=!0}return Ei[P]=function $s(x,C,A,P,H,Z,me){return jn.apply(this,arguments)}(x,$u,Gu,C,nc,To,A),new lt(x)}function Ds(){return ar.apply(this,arguments)}function ar(){return(ar=(0,N.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Mo="@firebase/analytics";!function Wu(){(0,J._registerComponent)(new ae.wA(pe,(C,{options:A})=>So(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,J._registerComponent)(new ae.wA("analytics-internal",function x(C){try{const A=C.getProvider(pe).getImmediate();return{logEvent:(P,H,Z)=>function ua(x,C,A,P){x=(0,ie.m9)(x),function Xi(x,C,A,P,H){return Hs.apply(this,arguments)}(xi,Ei[x.app.options.appId],C,A,P).catch(H=>Mn.error(H))}(A,P,H,Z)}}catch(A){throw oi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,J.registerVersion)(Mo,"0.10.0"),(0,J.registerVersion)(Mo,"0.10.0","esm2017")}();var il=O(1954),yd=O(2631);const Zu=new class sl extends yd.v{}(class rl extends il.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,A,P):(C.flush(this),0)}});var Ts=O(6321),Ku=O(9397),ol=O(5137),ko=O(3093);const Gs=new u.GfV("7.6.1"),ha="__angularfire_symbol__analyticsIsSupportedValue",Hn="__angularfire_symbol__analyticsIsSupported",ac="__angularfire_symbol__remoteConfigIsSupportedValue",fa="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Ro="__angularfire_symbol__messagingIsSupported";function Ji(x,C,A){if(C){if(1===C.length)return C[0];const Z=C.filter(me=>me.app===A);if(1===Z.length)return Z[0]}return A.container.getProvider(x).getImmediate({optional:!0})}globalThis[Hn]||(globalThis[Hn]=Ds().then(x=>globalThis[ha]=x).catch(()=>globalThis[ha]=!1)),globalThis[Ro]||(globalThis[Ro]=Lu().then(x=>globalThis[qs]=x).catch(()=>globalThis[qs]=!1)),globalThis[fa]||(globalThis[fa]=Vs().then(x=>globalThis[ac]=x).catch(()=>globalThis[ac]=!1));const bd=(x,C)=>{const A=C?[C]:(0,X.C6)(),P=[];return A.forEach(H=>{H.container.getProvider(x).instances.forEach(me=>{P.includes(me)||P.push(me)})}),P};function Ss(){}class ma{constructor(C,A=Zu){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,P){const H=this.zone;return this.delegate.schedule(function(me){H.runGuarded(()=>{C.apply(this,[me])})},A,P)}}class Yu{constructor(C){this.zone=C,this.task=null}call(C,A){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),A.pipe((0,Ku.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cc=(()=>{class x{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new ma(Zone.current)),this.insideAngular=A.run(()=>new ma(Zone.current,Ts.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(A){return new(A||x)(u.LFG(u.R0b))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Zs(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Yp(x){return Zs(),function ll(x){return function(A){return(A=A.lift(new Yu(x.ngZone))).pipe((0,ol.R)(x.outsideAngular),(0,ko.Q)(x.insideAngular))}}(Zs())(x)}},9058:(ut,Ce,O)=>{O.d(Ce,{$s:()=>Zi,BH:()=>ee,G6:()=>gs,L:()=>fe,LL:()=>Te,Pz:()=>ye,Sg:()=>De,UG:()=>le,US:()=>ae,ZB:()=>Y,ZR:()=>Ie,aH:()=>ne,b$:()=>hi,eu:()=>he,hl:()=>ce,jU:()=>bt,m9:()=>pr,ne:()=>cn,pd:()=>zt,r3:()=>sn,ru:()=>Ht,tV:()=>V,uI:()=>qe,vZ:()=>rr,w1:()=>ps,xO:()=>Ua,xb:()=>ir,z$:()=>Pe,zI:()=>be,zd:()=>ft});const J=function(j){const B=[];let q=0;for(let Ee=0;Ee<j.length;Ee++){let se=j.charCodeAt(Ee);se<128?B[q++]=se:se<2048?(B[q++]=se>>6|192,B[q++]=63&se|128):55296==(64512&se)&&Ee+1<j.length&&56320==(64512&j.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&j.charCodeAt(++Ee)),B[q++]=se>>18|240,B[q++]=se>>12&63|128,B[q++]=se>>6&63|128,B[q++]=63&se|128):(B[q++]=se>>12|224,B[q++]=se>>6&63|128,B[q++]=63&se|128)}return B},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<j.length;se+=3){const Ke=j[se],At=se+1<j.length,xt=At?j[se+1]:0,ti=se+2<j.length,Ot=ti?j[se+2]:0;let $n=(15&xt)<<2|Ot>>6,Xr=63&Ot;ti||(Xr=64,At||($n=64)),Ee.push(q[Ke>>2],q[(3&Ke)<<4|xt>>4],q[$n],q[Xr])}return Ee.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(J(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let q=0,Ee=0;for(;q<j.length;){const se=j[q++];if(se<128)B[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ke=j[q++];B[Ee++]=String.fromCharCode((31&se)<<6|63&Ke)}else if(se>239&&se<365){const ti=((7&se)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;B[Ee++]=String.fromCharCode(55296+(ti>>10)),B[Ee++]=String.fromCharCode(56320+(1023&ti))}else{const Ke=j[q++],At=j[q++];B[Ee++]=String.fromCharCode((15&se)<<12|(63&Ke)<<6|63&At)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<j.length;){const Ke=q[j.charAt(se++)],xt=se<j.length?q[j.charAt(se)]:0;++se;const Ot=se<j.length?q[j.charAt(se)]:64;++se;const Wt=se<j.length?q[j.charAt(se)]:64;if(++se,null==Ke||null==xt||null==Ot||null==Wt)throw new _e;Ee.push(Ke<<2|xt>>4),64!==Ot&&(Ee.push(xt<<4&240|Ot>>2),64!==Wt&&Ee.push(Ot<<6&192|Wt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(j){return function(j){const B=J(j);return ae.encodeByteArray(B,!0)}(j).replace(/\./g,"")},V=function(j){try{return ae.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Y(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!Ve(q)||(j[q]=Y(j[q],B[q]));return j}function Ve(j){return"__proto__"!==j}const Fe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=j&&V(j[1]);return B&&JSON.parse(B)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},ne=()=>{var j;return null===(j=Fe())||void 0===j?void 0:j.config},ye=j=>{var B;return null===(B=Fe())||void 0===B?void 0:B[`_${j}`]};class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,Ee)=>{q?this.reject(q):this.resolve(Ee),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,Ee))}}}function De(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=B||"demo-project",se=j.iat||0,Ke=j.sub||j.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(At)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function le(){var j;const B=null===(j=Fe())||void 0===j?void 0:j.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function Ht(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function hi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ps(){const j=Pe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function gs(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((j,B)=>{try{let q=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),q||self.indexedDB.deleteDatabase(Ee),j(!0)},se.onupgradeneeded=()=>{q=!1},se.onerror=()=>{var Ke;B((null===(Ke=se.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(q){B(q)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor(B,q,Ee){super(q),this.code=B,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(B,q,Ee){this.service=B,this.serviceName=q,this.errors=Ee}create(B,...q){const Ee=q[0]||{},se=`${this.service}/${B}`,Ke=this.errors[B],At=Ke?function tt(j,B){return j.replace(ze,(q,Ee)=>{const se=B[Ee];return null!=se?String(se):`<${Ee}?>`})}(Ke,Ee):"Error";return new Ie(se,`${this.serviceName}: ${At} (${se}).`,Ee)}}const ze=/\{\$([^}]+)}/g;function sn(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function ir(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function rr(j,B){if(j===B)return!0;const q=Object.keys(j),Ee=Object.keys(B);for(const se of q){if(!Ee.includes(se))return!1;const Ke=j[se],At=B[se];if(sr(Ke)&&sr(At)){if(!rr(Ke,At))return!1}else if(Ke!==At)return!1}for(const se of Ee)if(!q.includes(se))return!1;return!0}function sr(j){return null!==j&&"object"==typeof j}function Ua(j){const B=[];for(const[q,Ee]of Object.entries(j))Array.isArray(Ee)?Ee.forEach(se=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(se))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(Ee));return B.length?"&"+B.join("&"):""}function ft(j){const B={};return j.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,Ke]=Ee.split("=");B[decodeURIComponent(se)]=decodeURIComponent(Ke)}}),B}function zt(j){const B=j.indexOf("?");if(!B)return"";const q=j.indexOf("#",B);return j.substring(B,q>0?q:void 0)}function cn(j,B){const q=new In(j,B);return q.subscribe.bind(q)}class In{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(Ee=>{this.error(Ee)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,Ee){let se;if(void 0===B&&void 0===q&&void 0===Ee)throw new Error("Missing Observer.");se=function en(j,B){if("object"!=typeof j||null===j)return!1;for(const q of B)if(q in j&&"function"==typeof j[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:Ee},void 0===se.next&&(se.next=mi),void 0===se.error&&(se.error=mi),void 0===se.complete&&(se.complete=mi);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),Ke}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mi(){}const Fs=1e3,Nr=2,Jn=144e5,ei=.5;function Zi(j,B=Fs,q=Nr){const Ee=B*Math.pow(q,j),se=Math.round(ei*Ee*(Math.random()-.5)*2);return Math.min(Jn,Ee+se)}function pr(j){return j&&j._delegate?j._delegate:j}},6645:(ut,Ce,O)=>{var u=O(5879);let X=null;function N(){return X}class ie{}const ae=new u.OlP("DocumentToken");let _e=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(fe)},providedIn:"platform"}),e})();const Ne=new u.OlP("Location Initialized");let fe=(()=>{var t;class e extends _e{constructor(){super(),this._doc=(0,u.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(i){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,a){this._history.pushState(i,r,a)}replaceState(i,r,a){this._history.replaceState(i,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function V(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function $(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Y(t){return t&&"?"!==t[0]?"?"+t:t}let Ve=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(Ze)},providedIn:"root"}),e})();const Se=new u.OlP("appBaseHref");let Ze=(()=>{var t;class e extends Ve{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return V(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+Y(this._platformLocation.search),a=this._platformLocation.hash;return a&&i?`${r}${a}`:r}pushState(i,r,a,c){const m=this.prepareExternalUrl(a+Y(c));this._platformLocation.pushState(i,r,m)}replaceState(i,r,a,c){const m=this.prepareExternalUrl(a+Y(c));this._platformLocation.replaceState(i,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(_e),u.LFG(Se,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Re=(()=>{var t;class e extends Ve{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=V(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,a,c){let m=this.prepareExternalUrl(a+Y(c));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,r,m)}replaceState(i,r,a,c){let m=this.prepareExternalUrl(a+Y(c));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(_e),u.LFG(Se,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})(),Ge=(()=>{var t;class e{constructor(i){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function ne(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($(ht(r))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Y(r))}normalize(i){return e.stripTrailingSlash(function pt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ht(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",a=null){this._locationStrategy.pushState(a,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Y(r)),a)}replaceState(i,r="",a=null){this._locationStrategy.replaceState(a,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Y(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(a=>a(i,r))}subscribe(i,r,a){return this._subject.subscribe({next:i,error:r,complete:a})}}return(t=e).normalizeQueryParams=Y,t.joinWithSlash=V,t.stripTrailingSlash=$,t.\u0275fac=function(i){return new(i||t)(u.LFG(Ve))},t.\u0275prov=u.Yz7({token:t,factory:function(){return function Fe(){return new Ge((0,u.LFG)(Ve))}()},providedIn:"root"}),e})();function ht(t){return t.replace(/\/index.html$/,"")}class so{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zo=(()=>{var t;class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,a){this._viewContainer=i,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((a,c,m)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new so(a.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)r.remove(null===c?void 0:c);else if(null!==c){const _=r.get(c);r.move(_,m),Gc(_,a)}});for(let a=0,c=r.length;a<c;a++){const _=r.get(a).context;_.index=a,_.count=c,_.ngForOf=this._ngForOf}i.forEachIdentityChange(a=>{Gc(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Gc(t,e){t.context.$implicit=e.item}let oo=(()=>{var t;class e{constructor(i,r){this._viewContainer=i,this._context=new Up,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){wf("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){wf("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b),u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Up{constructor(){this.$implicit=null,this.ngIf=null}}function wf(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Ki{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ao=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const r=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const r of this._defaultViews)r.enforceState(i)}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Sl=(()=>{var t;class e{constructor(i,r,a){this.ngSwitch=a,a._addCase(),this._view=new Ki(i,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ao,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),za=(()=>{var t;class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:a,ngTemplateOutletContext:c,ngTemplateOutletInjector:m}=this;this._viewRef=r.createEmbeddedView(a,c,m?{injector:m}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),e})();class Al{createSubscription(e,n){return(0,u.rg0)(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){(0,u.rg0)(()=>e.unsubscribe())}}class bi{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}}const qc=new bi,Ml=new Al;let Yo=(()=>{var t;class e{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if((0,u.QGY)(i))return qc;if((0,u.F4k)(i))return Ml;throw function _r(t,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.sBO,16))},t.\u0275pipe=u.Yjl({name:"async",type:t,pure:!1,standalone:!0}),e})(),pn=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const ys="browser";function bs(t){return"server"===t}let ni=(()=>{var t;class e{}return(t=e).\u0275prov=(0,u.Yz7)({token:t,providedIn:"root",factory:()=>new ws((0,u.LFG)(ae),window)}),e})();class ws{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Es(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ru extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gl extends Ru{static makeCurrent(){!function J(t){X||(X=t)}(new Gl)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function kf(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}();return null==n?null:function Rf(t){br=br||document.createElement("a"),br.setAttribute("href",t);const e=br.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Jr(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,a]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let br,vo=null,un=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const ql=new u.OlP("EventManagerPlugins");let Wl=(()=>{var t;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,a){return this._findPluginFor(r).addEventListener(i,r,a)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(c=>c.supports(i)),!r)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ql),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class Li{constructor(e){this._doc=e}}const Zl="ng-app-id";let Ou=(()=>{var t;class e{constructor(i,r,a,c={}){this.doc=i,this.appId=r,this.nonce=a,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bs(c),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(a=>a.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${Zl}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(a=>{null!=a.textContent&&r.set(a.textContent,a)}),r}return null}changeUsageCount(i,r){const a=this.styleRef;if(a.has(i)){const c=a.get(i);return c.usage+=r,c.usage}return a.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const a=this.styleNodesInDOM,c=a?.get(r);if(c?.parentNode===i)return a.delete(r),c.removeAttribute(Zl),c;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=r,this.platformIsServer&&m.setAttribute(Zl,this.appId),m}}addStyleToHost(i,r){const a=this.getStyleElement(i,r);i.appendChild(a);const c=this.styleRef,m=c.get(r)?.elements;m?m.push(a):c.set(r,{elements:[a],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const wr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pn=/%COMP%/g,od=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yo(t,e){return e.map(n=>n.replace(Pn,t))}let bo=(()=>{var t;class e{constructor(i,r,a,c,m,_,b,D=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestroy=c,this.doc=m,this.platformId=_,this.ngZone=b,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=bs(_),this.defaultRenderer=new Kl(i,m,b,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ifc.ShadowDom&&(r={...r,encapsulation:u.ifc.Emulated});const a=this.getOrCreateRenderer(i,r);return a instanceof Pf?a.applyToHost(i):a instanceof Ya&&a.applyStyles(),a}getOrCreateRenderer(i,r){const a=this.rendererByCompId;let c=a.get(r.id);if(!c){const m=this.doc,_=this.ngZone,b=this.eventManager,D=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(r.encapsulation){case u.ifc.Emulated:c=new Pf(b,D,r,this.appId,M,m,_,L);break;case u.ifc.ShadowDom:return new Lu(b,D,i,r,m,_,this.nonce,L);default:c=new Ya(b,D,r,M,m,_,L)}a.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Wl),u.LFG(Ou),u.LFG(u.AFp),u.LFG(od),u.LFG(ae),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class Kl{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wr[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Nf(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Nf(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new u.vHH(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const a=wr[r];a?e.setAttributeNS(a,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=wr[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(n,i,r&u.JOm.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&u.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Nf(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Lu extends Kl{constructor(e,n,i,r,a,c,m,_){super(e,a,c,_),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=yo(r.id,r.styles);for(const D of b){const M=document.createElement("style");m&&M.setAttribute("nonce",m),M.textContent=D,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ya extends Kl{constructor(e,n,i,r,a,c,m,_){super(e,a,c,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=_?yo(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pf extends Ya{constructor(e,n,i,r,a,c,m,_){const b=r+"-"+i.id;super(e,n,i,a,c,m,_,b),this.contentAttr=function Of(t){return"_ngcontent-%COMP%".replace(Pn,t)}(b),this.hostAttr=function Pu(t){return"_nghost-%COMP%".replace(Pn,t)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let wo=(()=>{var t;class e extends Li{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,a){return i.addEventListener(r,a,!1),()=>this.removeEventListener(i,r,a)}removeEventListener(i,r,a){return i.removeEventListener(r,a)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const aa=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gp={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ad=(()=>{var t;class e extends Li{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,a){const c=e.parseEventName(r),m=e.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(i,c.domEventName,m))}static parseEventName(i){const r=i.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=e._normalizeKey(r.pop());let m="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),m="code."),aa.forEach(D=>{const M=r.indexOf(D);M>-1&&(r.splice(M,1),m+=D+".")}),m+=c,0!=r.length||0===c.length)return null;const b={};return b.domEventName=a,b.fullKey=m,b}static matchEventFullKeyCode(i,r){let a=Eo[i.key]||i.key,c="";return r.indexOf("code.")>-1&&(a=i.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),aa.forEach(m=>{m!==a&&(0,Gp[m])(i)&&(c+=m+".")}),c+=a,c===r)}static eventCallback(i,r,a){return c=>{e.matchEventFullKeyCode(c,i)&&a.runGuarded(()=>r(c))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const Mn=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ys},{provide:u.g9A,useValue:function Yl(){Gl.makeCurrent()},multi:!0},{provide:ae,useFactory:function Gn(){return(0,u.RDi)(document),document},deps:[]}]),Pr=new u.OlP(""),oi=[{provide:u.rWj,useClass:class rd{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new u.vHH(5103,!1);return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const m=function(_){c=c||_,a--,0==a&&i(c)};r.forEach(_=>{_.whenStable(m)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?N().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],xo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Vu(){return new u.qLn},deps:[]},{provide:ql,useClass:wo,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:ql,useClass:ad,multi:!0,deps:[ae]},bo,Ou,Wl,{provide:u.FYo,useExisting:bo},{provide:class yr{},useClass:un,deps:[]},[]];let Ql=(()=>{var t;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:u.AFp,useValue:i.appId}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Pr,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[...xo,...oi],imports:[pn,u.hGG]}),e})(),la=(()=>{var t;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:function(i){let r=null;return r=i?new i:function Fr(){return new la((0,u.LFG)(ae))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let Xl=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(i){let r=null;return r=i?new(i||t):u.LFG(zu),r},providedIn:"root"}),e})(),zu=(()=>{var t;class e extends Xl{constructor(i){super(),this._doc=i}sanitize(i,r){if(null==r)return null;switch(i){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new u.vHH(5200,!1);case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new u.vHH(5201,!1);default:throw new u.vHH(5202,!1)}}bypassSecurityTrustHtml(i){return(0,u.JVY)(i)}bypassSecurityTrustStyle(i){return(0,u.L6k)(i)}bypassSecurityTrustScript(i){return(0,u.eBb)(i)}bypassSecurityTrustUrl(i){return(0,u.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,u.pB0)(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:function(i){let r=null;return r=i?new i:function Ja(t){return new zu(t.get(ae))}(u.LFG(u.zs3)),r},providedIn:"root"}),e})();var wi=O(6304),Dn=O(2459),qn=O(5592);const{isArray:zs}=Array,{getPrototypeOf:el,prototype:da,keys:Co}=Object;function Cs(t){if(1===t.length){const e=t[0];if(zs(e))return{args:e,keys:null};if(function tl(t){return t&&"object"==typeof t&&el(t)===da}(e)){const n=Co(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}var Do=O(4829),$s=O(4564),jn=O(8251),lt=O(7398);const{isArray:Ei}=Array;function Gu(t){return(0,lt.U)(e=>function $u(t,e){return Ei(e)?t(...e):t(e)}(t,e))}function To(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function tc(...t){const e=(0,$s.jO)(t),{args:n,keys:i}=Cs(t),r=new qn.y(a=>{const{length:c}=n;if(!c)return void a.complete();const m=new Array(c);let _=c,b=c;for(let D=0;D<c;D++){let M=!1;(0,Do.Xf)(n[D]).subscribe((0,jn.x)(a,L=>{M||(M=!0,b--),m[D]=L},()=>_--,void 0,()=>{(!_||!M)&&(b||a.next(i?To(i,m):m),a.complete())}))}});return e?r.pipe(Gu(e)):r}let nc=(()=>{var t;class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t}),e})(),xi=(()=>{var t;class e extends nc{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,features:[u.qOj]}),e})();const Er=new u.OlP("NgValueAccessor"),So={provide:Er,useExisting:(0,u.Gpc)(()=>Ds),multi:!0},Ao=new u.OlP("CompositionEventMode");let Ds=(()=>{var t;class e extends nc{constructor(i,r,a){super(i,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kp(){const t=N()?N().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ao,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([So]),u.qOj]}),e})();function ar(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function rc(t){return null!=t&&"number"==typeof t.length}const Ii=new u.OlP("NgValidators"),Lr=new u.OlP("NgAsyncValidators"),qu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hn{static min(e){return function _d(t){return e=>{if(ar(e.value)||ar(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function sc(t){return e=>{if(ar(e.value)||ar(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function ua(t){return ar(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vd(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function Mo(t){return ar(t.value)||qu.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function nl(t){return e=>ar(e.value)||!rc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Wu(t){return e=>rc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function il(t){if(!t)return rl;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(ar(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return ol(e)}static composeAsync(e){return Gs(e)}}function rl(t){return null}function yd(t){return null!=t}function sl(t){return(0,u.QGY)(t)?(0,Dn.D)(t):t}function Zu(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oc(t,e){return e.map(n=>n(t))}function Ku(t){return t.map(e=>function Ts(t){return!t.validate}(e)?e:n=>e.validate(n))}function ol(t){if(!t)return null;const e=t.filter(yd);return 0==e.length?null:function(n){return Zu(oc(n,e))}}function ko(t){return null!=t?ol(Ku(t)):null}function Gs(t){if(!t)return null;const e=t.filter(yd);return 0==e.length?null:function(n){return tc(oc(n,e).map(sl)).pipe((0,lt.U)(Zu))}}function ha(t){return null!=t?Gs(Ku(t)):null}function Hn(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ac(t){return t._rawValidators}function fa(t){return t._rawAsyncValidators}function qs(t){return t?Array.isArray(t)?t:[t]:[]}function Ro(t,e){return Array.isArray(t)?t.includes(e):t===e}function al(t,e){const n=qs(e);return qs(t).forEach(r=>{Ro(n,r)||n.push(r)}),n}function lc(t,e){return qs(e).filter(n=>!Ro(t,n))}class Ws{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ko(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ha(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Wn extends Ws{get formDirective(){return null}get path(){return null}}class Ji extends Ws{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yu=(()=>{var t;class e extends bd{constructor(i){super(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Ji,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),e})(),cc=(()=>{var t;class e extends bd{constructor(i){super(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Wn,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),e})();const Be="VALID",at="INVALID",Dt="PENDING",St="DISABLED";function lr(t){return(As(t)?t.validators:t)||null}function ts(t,e){return(As(e)?e.asyncValidators:t)||null}function As(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function cr(t,e,n){const i=t.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[n])throw new u.vHH(1001,"")}function ns(t,e,n){t._forEachChild((i,r)=>{if(void 0===n[r])throw new u.vHH(1002,"")})}class cl{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===at}get pending(){return this.status==Dt}get disabled(){return this.status===St}get enabled(){return this.status!==St}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(al(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(al(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lc(e,this._rawAsyncValidators))}hasValidator(e){return Ro(this._rawValidators,e)}hasAsyncValidator(e){return Ro(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dt,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=St,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Be,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===Dt)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?St:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dt,this._hasOwnPendingAsyncValidator=!0;const n=sl(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?St:this.errors?at:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dt)?Dt:this._anyControlsHaveStatus(at)?at:Be}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){As(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tn(t){return Array.isArray(t)?ko(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ks(t){return Array.isArray(t)?ha(t):t||null}(this._rawAsyncValidators)}}class dl extends cl{constructor(e,n,i){super(lr(n),ts(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ns(this,0,e),Object.keys(e).forEach(i=>{cr(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,a)=>{i=n(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Qu extends dl{}const Vr=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>dc}),dc="always";function wd(t,e,n=dc){Ed(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Jp(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ya(t,e)})}(t,e),function uc(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function aw(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ya(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xp(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ul(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),va(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ed(t,e){const n=ac(t);null!==e.validator?t.setValidators(Hn(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=fa(t);null!==e.asyncValidator?t.setAsyncValidators(Hn(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();Xu(e._rawValidators,r),Xu(e._rawAsyncValidators,r)}function va(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=ac(t);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(n=!0,t.setValidators(a))}}if(null!==e.asyncValidator){const r=fa(t);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(n=!0,t.setAsyncValidators(a))}}}const i=()=>{};return Xu(e._rawValidators,i),Xu(e._rawAsyncValidators,i),n}function ya(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hc(t,e){Ed(t,e)}function hl(t,e){t._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const lw={provide:Wn,useExisting:(0,u.Gpc)(()=>th)},fc=(()=>Promise.resolve())();let th=(()=>{var t;class e extends Wn{constructor(i,r,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new dl({},ko(i),ha(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){fc.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),wd(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){fc.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){fc.then(()=>{const r=this._findContainer(i.path),a=new dl({});hc(a,i),r.registerControl(i.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){fc.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){fc.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,hl(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Ii,10),u.Y36(Lr,10),u.Y36(Vr,8))},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([lw]),u.qOj]}),e})();function nh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function tg(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const fl=class extends cl{constructor(e=null,n,i){super(lr(n),ts(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),As(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=tg(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tg(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let sh=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const mc={provide:Er,useExisting:(0,u.Gpc)(()=>ba),multi:!0};let ba=(()=>{var t;class e extends xi{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=r=>{i(""==r?null:parseFloat(r))}}}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([mc]),u.qOj]}),e})(),Id=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const Dd=new u.OlP("NgModelWithFormControlWarning"),Wf={provide:Wn,useExisting:(0,u.Gpc)(()=>pc)};let pc=(()=>{var t;class e extends Wn{constructor(i,r,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(va(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const r=this.form.get(i.path);return wd(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){ul(i.control||null,i,!1),function vv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,hl(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const r=i.control,a=this.form.get(i.path);r!==a&&(ul(r||null,i),(t=>t instanceof fl)(a)&&(wd(a,i,this.callSetDisabledState),i.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const r=this.form.get(i.path);hc(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const r=this.form.get(i.path);r&&function Bf(t,e){return va(t,e)}(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ed(this.form,this),this._oldForm&&va(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Ii,10),u.Y36(Lr,10),u.Y36(Vr,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Wf]),u.qOj,u.TTD]}),e})();const Td={provide:Ji,useExisting:(0,u.Gpc)(()=>Sd)};let Sd=(()=>{var t;class e extends Ji{set isDisabled(i){}constructor(i,r,a,c,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function eh(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Ds?n=a:function _v(t){return Object.getPrototypeOf(t.constructor)===xi}(a)?i=a:r=a}),r||i||n||null}(0,c)}ngOnChanges(i){this._added||this._setUpControl(),function Hf(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function _a(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(i){return new(i||t)(u.Y36(Wn,13),u.Y36(Ii,10),u.Y36(Lr,10),u.Y36(Er,10),u.Y36(Dd,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Td]),u.qOj,u.TTD]}),e})(),rt=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Id]}),e})();class gn extends cl{constructor(e,n,i){super(lr(n),ts(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ns(this,0,e),e.forEach((i,r)=>{cr(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Xf(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Od,mh=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const i=new e;return i.useNonNullable=!0,i}group(i,r=null){const a=this._reduceControls(i);let c={};return Xf(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new dl(a,c)}record(i,r=null){const a=this._reduceControls(i);return new Qu(a,r)}control(i,r,a){let c={};return this.useNonNullable?(Xf(r)?c=r:(c.validators=r,c.asyncValidators=a),new fl(i,{...c,nonNullable:!0})):new fl(i,r,a)}array(i,r,a){const c=i.map(m=>this._createControl(m));return new gn(c,r,a)}_reduceControls(i){const r={};return Object.keys(i).forEach(a=>{r[a]=this._createControl(i[a])}),r}_createControl(i){return i instanceof fl||i instanceof cl?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),em=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Vr,useValue:i.callSetDisabledState??dc}]}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[rt]}),e})(),tm=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Dd,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Vr,useValue:i.callSetDisabledState??dc}]}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[rt]}),e})();try{Od=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Od=!1}let xa,Oo=(()=>{var t;class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function Eu(t){return t===ys}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Od)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.Lbi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const im=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Iv(){if(xa)return xa;if("object"!=typeof document||!document)return xa=new Set(im),xa;let t=document.createElement("input");return xa=new Set(im.filter(e=>(t.setAttribute("type",e),t.type===e))),xa}let ph;function gh(t){return function Cv(){if(null==ph&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ph=!0}))}finally{ph=ph||!1}return ph}()?t:!!t.capture}var li=O(8645),Pd=O(7394),ci=O(9397),Ld=O(6321),Ir=O(9360);function am(t,e=Ld.z){return(0,Ir.e)((n,i)=>{let r=null,a=null,c=null;const m=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=c+t,D=e.now();if(D<b)return r=this.schedule(void 0,b-D),void i.add(r);m()}n.subscribe((0,jn.x)(i,b=>{a=b,c=e.now(),r||(r=e.schedule(_,t),i.add(r))},()=>{m(),i.complete()},void 0,()=>{a=r=null}))})}function Bi(t,e){return(0,Ir.e)((n,i)=>{let r=0;n.subscribe((0,jn.x)(i,a=>t.call(e,a,r++)&&i.next(a)))})}function er(t){return null!=t&&"false"!=`${t}`}function Eh(t,e=0){return function kw(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function gg(t){return Array.isArray(t)?t:[t]}function _g(t){return t instanceof u.SBq?t.nativeElement:t}var gc=O(2737),VT=O(7103);function lm(...t){const e=(0,$s.yG)(t),n=(0,$s.jO)(t),{args:i,keys:r}=Cs(t);if(0===i.length)return(0,Dn.D)([],e);const a=new qn.y(function UT(t,e,n=gc.y){return i=>{Ow(e,()=>{const{length:r}=t,a=new Array(r);let c=r,m=r;for(let _=0;_<r;_++)Ow(e,()=>{const b=(0,Dn.D)(t[_],e);let D=!1;b.subscribe((0,jn.x)(i,M=>{a[_]=M,D||(D=!0,m--),m||i.next(n(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>To(r,c):gc.y));return n?a.pipe(Gu(n)):a}function Ow(t,e,n){t?(0,VT.f)(n,t,e):e()}var Vd=O(7537);function vg(...t){return function Nw(){return(0,Vd.J)(1)}()((0,Dn.D)(t,(0,$s.yG)(t)))}var gl=O(6232);function _c(t){return t<=0?()=>gl.E:(0,Ir.e)((e,n)=>{let i=0;e.subscribe((0,jn.x)(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function vc(...t){const e=(0,$s.yG)(t);return(0,Ir.e)((n,i)=>{(e?vg(t,n,e):vg(t,n)).subscribe(i)})}var Vv=O(2420);function yc(t){return(0,Ir.e)((e,n)=>{(0,Do.Xf)(t).subscribe((0,jn.x)(n,()=>n.complete(),Vv.Z)),!n.closed&&e.subscribe(n)})}const yg=new Set;let Ca,HT=(()=>{var t;class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zT}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function Pw(t,e){if(!yg.has(t))try{Ca||(Ca=document.createElement("style"),e&&(Ca.nonce=e),Ca.setAttribute("type","text/css"),document.head.appendChild(Ca)),Ca.sheet&&(Ca.sheet.insertRule(`@media ${t} {body{ }}`,0),yg.add(t))}catch(n){console.error(n)}}(i,this._nonce),this._matchMedia(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Oo),u.LFG(u.Ojb,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zT(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Fw=(()=>{var t;class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new li.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return $T(gg(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let c=lm($T(gg(i)).map(m=>this._registerQuery(m).observable));return c=vg(c.pipe(_c(1)),c.pipe(function BT(t){return Bi((e,n)=>t<=n)}(1),am(0))),c.pipe((0,lt.U)(m=>{const _={matches:!1,breakpoints:{}};return m.forEach(({matches:b,query:D})=>{_.matches=_.matches||b,_.breakpoints[D]=b}),_}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const r=this._mediaMatcher.matchMedia(i),c={observable:new qn.y(m=>{const _=b=>this._zone.run(()=>m.next(b));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(vc(r),(0,lt.U)(({matches:m})=>({query:i,matches:m})),yc(this._destroySubject)),mql:r};return this._queries.set(i,c),c}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(HT),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $T(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const zw="cdk-high-contrast-black-on-white",oS="cdk-high-contrast-white-on-black",$w="cdk-high-contrast-active";let Gw=(()=>{var t;class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=(0,u.f3M)(Fw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(i):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove($w,zw,oS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?i.add($w,zw):2===r&&i.add($w,oS)}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Oo),u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const vP=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function qw(){return(0,u.f3M)(ae)}}),Eg=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Zw=(()=>{var t;class e{constructor(i){this.value="ltr",this.change=new u.vpe,i&&(this.value=function Ww(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Eg.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(vP,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Bt=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const Gv=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xw(){return!0}});let ss=(()=>{var t;class e{constructor(i,r,a){this._sanityChecks=r,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!function fw(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Gw),u.LFG(Gv,8),u.LFG(ae))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Bt,Bt]}),e})();function Jw(t,e){return class extends t{get color(){return this._color}set color(n){const i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function eE(t){return class extends t{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let nE=(()=>{var t;class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class pS{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iE=gh({passive:!0,capture:!0});class gS{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=function hT(t){return t.composedPath?t.composedPath()[0]:t.target}(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,n,i,r){const a=this._events.get(n);if(a){const c=a.get(i);c?c.add(r):a.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,iE)})}removeHandler(e,n,i){const r=this._events.get(e);if(!r)return;const a=r.get(n);a&&(a.delete(i),0===a.size&&r.delete(n),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iE)))}}const rE={enterDuration:225,exitDuration:150},Cg=gh({passive:!0,capture:!0}),sE=["mousedown","touchstart"],qv=["mouseup","mouseleave","touchend","touchcancel"];class gm{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_g(i))}fadeInRipple(e,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...rE,...i.animation};i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);const c=i.radius||function oE(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(e,n,r),m=e-r.left,_=n-r.top,b=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=m-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D);const M=window.getComputedStyle(D),U=M.transitionDuration,W="none"===M.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,re=new pS(this,D,i,W);D.style.transform="scale3d(1, 1, 1)",re.state=0,i.persistent||(this._mostRecentTransientRipple=re);let ge=null;return!W&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(re),Je=()=>this._destroyRipple(re);D.addEventListener("transitionend",je),D.addEventListener("transitioncancel",Je),ge={onTransitionEnd:je,onTransitionCancel:Je}}),this._activeRipples.set(re,ge),(W||!b)&&this._finishRippleTransition(re),re}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,i={...rE,...e.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=_g(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,sE.forEach(i=>{gm._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qv.forEach(n=>{this._triggerElement.addEventListener(n,this,Cg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=function tS(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function Bw(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(sE.forEach(n=>gm._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&qv.forEach(n=>e.removeEventListener(n,this,Cg)))}}gm._eventManager=new gS;const Dg=new u.OlP("mat-ripple-global-options");let Zv=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,ss]}),e})(),aE=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss]}),e})();var vt=O(2096),Ih=O(4674);function Sa(t,e){const n=(0,Ih.m)(t)?t:()=>t,i=r=>r.error(n());return new qn.y(e?r=>e.schedule(i,0,r):i)}function Ec(t){return(0,Ir.e)((e,n)=>{let a,i=null,r=!1;i=e.subscribe((0,jn.x)(n,void 0,void 0,c=>{a=(0,Do.Xf)(t(c,Ec(t)(e))),i?(i.unsubscribe(),i=null,a.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(n))})}function _m(t){return(0,Ir.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var Qv=O(3020),jr=O(1631);function Ch(t,e){return(0,Ih.m)(e)?(0,jr.z)(t,e,1):(0,jr.z)(t,1)}class Bd{}class _l{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),a=r.toLowerCase(),c=n.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof _l?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new _l;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof _l?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(n);if(!c)return;c=c.filter(m=>-1===a.indexOf(m)),0===c.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const i=(Array.isArray(n)?n:[n]).map(a=>a.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class xS{encodeKey(e){return dE(e)}encodeValue(e){return dE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const CS=/%(\d[a-f0-9])/gi,DS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dE(t){return encodeURIComponent(t).replace(CS,(e,n)=>DS[n]??e)}function vm(t){return`${t}`}class Aa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xS,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function IS(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,m]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=n.get(c)||[];_.push(m),n.set(c,_)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],r=Array.isArray(i)?i.map(vm):[vm(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{n.push({param:i,value:a,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Aa({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(vm(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(vm(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Sg{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function uE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hE(t){return typeof Blob<"u"&&t instanceof Blob}function fE(t){return typeof FormData<"u"&&t instanceof FormData}class ym{constructor(e,n,i,r){let a;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function TS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new _l),this.context||(this.context=new Sg),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+c}}else this.params=new Aa,this.urlWithParams=n}serializeBody(){return null===this.body?null:uE(this.body)||hE(this.body)||fE(this.body)||function SS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Aa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fE(this.body)?null:hE(this.body)?this.body.type||null:uE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Aa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,L)=>M.set(L,e.setHeaders[L]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,L)=>M.set(L,e.setParams[L]),b)),new ym(n,i,a,{params:b,headers:_,context:D,reportProgress:m,responseType:r,withCredentials:c})}}var Jv=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Jv||{});class mE{constructor(e,n=200,i="OK"){this.headers=e.headers||new _l,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class bm extends mE{constructor(e={}){super(e),this.type=Jv.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Ag(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Mg=(()=>{var t;class e{constructor(i){this.handler=i}request(i,r,a={}){let c;if(i instanceof ym)c=i;else{let b,D;b=a.headers instanceof _l?a.headers:new _l(a.headers),a.params&&(D=a.params instanceof Aa?a.params:new Aa({fromObject:a.params})),c=new ym(i,r,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:D,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const m=(0,vt.of)(c).pipe(Ch(b=>this.handler.handle(b)));if(i instanceof ym||"events"===a.observe)return m;const _=m.pipe(Bi(b=>b instanceof bm));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,lt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return _.pipe((0,lt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new Aa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,a={}){return this.request("PATCH",i,Ag(a,r))}post(i,r,a={}){return this.request("POST",i,Ag(a,r))}put(i,r,a={}){return this.request("PUT",i,Ag(a,r))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Bd))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const WP=["*"];let Ug;function Hd(t){return function HS(){if(void 0===Ug&&(Ug=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Ug=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ug}()?.createHTML(t)||t}function IE(t){return Error(`Unable to find icon with the name "${t}"`)}function DE(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function TE(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ic{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}}let Sm=(()=>{var t;class e{constructor(i,r,a,c){this._httpClient=i,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=a}addSvgIcon(i,r,a){return this.addSvgIconInNamespace("",i,r,a)}addSvgIconLiteral(i,r,a){return this.addSvgIconLiteralInNamespace("",i,r,a)}addSvgIconInNamespace(i,r,a,c){return this._addSvgIconConfig(i,r,new Ic(a,null,c))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,a,c){const m=this._sanitizer.sanitize(u.q3G.HTML,a);if(!m)throw TE(a);const _=Hd(m);return this._addSvgIconConfig(i,r,new Ic("",_,c))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,a){return this._addSvgIconSetConfig(i,new Ic(r,null,a))}addSvgIconSetLiteralInNamespace(i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw TE(r);const m=Hd(c);return this._addSvgIconSetConfig(i,new Ic("",m,a))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!r)throw DE(i);const a=this._cachedIconsByUrl.get(r);return a?(0,vt.of)(Bg(a)):this._loadSvgIconFromConfig(new Ic(i,null)).pipe((0,ci.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,lt.U)(c=>Bg(c)))}getNamedSvgIcon(i,r=""){const a=AE(r,i);let c=this._svgIconConfigs.get(a);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,i),c)return this._svgIconConfigs.set(a,c),this._getSvgFromConfig(c);const m=this._iconSetConfigs.get(r);return m?this._getSvgFromIconSetConfigs(i,m):Sa(IE(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?(0,vt.of)(Bg(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe((0,lt.U)(r=>Bg(r)))}_getSvgFromIconSetConfigs(i,r){const a=this._extractIconWithNameFromAnySet(i,r);return a?(0,vt.of)(a):tc(r.filter(m=>!m.svgText).map(m=>this._loadSvgIconSetFromConfig(m).pipe(Ec(_=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,m.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(D)),(0,vt.of)(null)})))).pipe((0,lt.U)(()=>{const m=this._extractIconWithNameFromAnySet(i,r);if(!m)throw IE(i);return m}))}_extractIconWithNameFromAnySet(i,r){for(let a=r.length-1;a>=0;a--){const c=r[a];if(c.svgText&&c.svgText.toString().indexOf(i)>-1){const m=this._svgElementFromConfig(c),_=this._extractSvgIconFromSet(m,i,c.options);if(_)return _}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe((0,ci.b)(r=>i.svgText=r),(0,lt.U)(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?(0,vt.of)(null):this._fetchIcon(i).pipe((0,ci.b)(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,a){const c=i.querySelector(`[id="${r}"]`);if(!c)return null;const m=c.cloneNode(!0);if(m.removeAttribute("id"),"svg"===m.nodeName.toLowerCase())return this._setSvgAttributes(m,a);if("symbol"===m.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(m),a);const _=this._svgElementFromString(Hd("<svg></svg>"));return _.appendChild(m),this._setSvgAttributes(_,a)}_svgElementFromString(i){const r=this._document.createElement("DIV");r.innerHTML=i;const a=r.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(i){const r=this._svgElementFromString(Hd("<svg></svg>")),a=i.attributes;for(let c=0;c<a.length;c++){const{name:m,value:_}=a[c];"id"!==m&&r.setAttribute(m,_)}for(let c=0;c<i.childNodes.length;c++)i.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){const{url:r,options:a}=i,c=a?.withCredentials??!1;if(!this._httpClient)throw function CE(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const m=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!m)throw DE(r);const _=this._inProgressUrlFetches.get(m);if(_)return _;const b=this._httpClient.get(m,{responseType:"text",withCredentials:c}).pipe((0,lt.U)(D=>Hd(D)),_m(()=>this._inProgressUrlFetches.delete(m)),(0,Qv.B)());return this._inProgressUrlFetches.set(m,b),b}_addSvgIconConfig(i,r,a){return this._svgIconConfigs.set(AE(i,r),a),this}_addSvgIconSetConfig(i,r){const a=this._iconSetConfigs.get(i);return a?a.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){const r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let a=0;a<this._resolvers.length;a++){const c=this._resolvers[a](r,i);if(c)return ME(c)?new Ic(c.url,null,c.options):new Ic(c,null)}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Mg,8),u.LFG(Xl),u.LFG(ae,8),u.LFG(u.qLn))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Bg(t){return t.cloneNode(!0)}function AE(t,e){return t+":"+e}function ME(t){return!(!t.url||!t.options)}const ly=Jw(class{constructor(t){this._elementRef=t}}),cy=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),zS=new u.OlP("mat-icon-location",{providedIn:"root",factory:function jg(){const t=(0,u.f3M)(ae),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Am=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dy=Am.map(t=>`[${t}]`).join(", "),kE=/^url\(['"]?#(.*?)['"]?\)$/;let RE=(()=>{var t;class e extends ly{get inline(){return this._inline}set inline(i){this._inline=er(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,a,c,m,_){super(i),this._iconRegistry=r,this._location=c,this._errorHandler=m,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pd.w0.EMPTY,_&&(_.color&&(this.color=this.defaultColor=_.color),_.fontSet&&(this.fontSet=_.fontSet)),a||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const a=i.childNodes[r];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>i.classList.remove(a)),r.forEach(a=>i.classList.add(a)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const r=this._elementsWithExternalReferences;r&&r.forEach((a,c)=>{a.forEach(m=>{c.setAttribute(m.name,`url('${i}#${m.value}')`)})})}_cacheChildrenWithExternalReferences(i){const r=i.querySelectorAll(dy),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)Am.forEach(m=>{const _=r[c],b=_.getAttribute(m),D=b?b.match(kE):null;if(D){let M=a.get(_);M||(M=[],a.set(_,M)),M.push({name:m,value:D[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[r,a]=this._splitIconName(i);r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe(_c(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${a}! ${c.message}`))})}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(Sm),u.$8M("aria-hidden"),u.Y36(zS),u.Y36(u.qLn),u.Y36(cy,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:WP,decls:1,vars:0,template:function(i,r){1&i&&(u.F$t(),u.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),$S=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,ss]}),e})();const OE=gh({passive:!0});let uy=(()=>{var t;class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return gl.E;const r=_g(i),a=this._monitoredElements.get(r);if(a)return a.subject;const c=new li.x,m="cdk-text-field-autofilled",_=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(m)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(m)&&(r.classList.remove(m),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!1}))):(r.classList.add(m),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",_,OE),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",_,OE)}}),c}stopMonitoring(i){const r=_g(i),a=this._monitoredElements.get(r);a&&(a.unlisten(),a.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Oo),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),PE=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();var hy=O(3019),qS=O(4552);class FE extends li.x{constructor(e=1/0,n=1/0,i=qS.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;n||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=n.now();let m=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)m=_;m&&i.splice(0,m+1)}}}function Mm(t,e,n){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t):i=t??1/0,(0,Qv.B)({connector:()=>new FE(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class fy{constructor(e){this._box=e,this._destroyed=new li.x,this._resizeSubject=new li.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new qn.y(n=>{const i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Bi(n=>n.some(i=>i.target===e)),Mm({bufferSize:1,refCount:!0}),yc(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let LE=(()=>{var t;class e{constructor(){this._observers=new Map,this._ngZone=(0,u.f3M)(u.R0b)}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear()}observe(i,r){const a=r?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new fy(a)),this._observers.get(a).observe(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class VE{}class UE{}const Ma="*";function BE(t,e){return{type:7,name:t,definitions:e,options:{}}}function jE(t,e=null){return{type:4,styles:e,timings:t}}function my(t,e=null){return{type:2,steps:t,options:e}}function km(t){return{type:6,styles:t,offset:null}}function py(t,e,n){return{type:0,name:t,styles:e,options:n}}function zE(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class Mh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class gy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++n==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}let yl=(()=>{var t;class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),JS=(()=>{var t;class e{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,r)=>this._cleanupObserver(r))}observe(i){const r=_g(i);return new qn.y(a=>{const m=this._observeElement(r).subscribe(a);return()=>{m.unsubscribe(),this._unobserveElement(r)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const r=new li.x,a=this._mutationObserverFactory.create(c=>r.next(c));a&&a.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:a,stream:r,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:r,stream:a}=this._observedElements.get(i);r&&r.disconnect(),a.complete(),this._observedElements.delete(i)}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(yl))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$E=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(i){this._disabled=er(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Eh(i),this._subscribe()}constructor(i,r,a){this._contentObserver=i,this._elementRef=r,this._ngZone=a,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(am(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(JS),u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),Hg=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[yl]}),e})();const zd=["notch"],_y=["matFormFieldNotchedOutline",""],eA=["*"],vy=["textField"],YP=["iconPrefixContainer"],QP=["textPrefixContainer"];function tA(t,e){1&t&&u._UZ(0,"span",19)}function nA(t,e){if(1&t&&(u.TgZ(0,"label",17),u.Hsn(1,1),u.YNc(2,tA,1,0,"span",18),u.qZA()),2&t){const n=u.oxw(2);u.Q6J("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),u.uIk("for",n._control.id),u.xp6(2),u.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required)}}function GE(t,e){if(1&t&&u.YNc(0,nA,3,5,"label",16),2&t){const n=u.oxw();u.Q6J("ngIf",n._hasFloatingLabel())}}function iA(t,e){1&t&&u._UZ(0,"div",20)}function ji(t,e){}function qE(t,e){if(1&t&&u.YNc(0,ji,0,0,"ng-template",22),2&t){u.oxw(2);const n=u.MAs(1);u.Q6J("ngTemplateOutlet",n)}}function rA(t,e){if(1&t&&(u.TgZ(0,"div",21),u.YNc(1,qE,1,1,"ng-template",9),u.qZA()),2&t){const n=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),u.xp6(1),u.Q6J("ngIf",!n._forceDisplayInfixLabel())}}function sA(t,e){1&t&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function WE(t,e){1&t&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function oA(t,e){}function ZE(t,e){if(1&t&&u.YNc(0,oA,0,0,"ng-template",22),2&t){u.oxw();const n=u.MAs(1);u.Q6J("ngTemplateOutlet",n)}}function KE(t,e){1&t&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function Rh(t,e){1&t&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function aA(t,e){1&t&&u._UZ(0,"div",29)}function lA(t,e){if(1&t&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&t){const n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState)}}function YE(t,e){if(1&t&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&t){const n=u.oxw(2);u.Q6J("id",n._hintLabelId),u.xp6(1),u.Oqu(n.hintLabel)}}function cA(t,e){if(1&t&&(u.TgZ(0,"div",31),u.YNc(1,YE,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&t){const n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",n.hintLabel)}}const QE=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],XP=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Rm=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-label"]]}),e})();const ka=new u.OlP("MatError");let dA=0,Po=(()=>{var t;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+dA++}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(u.Ikx("id",r.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),e})();const Fo=new u.OlP("MatPrefix"),JE=new u.OlP("MatSuffix"),ex=new u.OlP("FloatingLabelParent");let tx=(()=>{var t;class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,u.f3M)(LE),this._ngZone=(0,u.f3M)(u.R0b),this._parent=(0,u.f3M)(ex),this._resizeSubscription=new Pd.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function hA(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const i=n.scrollWidth;return n.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&u.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const nx="mdc-line-ripple--active",Oh="mdc-line-ripple--deactivating";let Nh=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=a=>{const c=this._elementRef.nativeElement.classList,m=c.contains(Oh);"opacity"===a.propertyName&&m&&c.remove(nx,Oh)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(Oh),i.add(nx)}deactivate(){this._elementRef.nativeElement.classList.add(Oh)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275dir=u.lG2({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),ix=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){this._notch.nativeElement.style.width=this.open&&i?`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&u.Gf(zd,5),2&i){let a;u.iGM(a=u.CRH())&&(r._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&u.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:_y,ngContentSelectors:eA,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1,2),u.Hsn(3),u.qZA(),u._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const rx={transitionMessages:BE("transitionMessages",[py("enter",km({opacity:1,transform:"translateY(0%)"})),zE("void => enter",[km({opacity:0,transform:"translateY(-5px)"}),jE("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sx=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t}),e})();const Om=new u.OlP("MatFormField"),pA=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yy=0,zg=(()=>{var t;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=er(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const r=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,a,c,m,_,b,D){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=a,this._dir=c,this._platform=m,this._defaults=_,this._animationMode=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yy++,this._hintLabelId="mat-mdc-hint-"+yy++,this._subscriptAnimationState="",this._destroyed=new li.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,_&&(_.appearance&&(this.appearance=_.appearance),this._hideRequiredMarker=!!_?.hideRequiredMarker,_.color&&(this.color=_.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(yc(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,hy.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yc(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(yc(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,a=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),a&&i.push(a.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,a=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,m=a?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+m}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Zw),u.Y36(Oo),u.Y36(pA,8),u.Y36(u.QbO,8),u.Y36(ae))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,a){if(1&i&&(u.Suo(a,Rm,5),u.Suo(a,Rm,7),u.Suo(a,sx,5),u.Suo(a,Fo,5),u.Suo(a,JE,5),u.Suo(a,ka,5),u.Suo(a,Po,5)),2&i){let c;u.iGM(c=u.CRH())&&(r._labelChildNonStatic=c.first),u.iGM(c=u.CRH())&&(r._labelChildStatic=c.first),u.iGM(c=u.CRH())&&(r._formFieldControl=c.first),u.iGM(c=u.CRH())&&(r._prefixChildren=c),u.iGM(c=u.CRH())&&(r._suffixChildren=c),u.iGM(c=u.CRH())&&(r._errorChildren=c),u.iGM(c=u.CRH())&&(r._hintChildren=c)}},viewQuery:function(i,r){if(1&i&&(u.Gf(vy,5),u.Gf(YP,5),u.Gf(QP,5),u.Gf(tx,5),u.Gf(ix,5),u.Gf(Nh,5)),2&i){let a;u.iGM(a=u.CRH())&&(r._textField=a.first),u.iGM(a=u.CRH())&&(r._iconPrefixContainer=a.first),u.iGM(a=u.CRH())&&(r._textPrefixContainer=a.first),u.iGM(a=u.CRH())&&(r._floatingLabel=a.first),u.iGM(a=u.CRH())&&(r._notchedOutline=a.first),u.iGM(a=u.CRH())&&(r._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&u.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:Om,useExisting:t},{provide:ex,useExisting:t}])],ngContentSelectors:XP,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(u.F$t(QE),u.YNc(0,GE,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(c){return r._control.onContainerClick(c)}),u.YNc(4,iA,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,rA,2,2,"div",5),u.YNc(7,sA,3,0,"div",6),u.YNc(8,WE,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,ZE,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,KE,2,0,"div",10),u.YNc(13,Rh,2,0,"div",11),u.qZA(),u.YNc(14,aA,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,lA,2,1,"div",14),u.YNc(17,cA,5,2,"div",15),u.qZA()),2&i&&(u.xp6(2),u.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),u.xp6(2),u.Q6J("ngIf",r._hasOutline()),u.xp6(1),u.Q6J("ngIf",r._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",r._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",r._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",r._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!r._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[oo,za,ao,Sl,Po,tx,ix,Nh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[rx.transitionMessages]},changeDetection:0}),e})(),Nm=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,pn,Hg,ss]}),e})();const cx=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),dx=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ux=0;const hx=eE(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i,this.stateChanges=new li.x}});let wy=(()=>{var t;class e extends hx{get disabled(){return this._disabled}set disabled(i){this._disabled=er(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(hn.required)??!1}set required(i){this._required=er(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Iv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=er(i)}constructor(i,r,a,c,m,_,b,D,M,L){super(_,c,m,a),this._elementRef=i,this._platform=r,this._autofillMonitor=D,this._formField=L,this._uid="mat-input-"+ux++,this.focused=!1,this.stateChanges=new li.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(re=>Iv().has(re)),this._iOSKeyupListener=re=>{const ge=re.target;!ge.value&&0===ge.selectionStart&&0===ge.selectionEnd&&(ge.setSelectionRange(1,1),ge.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,W=U.nodeName.toLowerCase();this._inputValueAccessor=b||U,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){dx.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(Oo),u.Y36(Ji,10),u.Y36(th,8),u.Y36(pc,8),u.Y36(nE),u.Y36(cx,10),u.Y36(uy),u.Y36(u.R0b),u.Y36(Om,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(u.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),u.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),u.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:sx,useExisting:t}]),u.qOj,u.TTD]}),e})(),fx=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,Nm,Nm,PE,ss]}),e})(),vA=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,ss]}),e})();const px=["*"],_x=["unscopedContent"],yA=["text"],bA=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],wA=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],DA=new u.OlP("ListOption");let $g=(()=>{var t;class e{constructor(i){this._elementRef=i}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),e})(),TA=(()=>{var t;class e{constructor(i){this._elementRef=i}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),e})(),Sx=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),e})(),xy=(()=>{var t;class e{constructor(i){this._listOption=i}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(DA,8))},t.\u0275dir=u.lG2({type:t,hostVars:4,hostBindings:function(i,r){2&i&&u.ekj("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}}),e})(),cF=(()=>{var t;class e extends xy{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[u.qOj]}),e})(),Fh=(()=>{var t;class e extends xy{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[u.qOj]}),e})();const SA=new u.OlP("MAT_LIST_CONFIG");let Lh=(()=>{var t;class e{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,u.f3M)(SA,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=er(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=er(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,hostVars:1,hostBindings:function(i,r){2&i&&u.uIk("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),e})(),Iy=(()=>{var t;class e{set lines(i){this._explicitLines=Eh(i,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(i){this._disableRipple=er(i)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(i){this._disabled=er(i)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(i,r,a,c,m,_){this._elementRef=i,this._ngZone=r,this._listBase=a,this._platform=c,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Pd.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=m||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===_,a&&!a._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new gm(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,hy.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(i){if(!this._lines||!this._titles||!this._unscopedContent)return;i&&this._checkDomForUnscopedTextContent();const r=this._explicitLines??this._inferLinesFromContent(),a=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===r),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===r),this._hasUnscopedTextContent){const c=0===this._titles.length&&1===r;a.classList.toggle("mdc-list-item__primary-text",c),a.classList.toggle("mdc-list-item__secondary-text",!c)}else a.classList.remove("mdc-list-item__primary-text"),a.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let i=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(i+=1),i}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(i=>i.nodeType!==i.COMMENT_NODE).some(i=>!(!i.textContent||!i.textContent.trim()))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Lh,8),u.Y36(Oo),u.Y36(Dg,8),u.Y36(u.QbO,8))},t.\u0275dir=u.lG2({type:t,contentQueries:function(i,r,a){if(1&i&&(u.Suo(a,cF,4),u.Suo(a,Fh,4)),2&i){let c;u.iGM(c=u.CRH())&&(r._avatars=c),u.iGM(c=u.CRH())&&(r._icons=c)}},hostVars:4,hostBindings:function(i,r){2&i&&(u.uIk("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),u.ekj("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),e})(),os=(()=>{var t;class e extends Iy{get activated(){return this._activated}set activated(i){this._activated=er(i)}constructor(i,r,a,c,m,_){super(i,r,a,c,m,_),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Lh,8),u.Y36(Oo),u.Y36(Dg,8),u.Y36(u.QbO,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,a){if(1&i&&(u.Suo(a,TA,5),u.Suo(a,$g,5),u.Suo(a,Sx,5)),2&i){let c;u.iGM(c=u.CRH())&&(r._lines=c),u.iGM(c=u.CRH())&&(r._titles=c),u.iGM(c=u.CRH())&&(r._meta=c)}},viewQuery:function(i,r){if(1&i&&(u.Gf(_x,5),u.Gf(yA,5)),2&i){let a;u.iGM(a=u.CRH())&&(r._unscopedContent=a.first),u.iGM(a=u.CRH())&&(r._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(u.uIk("aria-current",r._getAriaCurrent()),u.ekj("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[u.qOj],ngContentSelectors:wA,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(u.F$t(bA),u.Hsn(0),u.TgZ(1,"span",0),u.Hsn(2,1),u.Hsn(3,2),u.TgZ(4,"span",1,2),u.NdJ("cdkObserveContent",function(){return r._updateItemLines(!0)}),u.Hsn(6,3),u.qZA()(),u.Hsn(7,4),u.Hsn(8,5),u._UZ(9,"div",3))},dependencies:[$E],encapsulation:2,changeDetection:0}),e})(),Mx=(()=>{var t;class e extends Lh{constructor(){super(...arguments),this._isNonInteractive=!1}}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[u._Bn([{provide:Lh,useExisting:t}]),u.qOj],ngContentSelectors:px,decls:1,vars:0,template:function(i,r){1&i&&(u.F$t(),u.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),e})(),kA=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Hg,pn,ss,Zv,aE,vA]}),e})();const RA=["*",[["mat-toolbar-row"]]],OA=["*","mat-toolbar-row"],Fm=Jw(class{constructor(t){this._elementRef=t}});let NA=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),PA=(()=>{var t;class e extends Fm{constructor(i,r,a){super(i),this._platform=r,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(Oo),u.Y36(ae))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(i,r,a){if(1&i&&u.Suo(a,NA,5),2&i){let c;u.iGM(c=u.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:OA,decls:2,vars:0,template:function(i,r){1&i&&(u.F$t(RA),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),e})(),Gg=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ss,ss]}),e})();function Ty(t){return new u.vHH(3e3,!1)}function Cc(t){switch(t.length){case 0:return new Mh;case 1:return t[0];default:return new gy(t)}}function Sy(t,e,n=new Map,i=new Map){const r=[],a=[];let c=-1,m=null;if(e.forEach(_=>{const b=_.get("offset"),D=b==c,M=D&&m||new Map;_.forEach((L,U)=>{let W=U,re=L;if("offset"!==U)switch(W=t.normalizePropertyName(W,r),re){case"!":re=n.get(U);break;case Ma:re=i.get(U);break;default:re=t.normalizeStyleValue(U,W,re,r)}M.set(W,re)}),D||a.push(M),m=M,c=b}),r.length)throw function Um(t){return new u.vHH(3502,!1)}();return a}function Ay(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Zg(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Zg(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Zg(n,"destroy",t)))}}function Zg(t,e,n){const a=My(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),c=t._data;return null!=c&&(a._data=c),a}function My(t,e,n,i,r="",a=0,c){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function zr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function zx(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const $x=(()=>typeof document>"u"?null:document.documentElement)();function Kg(t){const e=t.parentNode||t.host||null;return e===$x?null:e}let Gd=null,Gx=!1;function Wx(t,e){for(;e;){if(e===t)return!0;e=Kg(e)}return!1}function Zx(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const i=t.querySelector(e);return i?[i]:[]}let Kx=(()=>{var t;class e{validateStyleProperty(i){return function ky(t){Gd||(Gd=function qx(){return typeof document<"u"?document.body:null}()||{},Gx=!!Gd.style&&"WebkitAppearance"in Gd.style);let e=!0;return Gd.style&&!function JA(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Gd.style,!e&&Gx&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Gd.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return Wx(i,r)}getParentElement(i){return Kg(i)}query(i,r,a){return Zx(i,r,a)}computeStyle(i,r,a){return a||""}animate(i,r,a,c,m,_=[],b){return new Mh(a,c)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})(),Ry=(()=>{class e{}return e.NOOP=new Kx,e})();const eM=1e3,Yg="ng-enter",Bm="ng-leave",Qg="ng-trigger",Xg=".ng-trigger",Oy="ng-animating",Ny=".ng-animating";function bl(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Py(parseFloat(e[1]),e[2])}function Py(t,e){return"s"===e?t*eM:t}function Jg(t,e,n){return t.hasOwnProperty("duration")?t:function Fy(t,e,n){let r,a=0,c="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(Ty()),{duration:0,delay:0,easing:""};r=Py(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(a=Py(parseFloat(_),m[4]));const b=m[5];b&&(c=b)}else r=t;if(!n){let m=!1,_=e.length;r<0&&(e.push(function Nx(){return new u.vHH(3100,!1)}()),m=!0),a<0&&(e.push(function LA(){return new u.vHH(3101,!1)}()),m=!0),m&&e.splice(_,0,Ty())}return{duration:r,delay:a,easing:c}}(t,e,n)}function qd(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ly(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Dc(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function Xs(t,e,n){e.forEach((i,r)=>{const a=By(r);n&&!n.has(r)&&n.set(r,t.style[a]),t.style[a]=i})}function Wd(t,e){e.forEach((n,i)=>{const r=By(i);t.style[r]=""})}function Vh(t){return Array.isArray(t)?1==t.length?t[0]:my(t):t}const e_=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xx(t){let e=[];if("string"==typeof t){let n;for(;n=e_.exec(t);)e.push(n[1]);e_.lastIndex=0}return e}function t_(t,e,n){const i=t.toString(),r=i.replace(e_,(a,c)=>{let m=e[c];return null==m&&(n.push(function Vm(t){return new u.vHH(3003,!1)}()),m=""),m.toString()});return r==i?t:r}function Uh(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Uy=/-+([a-z0-9])/g;function By(t){return t.replace(Uy,(...e)=>e[1].toUpperCase())}function as(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function VA(t){return new u.vHH(3004,!1)}()}}function n_(t,e){return window.getComputedStyle(t)[e]}const i_="*";function lM(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function eI(t,e,n){if(":"==t[0]){const _=function xF(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(function qg(t){return new u.vHH(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof _)return void e.push(_);t=_}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function Ux(t){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(tI(r,c));"<"==a[0]&&!(r==i_&&c==i_)&&e.push(tI(c,r))}(i,n,e)):n.push(t),n}const jm=new Set(["true","1"]),r_=new Set(["false","0"]);function tI(t,e){const n=jm.has(t)||r_.has(t),i=jm.has(e)||r_.has(e);return(r,a)=>{let c=t==i_||t==r,m=e==i_||e==a;return!c&&n&&"boolean"==typeof r&&(c=r?jm.has(t):r_.has(t)),!m&&i&&"boolean"==typeof a&&(m=a?jm.has(e):r_.has(e)),c&&m}}const dM=new RegExp("s*:selfs*,?","g");function jy(t,e,n,i){return new uM(t).build(e,n,i)}class uM{constructor(e){this._driver=e}build(e,n,i){const r=new mM(n);return this._resetContextStyleTimingState(r),as(this,Vh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&n.errors.push(function BA(){return new u.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(n),0==m.type){const _=m,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,n))}),_.name=b}else if(1==m.type){const _=this.visitTransition(m,n);i+=_.queryCount,r+=_.depCount,c.push(_)}else n.errors.push(function Px(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{Xx(_).forEach(b=>{c.hasOwnProperty(b)||a.add(b)})})}),a.size&&(Uh(a.values()),n.errors.push(function Fx(t,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=as(this,Vh(e.animation),n);return{type:1,matchers:lM(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Kd(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>as(this,i,n)),options:Kd(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const a=e.steps.map(c=>{n.currentTime=i;const m=as(this,c,n);return r=Math.max(r,n.currentTime),m});return n.currentTime=r,{type:3,steps:a,options:Kd(e.options)}}visitAnimate(e,n){const i=function gM(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return zy(Jg(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=zy(0,0,"");return a.dynamic=!0,a.strValue=n,a}const r=Jg(n,e);return zy(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,a=e.styles?e.styles:km({});if(5==a.type)r=this.visitKeyframes(a,n);else{let c=e.styles,m=!1;if(!c){m=!0;const b={};i.easing&&(b.easing=i.easing),c=km(b)}n.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,n);_.isEmptyStep=m,r=_}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of r)"string"==typeof m?m===Ma?i.push(m):n.errors.push(new u.vHH(3002,!1)):i.push(Ly(m));let a=!1,c=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(c=m.get("easing"),m.delete("easing")),!a))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,a=n.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((m,_)=>{const b=n.collectedStyles.get(n.currentQuerySelector),D=b.get(_);let M=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(n.errors.push(function Vx(t,e,n,i,r){return new u.vHH(3010,!1)}()),M=!1),a=D.startTime),M&&b.set(_,{startTime:a,endTime:r}),n.options&&function Zd(t,e,n){const i=e.params||{},r=Xx(t);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||n.push(function Lm(t){return new u.vHH(3001,!1)}())})}(m,n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function jA(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let m=!1,_=!1,b=0;const D=e.steps.map(je=>{const Je=this._makeStyleAst(je,n);let nt=null!=Je.offset?Je.offset:function pM(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(Je.styles),ct=0;return null!=nt&&(a++,ct=Je.offset=nt),_=_||ct<0||ct>1,m=m||ct<b,b=ct,c.push(ct),Je});_&&n.errors.push(function HA(){return new u.vHH(3012,!1)}()),m&&n.errors.push(function mF(){return new u.vHH(3200,!1)}());const M=e.steps.length;let L=0;a>0&&a<M?n.errors.push(function pF(){return new u.vHH(3202,!1)}()):0==a&&(L=1/(M-1));const U=M-1,W=n.currentTime,re=n.currentAnimateTimings,ge=re.duration;return D.forEach((je,Je)=>{const nt=L>0?Je==U?1:L*Je:c[Je],ct=nt*ge;n.currentTime=W+re.delay+ct,re.duration=ct,this._validateStyleAst(je,n),je.offset=nt,i.styles.push(je)}),i}visitReference(e,n){return{type:8,animation:as(this,Vh(e.animation),n),options:Kd(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Kd(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Kd(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[a,c]=function hM(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(dM,"")),t=t.replace(/@\*/g,Xg).replace(/@\w+/g,n=>Xg+"-"+n.slice(1)).replace(/:animating/g,Ny),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+a:a,zr(n.collectedStyles,n.currentQuerySelector,new Map);const m=as(this,Vh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:m,originalSelector:e.selector,options:Kd(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function gF(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jg(e.timings,n.errors,!0);return{type:12,animation:as(this,Vh(e.animation),n),timings:i,options:null}}}class mM{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kd(t){return t?(t=qd(t)).params&&(t.params=function fM(t){return t?qd(t):null}(t.params)):t={},t}function zy(t,e,n){return{duration:t,delay:e,easing:n}}function $y(t,e,n,i,r,a,c=null,m=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:m}}class Tc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rI=new RegExp(":enter","g"),oI=new RegExp(":leave","g");function s_(t,e,n,i,r,a=new Map,c=new Map,m,_,b=[]){return(new _M).buildKeyframes(t,e,n,i,r,a,c,m,_,b)}class _M{buildKeyframes(e,n,i,r,a,c,m,_,b,D=[]){b=b||new Tc;const M=new aI(e,n,b,r,a,D,[]);M.options=_;const L=_.delay?bl(_.delay):0;M.currentTimeline.delayNextStep(L),M.currentTimeline.setStyles([c],null,M.errors,_),as(this,i,M);const U=M.timelines.filter(W=>W.containsAnimation());if(U.length&&m.size){let W;for(let re=U.length-1;re>=0;re--){const ge=U[re];if(ge.element===n){W=ge;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([m],null,M.errors,_)}return U.length?U.map(W=>W.buildKeyframes()):[$y(n,[],[],[],0,L,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(e.options),a=n.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&n.transformIntoNewTimeline(c)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:bl(t_(a,r?.params??{},n.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,n,i){let a=n.currentTimeline.currentTime;const c=null!=i.duration?bl(i.duration):null,m=null!=i.delay?bl(i.delay):null;return 0!==c&&e.forEach(_=>{const b=n.appendInstructionToTimeline(_,c,m);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,n){n.updateOptions(e.options,!0),as(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const a=e.options;if(a&&(a.params||a.delay)&&(r=n.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Gy);const c=bl(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>as(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const a=e.options&&e.options.delay?bl(e.options.delay):0;e.steps.forEach(c=>{const m=n.createSubContext(e.options);a&&m.delayNextStep(a),as(this,c,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(c=>n.currentTimeline.mergeTimelineCollectedStyles(c)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return Jg(n.params?t_(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,n):(n.incrementTime(i.duration),this.visitStyle(a,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,a=i.duration,m=n.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*a),m.setStyles(_.styles,_.easing,n.errors,n.options),m.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(m),n.transformIntoNewTimeline(r+a),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},a=r.delay?bl(r.delay):0;a&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Gy);let c=i;const m=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=m.length;let _=null;m.forEach((b,D)=>{n.currentQueryIndex=D;const M=n.createSubContext(e.options,b);a&&M.delayNextStep(a),b===n.element&&(_=M.currentTimeline),as(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(c),_&&(n.currentTimeline.mergeTimelineCollectedStyles(_),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,a=e.timings,c=Math.abs(a.duration),m=c*(n.currentQueryTotal-1);let _=c*n.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=m-_;break;case"full":_=i.currentStaggerTime}const D=n.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;as(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const Gy={};class aI{constructor(e,n,i,r,a,c,m,_){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Hm(this._driver,n,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=bl(i.duration)),null!=i.delay&&(r.delay=bl(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(m=>{(!n||!c.hasOwnProperty(m))&&(c[m]=t_(a[m],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,a=new aI(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Gy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new vM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,a,c){let m=[];if(r&&m.push(this.element),e.length>0){e=(e=e.replace(rI,"."+this._enterClassName)).replace(oI,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),m.push(...b)}return!a&&0==m.length&&c.push(function _F(t){return new u.vHH(3014,!1)}()),m}}class Hm{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Hm(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ma),this._currentKeyframe.set(n,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);const a=r&&r.params||{},c=function yM(t,e){const n=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)n.set(a,Ma)}else Dc(r,n)}),n}(e,this._globalTimelineStyles);for(let[m,_]of c){const b=t_(_,a,i);this._pendingStyles.set(m,b),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Ma),this._updateStyle(m,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,_)=>{const b=Dc(m,new Map,this._backFill);b.forEach((D,M)=>{"!"===D?e.add(M):D===Ma&&n.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?Uh(e.values()):[],c=n.size?Uh(n.values()):[];if(i){const m=r[0],_=new Map(m);m.set("offset",0),_.set("offset",1),r=[m,_]}return $y(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class vM extends Hm{constructor(e,n,i,r,a,c,m=!1){super(e,n,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const a=[],c=i+n,m=n/c,_=Dc(e[0]);_.set("offset",0),a.push(_);const b=Dc(e[0]);b.set("offset",lI(m)),a.push(b);const D=e.length-1;for(let M=1;M<=D;M++){let L=Dc(e[M]);const U=L.get("offset");L.set("offset",lI((n+U*i)/c)),a.push(L)}i=c,n=0,r="",e=a}return $y(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function lI(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Yd{}const qy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Oa extends Yd{normalizePropertyName(e,n){return By(e)}normalizeStyleValue(e,n,i,r){let a="";const c=i.toString().trim();if(qy.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function UA(t,e){return new u.vHH(3005,!1)}())}return c+a}}function cI(t,e,n,i,r,a,c,m,_,b,D,M,L){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:c,timelines:m,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:M,errors:L}}const Bh={};class dI{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function bM(t,e,n,i,r){return t.some(a=>a(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,a,c,m,_,b,D){const M=[],L=this.ast.options&&this.ast.options.params||Bh,W=this.buildStyles(i,m&&m.params||Bh,M),re=_&&_.params||Bh,ge=this.buildStyles(r,re,M),je=new Set,Je=new Map,nt=new Map,ct="void"===r,kt={params:DF(re,L),delay:this.ast.options?.delay},Ut=D?[]:s_(e,n,this.ast.animation,a,c,W,ge,kt,b,M);let on=0;if(Ut.forEach($o=>{on=Math.max($o.duration+$o.delay,on)}),M.length)return cI(n,this._triggerName,i,r,ct,W,ge,[],[],Je,nt,on,M);Ut.forEach($o=>{const _u=$o.element,z3=zr(Je,_u,new Set);$o.preStyleProps.forEach(Lp=>z3.add(Lp));const sw=zr(nt,_u,new Set);$o.postStyleProps.forEach(Lp=>sw.add(Lp)),_u!==n&&je.add(_u)});const Rr=Uh(je.values());return cI(n,this._triggerName,i,r,ct,W,ge,Ut,Rr,Je,nt,on)}}function DF(t,e){const n=qd(e);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(n[i]=t[i]);return n}class zm{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i=new Map,r=qd(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,m)=>{c&&(c=t_(c,r,n));const _=this.normalizer.normalizePropertyName(m,n);c=this.normalizer.normalizeStyleValue(m,_,c,n),i.set(m,c)})}),i}}class EM{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new zm(r.style,r.options&&r.options.params||{},i))}),$m(this.states,"true","1"),$m(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new dI(e,r,this.states))}),this.fallbackTransition=function xM(t,e,n){return new dI(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(c=>c.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function $m(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const uI=new Tc;class IM{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const i=[],a=jy(this._driver,n,i,[]);if(i.length)throw function GA(t){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,n,i){const r=e.element,a=Sy(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],a=this._animations.get(e);let c;const m=new Map;if(a?(c=s_(this._driver,n,a,Yg,Bm,new Map,new Map,i,uI,r),c.forEach(D=>{const M=zr(m,D.element,new Map);D.postStyleProps.forEach(L=>M.set(L,null))})):(r.push(function qA(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function WA(t){return new u.vHH(3504,!1)}();m.forEach((D,M)=>{D.forEach((L,U)=>{D.set(U,this._driver.computeStyle(M,U,Ma))})});const b=Cc(c.map(D=>{const M=m.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function ZA(t){return new u.vHH(3301,!1)}();return n}listen(e,n,i,r){const a=My(n,"","","");return Ay(this._getPlayer(e),i,a,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Wy="ng-animate-queued",Zy="ng-animate-disabled",TM=[],Ky={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lo="__ng_removed";class Yy{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=function pI(t){return t??null}(i?e.value:e),i){const a=qd(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const jh="void",l_=new Yy(jh);class Qy{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ls(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw function vF(t,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function KA(t){return new u.vHH(3303,!1)}();if(!function SM(t){return"start"==t||"done"==t}(i))throw function jx(t,e){return new u.vHH(3400,!1)}();const a=zr(this._elementListeners,e,[]),c={name:n,phase:i,callback:r};a.push(c);const m=zr(this._engine.statesByElement,e,new Map);return m.has(n)||(ls(e,Qg),ls(e,Qg+"-"+n),m.set(n,l_)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(n)||m.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function YA(t){return new u.vHH(3401,!1)}();return n}trigger(e,n,i,r=!0){const a=this._getTrigger(n),c=new Xy(this.id,n,e);let m=this._engine.statesByElement.get(e);m||(ls(e,Qg),ls(e,Qg+"-"+n),this._engine.statesByElement.set(e,m=new Map));let _=m.get(n);const b=new Yy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),m.set(n,b),_||(_=l_),b.value!==jh&&_.value===b.value){if(!function kM(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const a=n[r];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1}return!0}(_.params,b.params)){const re=[],ge=a.matchStyles(_.value,_.params,re),je=a.matchStyles(b.value,b.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{Wd(e,ge),Xs(e,je)})}return}const L=zr(this._engine.playersByElement,e,[]);L.forEach(re=>{re.namespaceId==this.id&&re.triggerName==n&&re.queued&&re.destroy()});let U=a.matchTransition(_.value,b.value,e,b.params),W=!1;if(!U){if(!r)return;U=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:U,fromState:_,toState:b,player:c,isFallbackTransition:W}),W||(ls(e,Wy),c.onStart(()=>{Sc(e,Wy)})),c.onDone(()=>{let re=this.players.indexOf(c);re>=0&&this.players.splice(re,1);const ge=this._engine.playersByElement.get(e);if(ge){let je=ge.indexOf(c);je>=0&&ge.splice(je,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,Xg,!0);i.forEach(r=>{if(r[Lo])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const m=[];if(a.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const D=this.trigger(e,b,jh,r);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,c),i&&Cc(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,b=i.get(c)||l_,D=new Yy(jh),M=new Xy(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const a=e[Lo];(!a||a===Ky)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){ls(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(m=>{if(m.name==i.triggerName){const _=My(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,Ay(i.player,m.phase,_,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class fI{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new Qy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,m=this.driver.getParentElement(n);for(;m;){const _=r.get(m);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),c=!0;break}m=this.driver.getParentElement(m)}c||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&n.add(a)}return n}trigger(e,n,i,r){if(c_(n)){const a=this._fetchNamespace(e);if(a)return a.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!c_(n))return;const a=n[Lo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(n);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ls(e,Zy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sc(e,Zy))}removeNode(e,n,i){if(c_(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);const a=this.namespacesByHostElement.get(n);a&&a.id!==e&&a.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,a){this.collectedLeaveElements.push(n),n[Lo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,n,i,r,a){return c_(n)?this._fetchNamespace(e).listen(n,i,r,a):()=>{}}_buildInstruction(e,n,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,a)}destroyInnerAnimations(e){let n=this.driver.query(e,Xg,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,Ny,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Lo];if(n&&n.setForRemoval){if(e[Lo]=Ky,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Zy)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ls(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Cc(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function QA(t){return new u.vHH(3402,!1)}()}_flushAnimations(e,n){const i=new Tc,r=[],a=new Map,c=[],m=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(mt=>{D.add(mt);const Mt=this.driver.query(mt,".ng-animate-queued",!0);for(let Lt=0;Lt<Mt.length;Lt++)D.add(Mt[Lt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),U=Jy(L,this.collectedEnterElements),W=new Map;let re=0;U.forEach((mt,Mt)=>{const Lt=Yg+re++;W.set(Mt,Lt),mt.forEach(dn=>ls(dn,Lt))});const ge=[],je=new Set,Je=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Mt=this.collectedLeaveElements[mt],Lt=Mt[Lo];Lt&&Lt.setForRemoval&&(ge.push(Mt),je.add(Mt),Lt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(dn=>je.add(dn)):Je.add(Mt))}const nt=new Map,ct=Jy(L,Array.from(je));ct.forEach((mt,Mt)=>{const Lt=Bm+re++;nt.set(Mt,Lt),mt.forEach(dn=>ls(dn,Lt))}),e.push(()=>{U.forEach((mt,Mt)=>{const Lt=W.get(Mt);mt.forEach(dn=>Sc(dn,Lt))}),ct.forEach((mt,Mt)=>{const Lt=nt.get(Mt);mt.forEach(dn=>Sc(dn,Lt))}),ge.forEach(mt=>{this.processLeaveNode(mt)})});const kt=[],Ut=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(n).forEach(Lt=>{const dn=Lt.player,Or=Lt.element;if(kt.push(dn),this.collectedEnterElements.length){const ms=Or[Lo];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(Lt.triggerName)){const Vp=ms.previousTriggersValues.get(Lt.triggerName),Va=this.statesByElement.get(Lt.element);if(Va&&Va.has(Lt.triggerName)){const rT=Va.get(Lt.triggerName);rT.value=Vp,Va.set(Lt.triggerName,rT)}}return void dn.destroy()}}const Hc=!M||!this.driver.containsElement(M,Or),Go=nt.get(Or),bf=W.get(Or),yi=this._buildInstruction(Lt,i,bf,Go,Hc);if(yi.errors&&yi.errors.length)return void Ut.push(yi);if(Hc)return dn.onStart(()=>Wd(Or,yi.fromStyles)),dn.onDestroy(()=>Xs(Or,yi.toStyles)),void r.push(dn);if(Lt.isFallbackTransition)return dn.onStart(()=>Wd(Or,yi.fromStyles)),dn.onDestroy(()=>Xs(Or,yi.toStyles)),void r.push(dn);const q3=[];yi.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||q3.push(ms)}),yi.timelines=q3,i.append(Or,yi.timelines),c.push({instruction:yi,player:dn,element:Or}),yi.queriedElements.forEach(ms=>zr(m,ms,[]).push(dn)),yi.preStyleProps.forEach((ms,Vp)=>{if(ms.size){let Va=_.get(Vp);Va||_.set(Vp,Va=new Set),ms.forEach((rT,gN)=>Va.add(gN))}}),yi.postStyleProps.forEach((ms,Vp)=>{let Va=b.get(Vp);Va||b.set(Vp,Va=new Set),ms.forEach((rT,gN)=>Va.add(gN))})});if(Ut.length){const mt=[];Ut.forEach(Mt=>{mt.push(function XA(t,e){return new u.vHH(3505,!1)}())}),kt.forEach(Mt=>Mt.destroy()),this.reportError(mt)}const on=new Map,Rr=new Map;c.forEach(mt=>{const Mt=mt.element;i.has(Mt)&&(Rr.set(Mt,Mt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,on))}),r.forEach(mt=>{const Mt=mt.element;this._getPreviousPlayers(Mt,!1,mt.namespaceId,mt.triggerName,null).forEach(dn=>{zr(on,Mt,[]).push(dn),dn.destroy()})});const $o=ge.filter(mt=>eb(mt,_,b)),_u=new Map;u_(_u,this.driver,Je,b,Ma).forEach(mt=>{eb(mt,_,b)&&$o.push(mt)});const sw=new Map;U.forEach((mt,Mt)=>{u_(sw,this.driver,new Set(mt),_,"!")}),$o.forEach(mt=>{const Mt=_u.get(mt),Lt=sw.get(mt);_u.set(mt,new Map([...Mt?.entries()??[],...Lt?.entries()??[]]))});const Lp=[],$3=[],G3={};c.forEach(mt=>{const{element:Mt,player:Lt,instruction:dn}=mt;if(i.has(Mt)){if(D.has(Mt))return Lt.onDestroy(()=>Xs(Mt,dn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(dn.totalTime),void r.push(Lt);let Or=G3;if(Rr.size>1){let Go=Mt;const bf=[];for(;Go=Go.parentNode;){const yi=Rr.get(Go);if(yi){Or=yi;break}bf.push(Go)}bf.forEach(yi=>Rr.set(yi,Or))}const Hc=this._buildAnimation(Lt.namespaceId,dn,on,a,sw,_u);if(Lt.setRealPlayer(Hc),Or===G3)Lp.push(Lt);else{const Go=this.playersByElement.get(Or);Go&&Go.length&&(Lt.parentPlayer=Cc(Go)),r.push(Lt)}}else Wd(Mt,dn.fromStyles),Lt.onDestroy(()=>Xs(Mt,dn.toStyles)),$3.push(Lt),D.has(Mt)&&r.push(Lt)}),$3.forEach(mt=>{const Mt=a.get(mt.element);if(Mt&&Mt.length){const Lt=Cc(Mt);mt.setRealPlayer(Lt)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<ge.length;mt++){const Mt=ge[mt],Lt=Mt[Lo];if(Sc(Mt,Bm),Lt&&Lt.hasAnimation)continue;let dn=[];if(m.size){let Hc=m.get(Mt);Hc&&Hc.length&&dn.push(...Hc);let Go=this.driver.query(Mt,Ny,!0);for(let bf=0;bf<Go.length;bf++){let yi=m.get(Go[bf]);yi&&yi.length&&dn.push(...yi)}}const Or=dn.filter(Hc=>!Hc.destroyed);Or.length?AM(this,Mt,Or):this.processLeaveNode(Mt)}return ge.length=0,Lp.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Mt=this.players.indexOf(mt);this.players.splice(Mt,1)}),mt.play()}),Lp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,a){let c=[];if(n){const m=this.playersByQueriedElement.get(e);m&&(c=m)}else{const m=this.playersByElement.get(e);if(m){const _=!a||a==jh;m.forEach(b=>{b.queued||!_&&b.triggerName!=r||c.push(b)})}}return(i||r)&&(c=c.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),c}_beforeAnimationBuild(e,n,i){const a=n.element,c=n.isRemovalTransition?void 0:e,m=n.isRemovalTransition?void 0:n.triggerName;for(const _ of n.timelines){const b=_.element,D=b!==a,M=zr(i,b,[]);this._getPreviousPlayers(b,D,c,m,n.toState).forEach(U=>{const W=U.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),U.destroy(),M.push(U)})}Wd(a,n.fromStyles)}_buildAnimation(e,n,i,r,a,c){const m=n.triggerName,_=n.element,b=[],D=new Set,M=new Set,L=n.timelines.map(W=>{const re=W.element;D.add(re);const ge=re[Lo];if(ge&&ge.removedBeforeQueried)return new Mh(W.duration,W.delay);const je=re!==_,Je=function MM(t){const e=[];return gI(t,e),e}((i.get(re)||TM).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===re),nt=a.get(re),ct=c.get(re),kt=Sy(this._normalizer,W.keyframes,nt,ct),Ut=this._buildPlayer(W,kt,Je);if(W.subTimeline&&r&&M.add(re),je){const on=new Xy(e,m,re);on.setRealPlayer(Ut),b.push(on)}return Ut});b.forEach(W=>{zr(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function mI(t,e,n){let i=t.get(e);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}return i}(this.playersByQueriedElement,W.element,W))}),D.forEach(W=>ls(W,Oy));const U=Cc(L);return U.onDestroy(()=>{D.forEach(W=>Sc(W,Oy)),Xs(_,n.toStyles)}),M.forEach(W=>{zr(r,W,[]).push(U)}),U}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Mh(e.duration,e.delay)}}class Xy{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Mh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>Ay(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){zr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function c_(t){return t&&1===t.nodeType}function d_(t,e){const n=t.style.display;return t.style.display=e??"none",n}function u_(t,e,n,i,r){const a=[];n.forEach(_=>a.push(d_(_)));const c=[];i.forEach((_,b)=>{const D=new Map;_.forEach(M=>{const L=e.computeStyle(b,M,r);D.set(M,L),(!L||0==L.length)&&(b[Lo]=a_,c.push(b))}),t.set(b,D)});let m=0;return n.forEach(_=>d_(_,a[m++])),c}function Jy(t,e){const n=new Map;if(t.forEach(m=>n.set(m,[])),0==e.length)return n;const r=new Set(e),a=new Map;function c(m){if(!m)return 1;let _=a.get(m);if(_)return _;const b=m.parentNode;return _=n.has(b)?b:r.has(b)?1:c(b),a.set(m,_),_}return e.forEach(m=>{const _=c(m);1!==_&&n.get(_).push(m)}),n}function ls(t,e){t.classList?.add(e)}function Sc(t,e){t.classList?.remove(e)}function AM(t,e,n){Cc(n).onDone(()=>t.processLeaveNode(e))}function gI(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof gy?gI(i.players,e):e.push(i)}}function eb(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(a=>r.add(a)):e.set(t,i),n.delete(t),!0}class Hh{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new fI(e,n,i),this._timelineEngine=new IM(e,n,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,n,i,r,a){const c=e+"-"+r;let m=this._triggerCache[c];if(!m){const _=[],D=jy(this._driver,a,_,[]);if(_.length)throw function Bx(t,e){return new u.vHH(3404,!1)}();m=function wM(t,e,n){return new EM(t,e,n)}(r,D,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(n,r,m)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[a,c]=zx(i);this._timelineEngine.command(a,n,c,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,a){if("@"==i.charAt(0)){const[c,m]=zx(i);return this._timelineEngine.listen(c,n,m,a)}return this._transitionEngine.listen(e,n,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let vI=(()=>{class e{constructor(i,r,a){this._element=i,this._startStyles=r,this._endStyles=a,this._state=0;let c=e.initialStylesByElement.get(i);c||e.initialStylesByElement.set(i,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xs(this._element,this._initialStyles),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Wd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wd(this._element,this._endStyles),this._endStyles=null),Xs(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function h_(t){let e=null;return t.forEach((n,i)=>{(function yI(t){return"display"===t||"position"===t})(i)&&(e=e||new Map,e.set(i,n))}),e}class bI{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:n_(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class wI{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return Wx(e,n)}getParentElement(e){return Kg(e)}query(e,n,i){return Zx(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,a,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,D=c.filter(U=>U instanceof bI);(function Jx(t,e){return 0===t||0===e})(i,r)&&D.forEach(U=>{U.currentSnapshot.forEach((W,re)=>b.set(re,W))});let M=function Vy(t){return t.length?t[0]instanceof Map?t:t.map(e=>Ly(e)):[]}(n).map(U=>Dc(U));M=function iM(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(m=>c.set(m,n_(t,m)))}}return e}(e,M,b);const L=function _I(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=h_(e[0]),e.length>1&&(i=h_(e[e.length-1]))):e instanceof Map&&(n=h_(e)),n||i?new vI(t,n,i):null}(e,M);return new bI(e,M,_,L)}}let EI=(()=>{var t;class e extends VE{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(i)?my(i):i;return tb(this._renderer,null,r,"register",[a]),new RM(r,this._renderer)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.FYo),u.LFG(ae))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class RM extends UE{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new xI(this._id,e,n||{},this._renderer)}}class xI{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return tb(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tb(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Qd="@.disabled";let OM=(()=>{var t;class e{constructor(i,r,a){this.delegate=i,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,m)=>{const _=m?.parentNode(c);_&&m.removeChild(_,c)}}createRenderer(i,r){const c=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(c);return M||(M=new II("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,M)),M}const m=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,i);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(m,_,i,M.name,M)};return r.data.animation.forEach(b),new TF(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,a){i>=0&&i<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[m,_]=c;m(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.FYo),u.LFG(Hh),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class II{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==Qd?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class TF extends II{constructor(e,n,i,r,a){super(n,i,r,a),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Qd?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function SF(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let a=n.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function CI(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,n,i)}}let nb=(()=>{var t;class e extends Hh{constructor(i,r,a,c){super(i.body,r,a)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ae),u.LFG(Ry),u.LFG(Yd),u.LFG(u.z2F))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const NM=[{provide:VE,useClass:EI},{provide:Yd,useFactory:function AF(){return new Oa}},{provide:Hh,useClass:nb},{provide:u.FYo,useFactory:function MF(t,e,n){return new OM(t,e,n)},deps:[bo,Hh,u.R0b]}],Xd=[{provide:Ry,useFactory:()=>new wI},{provide:u.QbO,useValue:"BrowserAnimations"},...NM],DI=[{provide:Ry,useClass:Kx},{provide:u.QbO,useValue:"NoopAnimations"},...NM];let ib=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?DI:Xd}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:Xd,imports:[Ql]}),e})();const FM_firebase={apiKey:"AIzaSyByOm2UH4iwIfnLffREX2xVULLRrkt8bgo",authDomain:"supermarket-57344.firebaseapp.com",projectId:"supermarket-57344",storageBucket:"supermarket-57344.appspot.com",messagingSenderId:"189199675463",appId:"1:189199675463:web:3a378793b46175a1be0162",measurementId:"G-3VYDPM816F"};var Ms=O(5619);const f_=(0,O(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gm(t){return new qn.y(e=>{(0,Do.Xf)(t()).subscribe(e)})}var rb=O(8407);function SI(){return(0,Ir.e)((t,e)=>{let n=null;t._refCount++;const i=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,a=n;n=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class sb extends qn.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pd.w0;const n=this.getSubject();e.add(this.source.subscribe((0,jn.x)(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pd.w0.EMPTY)}return e}refCount(){return SI()(this)}}var dr=O(4664);function qm(t){return(0,Ir.e)((e,n)=>{let i=!1;e.subscribe((0,jn.x)(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Jd(t=VM){return(0,Ir.e)((e,n)=>{let i=!1;e.subscribe((0,jn.x)(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function VM(){return new f_}function wl(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Bi((r,a)=>t(r,a,i)):gc.y,_c(1),n?qm(e):Jd(()=>new f_))}function ab(t,e){return(0,Ir.e)(function ob(t,e,n,i,r){return(a,c)=>{let m=n,_=e,b=0;a.subscribe((0,jn.x)(c,D=>{const M=b++;_=m?t(_,D,M):(m=!0,D),i&&c.next(_)},r&&(()=>{m&&c.next(_),c.complete()})))}}(t,e,arguments.length>=2,!0))}function lb(t){return t<=0?()=>gl.E:(0,Ir.e)((e,n)=>{let i=[];e.subscribe((0,jn.x)(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}const qt="primary",Wm=Symbol("RouteTitle");class AI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function eu(t){return new AI(t)}function BM(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],m=t[a];if(c.startsWith(":"))r[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Vo(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let a=0;a<n.length;a++)if(r=n[a],!kI(t[r],e[r]))return!1;return!0}function kI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,a)=>i[a]===r)}return t===e}function RI(t){return t.length>0?t[t.length-1]:null}function El(t){return function LM(t){return!!t&&(t instanceof qn.y||(0,Ih.m)(t.lift)&&(0,Ih.m)(t.subscribe))}(t)?t:(0,u.QGY)(t)?(0,Dn.D)(Promise.resolve(t)):(0,vt.of)(t)}const jM={exact:function ub(t,e,n){if(!zh(t.segments,e.segments)||!Zm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!ub(t.children[i],e.children[i],n))return!1;return!0},subset:NI},cb={exact:function OI(t,e){return Vo(t,e)},subset:function HM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kI(t[n],e[n]))},ignored:()=>!0};function db(t,e,n){return jM[n.paths](t.root,e.root,n.matrixParams)&&cb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function NI(t,e,n){return zM(t,e,e.segments,n)}function zM(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!zh(r,n)||e.hasChildren()||!Zm(r,n,i))}if(t.segments.length===n.length){if(!zh(t.segments,n)||!Zm(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!NI(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),a=n.slice(t.segments.length);return!!(zh(t.segments,r)&&Zm(t.segments,r,i)&&t.children[qt])&&zM(t.children[qt],e,a,i)}}function Zm(t,e,n){return e.every((i,r)=>cb[n](t[r].parameters,i.parameters))}class Km{constructor(e=new En([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return FF.serialize(this)}}class En{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ym(this)}}class m_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return FI(this)}}function zh(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let p_=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return new PI},providedIn:"root"}),e})();class PI{parse(e){const n=new YM(e);return new Km(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${tu(e.root,!0)}`,i=function GM(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${g_(n)}=${g_(r)}`).join("&"):`${g_(n)}=${g_(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function __(t){return encodeURI(t)}(e.fragment)}`:""}`}}const FF=new PI;function Ym(t){return t.segments.map(e=>FI(e)).join("/")}function tu(t,e){if(!t.hasChildren())return Ym(t);if(e){const n=t.children[qt]?tu(t.children[qt],!1):"",i=[];return Object.entries(t.children).forEach(([r,a])=>{r!==qt&&i.push(`${r}:${tu(a,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function PF(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===qt&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==qt&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===qt?[tu(t.children[qt],!1)]:[`${r}:${tu(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[qt]?`${Ym(t)}/${n[0]}`:`${Ym(t)}/(${n.join("//")})`}}function hb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g_(t){return hb(t).replace(/%3B/gi,";")}function fb(t){return hb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mb(t){return decodeURIComponent(t)}function $M(t){return mb(t.replace(/\+/g,"%20"))}function FI(t){return`${fb(t.path)}${function LI(t){return Object.keys(t).map(e=>`;${fb(e)}=${fb(t[e])}`).join("")}(t.parameters)}`}const qM=/^[^\/()?;#]+/;function pb(t){const e=t.match(qM);return e?e[0]:""}const LF=/^[^\/()?;=#]+/,Qm=/^[^=?&#]+/,ZM=/^[^&#]+/;class YM{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[qt]=new En(e,n)),i}parseSegment(){const e=pb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new m_(mb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function WM(t){const e=t.match(LF);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=pb(this.remaining);r&&(i=r,this.capture(i))}e[mb(n)]=mb(i)}parseQueryParam(e){const n=function v_(t){const e=t.match(Qm);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const c=function KM(t){const e=t.match(ZM);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=$M(n),a=$M(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=qt);const c=this.parseChildren();n[a]=1===Object.keys(c).length?c[qt]:new En([],c),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function VI(t){return t.segments.length>0?new En([],{[qt]:t}):t}function UI(t){const e={};for(const i of Object.keys(t.children)){const a=UI(t.children[i]);if(i===qt&&0===a.segments.length&&a.hasChildren())for(const[c,m]of Object.entries(a.children))e[c]=m;else(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function QM(t){if(1===t.numberOfChildren&&t.children[qt]){const e=t.children[qt];return new En(t.segments.concat(e.segments),e.children)}return t}(new En(t.segments,e))}function xl(t){return t instanceof Km}function BI(t){let e;const r=VI(function n(a){const c={};for(const _ of a.children){const b=n(_);c[_.outlet]=b}const m=new En(a.url,c);return a===t&&(e=m),m}(t.root));return e??r}function jI(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return gb(r,r,r,n,i);const a=function JM(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zI(!0,0,t);let e=0,n=!1;const i=t.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return Object.entries(a.outlets).forEach(([_,b])=>{m[_]="string"==typeof b?b.split("/"):b}),[...r,{outlets:m}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?n=!0:".."===m?e++:""!=m&&r.push(m))}),r):[...r,a]},[]);return new zI(n,e,i)}(e);if(a.toRoot())return gb(r,r,new En([],{}),n,i);const c=function _b(t,e,n){if(t.isAbsolute)return new Jm(e,!0,0);if(!n)return new Jm(e,!1,NaN);if(null===n.parent)return new Jm(n,!0,0);const i=y_(t.commands[0])?0:1;return function ek(t,e,n){let i=t,r=e,a=n;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Jm(i,!1,r-a)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(a,r,t),m=c.processChildren?$h(c.segmentGroup,c.index,a.commands):vb(c.segmentGroup,c.index,a.commands);return gb(r,c.segmentGroup,m,n,i)}function y_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xm(t){return"object"==typeof t&&null!=t&&t.outlets}function gb(t,e,n,i,r){let c,a={};i&&Object.entries(i).forEach(([_,b])=>{a[_]=Array.isArray(b)?b.map(D=>`${D}`):`${b}`}),c=t===e?n:HI(t,e,n);const m=VI(UI(c));return new Km(m,a,r)}function HI(t,e,n){const i={};return Object.entries(t.children).forEach(([r,a])=>{i[r]=a===e?n:HI(a,e,n)}),new En(t.segments,i)}class zI{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&y_(i[0]))throw new u.vHH(4003,!1);const r=i.find(Xm);if(r&&r!==RI(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jm{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function vb(t,e,n){if(t||(t=new En([],{})),0===t.segments.length&&t.hasChildren())return $h(t,e,n);const i=function VF(t,e,n){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return a;const c=t.segments[r],m=n[i];if(Xm(m))break;const _=`${m}`,b=i<n.length-1?n[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!nk(_,b,c))return a;i+=2}else{if(!nk(_,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const a=new En(t.segments.slice(0,i.pathIndex),{});return a.children[qt]=new En(t.segments.slice(i.pathIndex),t.children),$h(a,0,r)}return i.match&&0===r.length?new En(t.segments,{}):i.match&&!t.hasChildren()?Dr(t,e,n):i.match?$h(t,0,r):Dr(t,e,n)}function $h(t,e,n){if(0===n.length)return new En(t.segments,{});{const i=function tk(t){return Xm(t[0])?t[0].outlets:{[qt]:t}}(n),r={};if(Object.keys(i).some(a=>a!==qt)&&t.children[qt]&&1===t.numberOfChildren&&0===t.children[qt].segments.length){const a=$h(t.children[qt],e,n);return new En(t.segments,a.children)}return Object.entries(i).forEach(([a,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[a]=vb(t.children[a],e,c))}),Object.entries(t.children).forEach(([a,c])=>{void 0===i[a]&&(r[a]=c)}),new En(t.segments,r)}}function Dr(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const a=n[r];if(Xm(a)){const _=$I(a.outlets);return new En(i,_)}if(0===r&&y_(n[0])){i.push(new m_(t.segments[e].path,GI(n[0]))),r++;continue}const c=Xm(a)?a.outlets[qt]:`${a}`,m=r<n.length-1?n[r+1]:null;c&&m&&y_(m)?(i.push(new m_(c,GI(m))),r+=2):(i.push(new m_(c,{})),r++)}return new En(i,{})}function $I(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=Dr(new En([],{}),0,i))}),e}function GI(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function nk(t,e,n){return t==n.path&&Vo(e,n.parameters)}const Ci="imperative";class Na{constructor(e,n){this.id=e,this.url=n}}class Gh extends Na{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ac extends Na{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ep extends Na{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mc extends Na{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}}class tp extends Na{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yb extends Na{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik extends Na{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qI extends Na{constructor(e,n,i,r,a){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WI extends Na{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZI extends Na{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rk{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sk{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wb{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class np{}class ip{constructor(e){this.url=e}}class BF{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qh,this.attachRef=null}}let qh=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const a=this.getOrCreateContext(i);a.outlet=r,this.contexts.set(i,a)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new BF,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Eb(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=Eb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=xb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return xb(e,this._root).map(n=>n.value)}}function Eb(t,e){if(t===e.value)return e;for(const n of e.children){const i=Eb(t,n);if(i)return i}return null}function xb(t,e){if(t===e.value)return[e];for(const n of e.children){const i=xb(t,n);if(i.length)return i.unshift(e),i}return[]}class Il{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class ok extends QI{constructor(e,n){super(e),this.snapshot=n,Tb(this,e)}toString(){return this.snapshot.toString()}}function Ib(t,e){const n=function ak(t,e){const c=new rp([],{},{},"",{},qt,e,null,{});return new Db("",new Il(c,[]))}(0,e),i=new Ms.X([new m_("",{})]),r=new Ms.X({}),a=new Ms.X({}),c=new Ms.X({}),m=new Ms.X(""),_=new iu(i,r,c,m,a,qt,e,n.root);return _.snapshot=n.root,new ok(new Il(_,[]),n)}class iu{constructor(e,n,i,r,a,c,m,_){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=a,this.outlet=c,this.component=m,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,lt.U)(b=>b[Wm]))??(0,vt.of)(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(e=>eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(e=>eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lk(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Cb(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class rp{get title(){return this.data?.[Wm]}constructor(e,n,i,r,a,c,m,_,b){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=m,this.routeConfig=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Db extends QI{constructor(e,n){super(n),this.url=e,Tb(this,n)}toString(){return Sb(this._root)}}function Tb(t,e){e.value._routerState=t,e.children.forEach(n=>Tb(t,n))}function Sb(t){const e=t.children.length>0?` { ${t.children.map(Sb).join(", ")} } `:"";return`${t.value}${e}`}function b_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vo(e.params,n.params)||t.paramsSubject.next(n.params),function MI(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Vo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rc(t,e){const n=Vo(t.params,e.params)&&function NF(t,e){return zh(t,e)&&t.every((n,i)=>Vo(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Rc(t.parent,e.parent))}let Wh=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(qh),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(sp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:a}=i.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=i;const a=this.location,m=i.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,b=new XI(i,_,a.injector);this.activated=a.createComponent(m,{index:a.length,injector:b,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),e})();class XI{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===iu?this.route:e===qh?this.childContexts:this.parent.get(e,n)}}const sp=new u.OlP("");let JI=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,a=lm([r.queryParams,r.params,r.data]).pipe((0,dr.w)(([c,m,_],b)=>(_={...c,...m,..._},0===b?(0,vt.of)(_):Promise.resolve(_)))).subscribe(c=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const m=(0,u.qFp)(r.component);if(m)for(const{templateName:_}of m.inputs)i.activatedComponentRef.setInput(_,c[_]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,a)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function w_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function eC(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return w_(t,i,r);return w_(t,i)})}(t,e,n);return new Il(i,r)}{if(t.shouldAttach(e.value)){const a=t.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(m=>w_(t,m)),c}}const i=function dk(t){return new iu(new Ms.X(t.url),new Ms.X(t.params),new Ms.X(t.queryParams),new Ms.X(t.fragment),new Ms.X(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(a=>w_(t,a));return new Il(i,r)}}const Ab="ngNavigationCancelingError";function uk(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=xl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hk(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function hk(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[Ab]=!0,i.cancellationCode=e,n&&(i.url=n),i}function Mb(t){return t&&t[Ab]}let tC=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(i,r){1&i&&u._UZ(0,"router-outlet")},dependencies:[Wh],encapsulation:2}),e})();function kb(t){const e=t.children&&t.children.map(kb),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qt&&(n.component=tC),n}function Uo(t){return t.outlet||qt}function Bo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ob{constructor(e,n,i,r,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=a}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),b_(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=nu(n);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,n,i){const r=e.value,a=n?n.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,n,c.children)}else this.deactivateChildRoutes(e,n,i);else a&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,a=nu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:m})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,a=nu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=nu(n);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new kc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new sk(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,a=n?n.value:null;if(b_(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,c.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),b_(m.route.value),this.activateChildRoutes(e,null,c.children)}else{const m=Bo(r.snapshot);c.attachRef=null,c.route=r,c.injector=m,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class iC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zh{constructor(e,n){this.component=e,this.route=n}}function Nb(t,e,n){const i=t._root;return I_(i,e?e._root:null,n,[i.value])}function op(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||(0,u.Z0I)(t)?e.get(t):t:i}function I_(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=nu(e);return t.children.forEach(c=>{(function $F(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,c=e?e.value:null,m=n?n.getContext(t.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function rC(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zh(t.url,e.url)||!Vo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rc(t,e)||!Vo(t.queryParams,e.queryParams);default:return!Rc(t,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new iC(i)):(a.data=c.data,a._resolvedData=c._resolvedData),I_(t,e,a.component?m?m.children:null:n,i,r),_&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new Zh(m.outlet.component,c))}else c&&ap(e,m,r),r.canActivateChecks.push(new iC(i)),I_(t,null,a.component?m?m.children:null:n,i,r)})(c,a[c.value.outlet],n,i.concat([c.value]),r),delete a[c.value.outlet]}),Object.entries(a).forEach(([c,m])=>ap(m,n.getContext(c),r)),r}function ap(t,e,n){const i=nu(t),r=t.value;Object.entries(i).forEach(([a,c])=>{ap(c,r.component?e?e.children.getContext(a):null:e,n)}),n.canDeactivateChecks.push(new Zh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function lp(t){return"function"==typeof t}function C_(t){return t instanceof f_||"EmptyError"===t?.name}const Pb=Symbol("INITIAL_VALUE");function ru(){return(0,dr.w)(t=>lm(t.map(e=>e.pipe(_c(1),vc(Pb)))).pipe((0,lt.U)(e=>{for(const n of e)if(!0!==n){if(n===Pb)return Pb;if(!1===n||n instanceof Km)return n}return!0}),Bi(e=>e!==Pb),_c(1)))}function Lb(t){return(0,rb.z)((0,ci.b)(e=>{if(xl(e))throw uk(0,e)}),(0,lt.U)(e=>!0===e))}class cp{constructor(e){this.segmentGroup=e||null}}class dC{constructor(e){this.urlTree=e}}function dp(t){return Sa(new cp(t))}function uC(t){return Sa(new dC(t))}class fC{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,vt.of)(i);if(r.numberOfChildren>1||!r.children[qt])return Sa(new u.vHH(4e3,!1));r=r.children[qt]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,r){const a=this.createSegmentGroup(e,n.root,i,r);return new Km(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,a])=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);i[r]=n[m]}else i[r]=a}),i}createSegmentGroup(e,n,i,r){const a=this.createSegments(e,n.segments,i,r);let c={};return Object.entries(n.children).forEach(([m,_])=>{c[m]=this.createSegmentGroup(e,_,i,r)}),new En(a,c)}createSegments(e,n,i,r){return n.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new u.vHH(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const Ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D_(t,e,n,i,r){const a=Bb(t,e,n);return a.matched?(i=function fk(t,e){return t.providers&&!t._injector&&(t._injector=(0,u.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function cC(t,e,n,i){const r=e.canMatch;if(!r||0===r.length)return(0,vt.of)(!0);const a=r.map(c=>{const m=op(c,t);return El(function vk(t){return t&&lp(t.canMatch)}(m)?m.canMatch(e,n):t.runInContext(()=>m(e,n)))});return(0,vt.of)(a).pipe(ru(),Lb())}(i,e,n).pipe((0,lt.U)(c=>!0===c?a:{...Ub}))):(0,vt.of)(a)}function Bb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Ub}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||BM)(n,t,e);if(!r)return{...Ub};const a={};Object.entries(r.posParams??{}).forEach(([m,_])=>{a[m]=_.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function mC(t,e,n,i){return n.length>0&&function ZF(t,e,n){return n.some(i=>jb(t,e,i)&&Uo(i)!==qt)}(t,n,i)?{segmentGroup:new En(e,gC(i,new En(n,t.children))),slicedSegments:[]}:0===n.length&&function Ck(t,e,n){return n.some(i=>jb(t,e,i))}(t,n,i)?{segmentGroup:new En(t.segments,pC(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new En(t.segments,t.children),slicedSegments:n}}function pC(t,e,n,i,r){const a={};for(const c of i)if(jb(t,n,c)&&!r[Uo(c)]){const m=new En([],{});a[Uo(c)]=m}return{...r,...a}}function gC(t,e){const n={};n[qt]=e;for(const i of t)if(""===i.path&&Uo(i)!==qt){const r=new En([],{});n[Uo(i)]=r}return n}function jb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Tk{constructor(e,n,i,r,a,c,m){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=c,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new fC(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=mC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,qt).pipe(Ec(n=>{if(n instanceof dC)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof cp?this.noMatchError(n):n}),(0,lt.U)(n=>{const i=new rp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,{}),r=new Il(i,n),a=new Db("",r),c=function XM(t,e,n=null,i=null){return jI(BI(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(a._root),{state:a,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,qt).pipe(Ec(i=>{throw i instanceof cp?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=lk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0)}processChildren(e,n,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Dn.D)(r).pipe(Ch(a=>{const c=i.children[a],m=function nC(t,e){const n=t.filter(i=>Uo(i)===e);return n.push(...t.filter(i=>Uo(i)!==e)),n}(n,a);return this.processSegmentGroup(e,m,c,a)}),ab((a,c)=>(a.push(...c),a)),qm(null),function OF(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Bi((r,a)=>t(r,a,i)):gc.y,lb(1),n?qm(e):Jd(()=>new f_))}(),(0,jr.z)(a=>{if(null===a)return dp(i);const c=Ak(a);return function Sk(t){t.sort((e,n)=>e.value.outlet===qt?-1:n.value.outlet===qt?1:e.value.outlet.localeCompare(n.value.outlet))}(c),(0,vt.of)(c)}))}processSegment(e,n,i,r,a,c){return(0,Dn.D)(n).pipe(Ch(m=>this.processSegmentAgainstRoute(m._injector??e,n,m,i,r,a,c).pipe(Ec(_=>{if(_ instanceof cp)return(0,vt.of)(null);throw _}))),wl(m=>!!m),Ec(m=>{if(C_(m))return function KF(t,e,n){return 0===e.length&&!t.children[n]}(i,r,a)?(0,vt.of)([]):dp(i);throw m}))}processSegmentAgainstRoute(e,n,i,r,a,c,m){return function Dk(t,e,n,i){return!!(Uo(t)===i||i!==qt&&jb(e,n,t))&&("**"===t.path||Bb(e,t,n).matched)}(i,r,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,a,c,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,a,c):dp(r):dp(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const a=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?uC(a):this.applyRedirects.lineralizeSegments(i,a).pipe((0,jr.z)(c=>{const m=new En(c,{});return this.processSegment(e,n,m,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,a,c){const{matched:m,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=Bb(n,r,a);if(!m)return dp(n);const M=this.applyRedirects.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?uC(M):this.applyRedirects.lineralizeSegments(r,M).pipe((0,jr.z)(L=>this.processSegment(e,i,n,L.concat(b),c,!1)))}matchSegmentAgainstRoute(e,n,i,r,a,c){let m;if("**"===i.path){const _=r.length>0?RI(r).parameters:{},b=new rp(r,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mk(i),Uo(i),i.component??i._loadedComponent??null,i,kk(i));m=(0,vt.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),n.children={}}else m=D_(n,i,r,e).pipe((0,lt.U)(({matched:_,consumedSegments:b,remainingSegments:D,parameters:M})=>_?{snapshot:new rp(b,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mk(i),Uo(i),i.component??i._loadedComponent??null,i,kk(i)),consumedSegments:b,remainingSegments:D}:null));return m.pipe((0,dr.w)(_=>null===_?dp(n):this.getChildConfig(e=i._injector??e,i,r).pipe((0,dr.w)(({routes:b})=>{const D=i._loadedInjector??e,{snapshot:M,consumedSegments:L,remainingSegments:U}=_,{segmentGroup:W,slicedSegments:re}=mC(n,L,U,b);if(0===re.length&&W.hasChildren())return this.processChildren(D,b,W).pipe((0,lt.U)(je=>null===je?null:[new Il(M,je)]));if(0===b.length&&0===re.length)return(0,vt.of)([new Il(M,[])]);const ge=Uo(i)===a;return this.processSegment(D,b,W,re,ge?qt:a,!0).pipe((0,lt.U)(je=>[new Il(M,je)]))}))))}getChildConfig(e,n,i){return n.children?(0,vt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,vt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ik(t,e,n,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,vt.of)(!0);const a=r.map(c=>{const m=op(c,t);return El(function _k(t){return t&&lp(t.canLoad)}(m)?m.canLoad(e,n):t.runInContext(()=>m(e,n)))});return(0,vt.of)(a).pipe(ru(),Lb())}(e,n,i).pipe((0,jr.z)(r=>r?this.configLoader.loadChildren(e,n).pipe((0,ci.b)(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function hC(t){return Sa(hk(!1,3))}())):(0,vt.of)({routes:[],injector:e})}}function QF(t){const e=t.value.routeConfig;return e&&""===e.path}function Ak(t){const e=[],n=new Set;for(const i of t){if(!QF(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=Ak(i.children);e.push(new Il(i.value,r))}return e.filter(i=>!n.has(i))}function Mk(t){return t.data||{}}function kk(t){return t.resolve||{}}function _C(t){return"string"==typeof t.title||null===t.title}function vC(t){return(0,dr.w)(e=>{const n=t(e);return n?(0,Dn.D)(n).pipe((0,lt.U)(()=>e)):(0,vt.of)(e)})}const s=new u.OlP("ROUTES");let o=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return(0,vt.of)(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=El(i.loadComponent()).pipe((0,lt.U)(d),(0,ci.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),_m(()=>{this.componentLoaders.delete(i)})),a=new sb(r,()=>new li.x).pipe(SI());return this.componentLoaders.set(i,a),a}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,vt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,lt.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(r);let b,D;return Array.isArray(_)?D=_:(b=_.create(i).injector,D=b.get(s,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:D.map(kb),injector:b}}),_m(()=>{this.childrenLoaders.delete(r)})),m=new sb(c,()=>new li.x).pipe(SI());return this.childrenLoaders.set(r,m),m}loadModuleFactoryOrRoutes(i){return El(i()).pipe((0,lt.U)(d),(0,jr.z)(r=>r instanceof u.YKP||Array.isArray(r)?(0,vt.of)(r):(0,Dn.D)(this.compiler.compileModuleAsync(r))))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function d(t){return function l(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let h=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new li.x,this.transitionAbortSubject=new li.x,this.configLoader=(0,u.f3M)(o),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(p_),this.rootContexts=(0,u.f3M)(qh),this.inputBindingEnabled=null!==(0,u.f3M)(sp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,vt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new rk(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new KI(a))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,a){return this.transitions=new Ms.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:i.urlHandlingStrategy.extract(r),urlAfterRedirects:i.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ci,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bi(c=>0!==c.id),(0,lt.U)(c=>({...c,extractedUrl:i.urlHandlingStrategy.extract(c.rawUrl)})),(0,dr.w)(c=>{this.currentTransition=c;let m=!1,_=!1;return(0,vt.of)(c).pipe((0,ci.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.rawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dr.w)(b=>{const D=b.currentBrowserUrl.toString(),M=!i.navigated||b.extractedUrl.toString()!==D||D!==b.currentUrlTree.toString();if(!M&&"reload"!==(b.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const U="";return this.events.next(new Mc(b.id,this.urlSerializer.serialize(b.rawUrl),U,0)),b.resolve(null),gl.E}if(i.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return(0,vt.of)(b).pipe((0,dr.w)(U=>{const W=this.transitions?.getValue();return this.events.next(new Gh(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),W!==this.transitions?.getValue()?gl.E:Promise.resolve(U)}),function Rk(t,e,n,i,r,a){return(0,jr.z)(c=>function YF(t,e,n,i,r,a,c="emptyOnly"){return new Tk(t,e,n,i,r,c,a).recognize()}(t,e,n,i,c.extractedUrl,r,a).pipe((0,lt.U)(({state:m,tree:_})=>({...c,targetSnapshot:m,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),(0,ci.b)(U=>{c.targetSnapshot=U.targetSnapshot,c.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects};const W=new yb(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(W)}));if(M&&i.urlHandlingStrategy.shouldProcessUrl(b.currentRawUrl)){const{id:U,extractedUrl:W,source:re,restoredState:ge,extras:je}=b,Je=new Gh(U,this.urlSerializer.serialize(W),re,ge);this.events.next(Je);const nt=Ib(0,this.rootComponentType).snapshot;return this.currentTransition=c={...b,targetSnapshot:nt,urlAfterRedirects:W,extras:{...je,skipLocationChange:!1,replaceUrl:!1}},(0,vt.of)(c)}{const U="";return this.events.next(new Mc(b.id,this.urlSerializer.serialize(b.extractedUrl),U,1)),b.resolve(null),gl.E}}),(0,ci.b)(b=>{const D=new ik(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(D)}),(0,lt.U)(b=>(this.currentTransition=c={...b,guards:Nb(b.targetSnapshot,b.currentSnapshot,this.rootContexts)},c)),function Fb(t,e){return(0,jr.z)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?(0,vt.of)({...n,guardsResult:!0}):function yk(t,e,n,i){return(0,Dn.D)(t).pipe((0,jr.z)(r=>function xk(t,e,n,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,vt.of)(!0);const c=a.map(m=>{const _=Bo(e)??r,b=op(m,_);return El(function aC(t){return t&&lp(t.canDeactivate)}(b)?b.canDeactivate(t,e,n,i):_.runInContext(()=>b(t,e,n,i))).pipe(wl())});return(0,vt.of)(c).pipe(ru())}(r.component,r.route,n,e,i)),wl(r=>!0!==r,!0))}(c,i,r,t).pipe((0,jr.z)(m=>m&&function gk(t){return"boolean"==typeof t}(m)?function bk(t,e,n,i){return(0,Dn.D)(e).pipe(Ch(r=>vg(function WF(t,e){return null!==t&&e&&e(new YI(t)),(0,vt.of)(!0)}(r.route.parent,i),function qF(t,e){return null!==t&&e&&e(new bb(t)),(0,vt.of)(!0)}(r.route,i),function Ek(t,e,n){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function x_(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Gm(()=>{const m=c.guards.map(_=>{const b=Bo(c.node)??n,D=op(_,b);return El(function oC(t){return t&&lp(t.canActivateChild)}(D)?D.canActivateChild(i,t):b.runInContext(()=>D(i,t))).pipe(wl())});return(0,vt.of)(m).pipe(ru())}));return(0,vt.of)(a).pipe(ru())}(t,r.path,n),function wk(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,vt.of)(!0);const r=i.map(a=>Gm(()=>{const c=Bo(e)??n,m=op(a,c);return El(function sC(t){return t&&lp(t.canActivate)}(m)?m.canActivate(e,t):c.runInContext(()=>m(e,t))).pipe(wl())}));return(0,vt.of)(r).pipe(ru())}(t,r.route,n))),wl(r=>!0!==r,!0))}(i,a,t,e):(0,vt.of)(m)),(0,lt.U)(m=>({...n,guardsResult:m})))})}(this.environmentInjector,b=>this.events.next(b)),(0,ci.b)(b=>{if(c.guardsResult=b.guardsResult,xl(b.guardsResult))throw uk(0,b.guardsResult);const D=new qI(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.events.next(D)}),Bi(b=>!!b.guardsResult||(this.cancelNavigationTransition(b,"",3),!1)),vC(b=>{if(b.guards.canActivateChecks.length)return(0,vt.of)(b).pipe((0,ci.b)(D=>{const M=new WI(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}),(0,dr.w)(D=>{let M=!1;return(0,vt.of)(D).pipe(function XF(t,e){return(0,jr.z)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,vt.of)(n);let a=0;return(0,Dn.D)(r).pipe(Ch(c=>function JF(t,e,n,i){const r=t.routeConfig,a=t._resolve;return void 0!==r?.title&&!_C(r)&&(a[Wm]=r.title),function eL(t,e,n,i){const r=function tL(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return(0,vt.of)({});const a={};return(0,Dn.D)(r).pipe((0,jr.z)(c=>function nL(t,e,n,i){const r=Bo(e)??i,a=op(t,r);return El(a.resolve?a.resolve(e,n):r.runInContext(()=>a(e,n)))}(t[c],e,n,i).pipe(wl(),(0,ci.b)(m=>{a[c]=m}))),lb(1),function UM(t){return(0,lt.U)(()=>t)}(a),Ec(c=>C_(c)?gl.E:Sa(c)))}(a,t,e,i).pipe((0,lt.U)(c=>(t._resolvedData=c,t.data=lk(t,n).resolve,r&&_C(r)&&(t.data[Wm]=r.title),null)))}(c.route,i,t,e)),(0,ci.b)(()=>a++),lb(1),(0,jr.z)(c=>a===r.length?(0,vt.of)(n):gl.E))})}(i.paramsInheritanceStrategy,this.environmentInjector),(0,ci.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(D,"",2)}}))}),(0,ci.b)(D=>{const M=new ZI(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}))}),vC(b=>{const D=M=>{const L=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,ci.b)(U=>{M.component=U}),(0,lt.U)(()=>{})));for(const U of M.children)L.push(...D(U));return L};return lm(D(b.targetSnapshot.root)).pipe(qm(),_c(1))}),vC(()=>this.afterPreactivation()),(0,lt.U)(b=>{const D=function ck(t,e,n){const i=w_(t,e._root,n?n._root:void 0);return new ok(i,e)}(i.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return this.currentTransition=c={...b,targetRouterState:D},c}),(0,ci.b)(()=>{this.events.next(new np)}),((t,e,n,i)=>(0,lt.U)(r=>(new Ob(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,i.routeReuseStrategy,b=>this.events.next(b),this.inputBindingEnabled),_c(1),(0,ci.b)({next:b=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ac(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects))),i.titleStrategy?.updateTitle(b.targetRouterState.snapshot),b.resolve(!0)},complete:()=>{m=!0}}),yc(this.transitionAbortSubject.pipe((0,ci.b)(b=>{throw b}))),_m(()=>{m||_||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),Ec(b=>{if(_=!0,Mb(b))this.events.next(new ep(c.id,this.urlSerializer.serialize(c.extractedUrl),b.message,b.cancellationCode)),function jF(t){return Mb(t)&&xl(t.url)}(b)?this.events.next(new ip(b.url)):c.resolve(!1);else{this.events.next(new tp(c.id,this.urlSerializer.serialize(c.extractedUrl),b,c.targetSnapshot??void 0));try{c.resolve(i.errorHandler(b))}catch(D){c.reject(D)}}return gl.E}))}))}cancelNavigationTransition(i,r,a){const c=new ep(i.id,this.urlSerializer.serialize(i.extractedUrl),r,a);this.events.next(c),i.resolve(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function p(t){return t!==Ci}let v=(()=>{var t;class e{buildTitle(i){let r,a=i.root;for(;void 0!==a;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(c=>c.outlet===qt);return r}getResolvedTitleForRoute(i){return i.data[Wm]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(E)},providedIn:"root"}),e})(),E=(()=>{var t;class e extends v{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(la))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),I=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(R)},providedIn:"root"}),e})();class S{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let R=(()=>{var t;class e extends S{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const F=new u.OlP("",{providedIn:"root",factory:()=>({})});let G=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(K)},providedIn:"root"}),e})(),K=(()=>{var t;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ve=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ve||{});function Le(t,e){t.events.pipe(Bi(n=>n instanceof Ac||n instanceof ep||n instanceof tp||n instanceof Mc),(0,lt.U)(n=>n instanceof Ac||n instanceof Mc?ve.COMPLETE:n instanceof ep&&(0===n.code||1===n.code)?ve.REDIRECTING:ve.FAILED),Bi(n=>n!==ve.REDIRECTING),_c(1)).subscribe(()=>{e()})}function Qe(t){throw t}function _t(t,e,n){return e.parse("/")}const Ae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ft={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tt=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new li.x,this.options=(0,u.f3M)(F,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||Qe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_t,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(G),this.routeReuseStrategy=(0,u.f3M)(I),this.titleStrategy=(0,u.f3M)(v),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(s,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(h),this.urlSerializer=(0,u.f3M)(p_),this.location=(0,u.f3M)(Ge),this.componentInputBindingEnabled=!!(0,u.f3M)(sp,{optional:!0}),this.eventsSubscription=new Pd.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Km,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ib(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void($r(r)&&this._events.next(r));if(r instanceof Gh)p(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(r instanceof Mc)this.rawUrlTree=a.rawUrl;else if(r instanceof yb){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(c,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(r instanceof np)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(r instanceof ep)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(a);else if(r instanceof ip){const c=this.urlHandlingStrategy.merge(r.url,a.currentRawUrl),m={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||p(a.source)};this.scheduleNavigation(c,Ci,null,m,{resolve:a.resolve,reject:a.reject,promise:a.promise})}r instanceof tp&&this.restoreHistory(a,!0),r instanceof Ac&&(this.navigated=!0),$r(r)&&this._events.next(r)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ci,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,a){const c={replaceUrl:!0},m=a?.navigationId?a:null;if(a){const b={...a};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(c.state=b)}const _=this.parseUrl(i);this.scheduleNavigation(_,r,m,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(kb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:a,queryParams:c,fragment:m,queryParamsHandling:_,preserveFragment:b}=r,D=b?this.currentUrlTree.fragment:m;let L,M=null;switch(_){case"merge":M={...this.currentUrlTree.queryParams,...c};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}null!==M&&(M=this.removeEmptyProps(M));try{L=BI(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),L=this.currentUrlTree.root}return jI(L,i,M,D??null)}navigateByUrl(i,r={skipLocationChange:!1}){const a=xl(i)?i:this.parseUrl(i),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,Ci,null,r)}navigate(i,r={skipLocationChange:!1}){return function _n(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new u.vHH(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,i)}return r}isActive(i,r){let a;if(a=!0===r?{...Ae}:!1===r?{...Ft}:r,xl(i))return db(this.currentUrlTree,i,a);const c=this.parseUrl(i);return db(this.currentUrlTree,c,a)}removeEmptyProps(i){return Object.keys(i).reduce((r,a)=>{const c=i[a];return null!=c&&(r[a]=c),r},{})}scheduleNavigation(i,r,a,c,m){if(this.disposed)return Promise.resolve(!1);let _,b,D;m?(_=m.resolve,b=m.reject,D=m.promise):D=new Promise((L,U)=>{_=L,b=U});const M=this.pendingTasks.add();return Le(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:c,resolve:_,reject:b,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(L=>Promise.reject(L))}setBrowserUrl(i,r){const a=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl){const m={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(a,"",m)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(a,"",c)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $r(t){return!(t instanceof np||t instanceof ip)}let Js=(()=>{var t;class e{constructor(i,r,a,c,m,_){this.router=i,this.route=r,this.tabIndexAttribute=a,this.renderer=c,this.el=m,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new li.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const b=m.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===b||"area"===b,this.isAnchorElement?this.subscription=i.events.subscribe(D=>{D instanceof Ac&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,a,c,m){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||r||a||c||m||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,r){const a=this.renderer,c=this.el.nativeElement;null!==r?a.setAttribute(c,i,r):a.removeAttribute(c,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Tt),u.Y36(iu),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ve))},t.\u0275dir=u.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&u.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&i&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),e})(),su=(()=>{var t;class e{get isActive(){return this._isActive}constructor(i,r,a,c,m){this.router=i,this.element=r,this.renderer=a,this.cdr=c,this.link=m,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=i.events.subscribe(_=>{_ instanceof Ac&&this.update()})}ngAfterContentInit(){(0,vt.of)(this.links.changes,(0,vt.of)(null)).pipe((0,Vd.J)()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Dn.D)(i).pipe((0,Vd.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){const r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){const r=function Hb(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&i.isActive(a.urlTree,r)}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Tt),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Js,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,a){if(1&i&&u.Suo(a,Js,5),2&i){let c;u.iGM(c=u.CRH())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),e})();class yC{}let wj=(()=>{var t;class e{constructor(i,r,a,c,m){this.router=i,this.injector=a,this.preloadingStrategy=c,this.loader=m}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(i=>i instanceof Ac),Ch(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const a=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,i,`Route: ${c.path}`));const m=c._injector??i,_=c._loadedInjector??m;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&a.push(this.preloadConfig(m,c)),(c.children||c._loadedRoutes)&&a.push(this.processRoutes(_,c.children??c._loadedRoutes))}return(0,Dn.D)(a).pipe((0,Vd.J)())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):(0,vt.of)(null);const c=a.pipe((0,jr.z)(m=>null===m?(0,vt.of)(void 0):(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,this.processRoutes(m.injector??i,m.routes))));if(r.loadComponent&&!r._loadedComponent){const m=this.loader.loadComponent(r);return(0,Dn.D)([c,m]).pipe((0,Vd.J)())}return c})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Tt),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(yC),u.LFG(o))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ok=new u.OlP("");let rL=(()=>{var t;class e{constructor(i,r,a,c,m={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=a,this.zone=c,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ac?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Mc&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof wb&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wb(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){u.$Z()},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function ou(t,e){return{\u0275kind:t,\u0275providers:e}}function oL(){const t=(0,u.f3M)(u.zs3);return e=>{const n=t.get(u.z2F);if(e!==n.components[0])return;const i=t.get(Tt),r=t.get(aL);1===t.get(Nk)&&i.initialNavigation(),t.get(lL,null,u.XFs.Optional)?.setUpPreloading(),t.get(Ok,null,u.XFs.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const aL=new u.OlP("",{factory:()=>new li.x}),Nk=new u.OlP("",{providedIn:"root",factory:()=>1}),lL=new u.OlP("");function Cj(t){return ou(0,[{provide:lL,useExisting:wj},{provide:yC,useExisting:t}])}const cL=new u.OlP("ROUTER_FORROOT_GUARD"),Tj=[Ge,{provide:p_,useClass:PI},Tt,qh,{provide:iu,useFactory:function sL(t){return t.routerState.root},deps:[Tt]},o,[]];function Sj(){return new u.PXZ("Router",Tt)}let dL=(()=>{var t;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Tj,[],{provide:s,multi:!0,useValue:i},{provide:cL,useFactory:Rj,deps:[[Tt,new u.FiY,new u.tp0]]},{provide:F,useValue:r||{}},r?.useHash?{provide:Ve,useClass:Re}:{provide:Ve,useClass:Ze},{provide:Ok,useFactory:()=>{const t=(0,u.f3M)(ni),e=(0,u.f3M)(u.R0b),n=(0,u.f3M)(F),i=(0,u.f3M)(h),r=(0,u.f3M)(p_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rL(r,i,t,e,n)}},r?.preloadingStrategy?Cj(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Sj},r?.initialNavigation?Oj(r):[],r?.bindToComponentInputs?ou(8,[JI,{provide:sp,useExisting:JI}]).\u0275providers:[],[{provide:uL,useFactory:oL},{provide:u.tb,multi:!0,useExisting:uL}]]}}static forChild(i){return{ngModule:e,providers:[{provide:s,multi:!0,useValue:i}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(cL,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();function Rj(t){return"guarded"}function Oj(t){return["disabled"===t.initialNavigation?ou(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Tt);return()=>{e.setUpLocationChangeListener()}}},{provide:Nk,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ou(2,[{provide:Nk,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const n=e.get(Ne,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=e.get(Tt),a=e.get(aL);Le(r,()=>{i(!0)}),e.get(h).afterPreactivation=()=>(i(!0),a.closed?(0,vt.of)(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const uL=new u.OlP("");function Pj(t,e){if(1&t&&(u.TgZ(0,"div",5),u._UZ(1,"img",6),u.TgZ(2,"h3"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA()()),2&t){const n=e.$implicit;u.xp6(1),u.s9C("src",n.imagem,u.LSH),u.s9C("alt",n.nome),u.xp6(2),u.Oqu(n.nome),u.xp6(2),u.hij("Pre\xe7o: R$ ",n.preco,"")}}let Fj=(()=>{var t;class e{constructor(){this.produtos=[{nome:"Variedade de P\xe3es Frescos na Mesa",imagem:"https://st2.depositphotos.com/27201292/46580/i/1600/depositphotos_465804996-stock-photo-vertical-shot-breads-chopping-board.jpg",preco:9.99},{nome:"Cesta Colorida de Frutas e Verduras Frescas",imagem:"https://thumbs.dreamstime.com/b/homem-segurando-um-saco-ecol%C3%B3gico-de-compras-lixo-zero-com-comida-estilo-vida-sem-desperd%C3%ADcio-e-conceito-dieta-saud%C3%A1vel-mala-176755515.jpg",preco:15.99}]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-home"]],decls:11,vars:1,consts:[[1,"main-content"],[1,"intro"],[1,"featured-products"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],[3,"src","alt"]],template:function(i,r){1&i&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Bem-vindo ao Supermarket"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"Explore nossa ampla sele\xe7\xe3o de produtos frescos e deliciosos."),u.qZA()(),u.TgZ(6,"div",2)(7,"h2"),u._uU(8,"Produtos em Destaque"),u.qZA(),u.TgZ(9,"div",3),u.YNc(10,Pj,6,4,"div",4),u.qZA()()()),2&i&&(u.xp6(10),u.Q6J("ngForOf",r.produtos))},dependencies:[Zo],styles:[".main-content[_ngcontent-%COMP%]{text-align:center;padding:40px}.intro[_ngcontent-%COMP%]{margin-bottom:30px}.intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:10px}.intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#555}.featured-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#333;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px}.product-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:20px}.product-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;text-align:center;transition:transform .3s,box-shadow .3s;cursor:pointer;background-color:#fff;box-shadow:0 2px 6px #0000001a}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;margin:0 auto 15px;display:block}.product-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin:10px 0}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#555;margin-bottom:0}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #0003}"]}),e})();var bC=O(3093);function hL(t,e){return(0,Ih.m)(e)?(0,dr.w)(()=>t,e):(0,dr.w)(()=>t)}var Pk=O(5137),Gr=O(2793);O(4097);var xe=O(5861),up=O(534),EC=O(4537),mn=O(9058),Kh=O(7879);const Lk=new Map,mL={activated:!1,tokenObservers:[]},jj={initialized:!1,enabled:!1};function Di(t){return Lk.get(t)||Object.assign({},mL)}function xC(){return jj}const Vk="https://content-firebaseappcheck.googleapis.com/v1",Gj="exchangeDebugToken",pL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Wj{constructor(e,n,i,r,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,xe.Z)(function*(){n.stop();try{n.pending=new mn.BH,yield function Zj(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new mn.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(i){n.retryPolicy(i)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const qr=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uk(t){if(!Di(t).activated)throw qr.create("use-before-activation",{appName:t.name})}function DC(t,e){return jk.apply(this,arguments)}function jk(){return(jk=(0,xe.Z)(function*({url:t,body:e},n){const i={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c,m;try{c=yield fetch(t,a)}catch(M){throw qr.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==c.status)throw qr.create("fetch-status-error",{httpStatus:c.status});try{m=yield c.json()}catch(M){throw qr.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(_[1]),D=Date.now();return{token:m.token,expireTimeMillis:D+b,issuedAtTimeMillis:D}})).apply(this,arguments)}function gL(t,e){const{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Vk}/projects/${n}/apps/${i}:${Gj}?key=${r}`,body:{debug_token:e}}}const Xj="firebase-app-check-database",Jj=1,zb="firebase-app-check-store";let TC=null;function Hk(){return(Hk=(0,xe.Z)(function*(t,e){const i=(yield function vL(){return TC||(TC=new Promise((t,e)=>{try{const n=indexedDB.open(Xj,Jj);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(qr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(zb,{keyPath:"compositeKey"})}}catch(n){e(qr.create("storage-open",{originalErrorMessage:n?.message}))}}),TC)}()).transaction(zb,"readwrite"),a=i.objectStore(zb).put({compositeKey:t,value:e});return new Promise((c,m)=>{a.onsuccess=_=>{c()},i.onerror=_=>{var b;m(qr.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const $b=new Kh.Yd("@firebase/app-check");function Gk(t,e){return(0,mn.hl)()?function t4(t,e){return function yL(t,e){return Hk.apply(this,arguments)}(function wL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{$b.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Wk(){return xC().enabled}function Zk(){return Kk.apply(this,arguments)}function Kk(){return(Kk=(0,xe.Z)(function*(){const t=xC();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const a4={error:"UNKNOWN_ERROR"};function l4(t){return mn.US.encodeString(JSON.stringify(t),!1)}function SC(t){return Yk.apply(this,arguments)}function Yk(){return(Yk=(0,xe.Z)(function*(t,e=!1){const n=t.app;Uk(n);const i=Di(n);let a,r=i.token;if(r&&!T_(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(T_(_)?r=_:yield Gk(n,void 0))}if(!e&&r&&T_(r))return{token:r.token};let m,c=!1;if(Wk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=DC(gL(n,yield Zk()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const _=yield i.exchangeTokenPromise;return yield Gk(n,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Di(n).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?$b.warn(_.message):$b.error(_),a=_}return r?a?m=T_(r)?{token:r.token,internalError:a}:CL(a):(m={token:r.token},i.token=r,yield Gk(n,r)):m=CL(a),c&&function IL(t,e){const n=Di(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(n,m),m})).apply(this,arguments)}function EL(t){return Qk.apply(this,arguments)}function Qk(){return(Qk=(0,xe.Z)(function*(t){const e=t.app;Uk(e);const{provider:n}=Di(e);if(Wk()){const i=yield Zk(),{token:r}=yield DC(gL(e,i),t.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}function Jk(t,e){const n=Di(t),i=n.tokenObservers.filter(r=>r.next!==e);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function xL(t){const{app:e}=t,n=Di(e);let i=n.tokenRefresher;i||(i=function c4(t){const{app:e}=t;return new Wj((0,xe.Z)(function*(){let i;if(i=Di(e).token?yield SC(t,!0):yield SC(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const n=Di(e);if(n.token){let i=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,n.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},pL.RETRIAL_MIN_WAIT,pL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function T_(t){return t.expireTimeMillis-Date.now()>0}function CL(t){return{token:l4(a4),error:t}}class d4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Di(this.app);for(const n of e)Jk(this.app,n.next);return Promise.resolve()}}const OL="app-check-internal";!function I4(){(0,up._registerComponent)(new EC.wA("app-check",t=>function u4(t,e){return new d4(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(OL).initialize()})),(0,up._registerComponent)(new EC.wA(OL,t=>function h4(t){return{getToken:e=>SC(t,e),getLimitedUseToken:()=>EL(t),addTokenListener:e=>function Xk(t,e,n,i){const{app:r}=t,a=Di(r);if(a.tokenObservers=[...a.tokenObservers,{next:n,error:i,type:e}],a.token&&T_(a.token)){const m=a.token;Promise.resolve().then(()=>{n({token:m.token}),xL(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>xL(t))}(t,"INTERNAL",e),removeTokenListener:e=>Jk(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,up.registerVersion)("@firebase/app-check","0.8.0")}();class r1{constructor(){return(0,Gr.vb)("app-check")}}typeof window<"u"&&window;var A4=O(120);const PL=new u.OlP("angularfire2.auth.use-emulator"),FL=new u.OlP("angularfire2.auth.settings"),LL=new u.OlP("angularfire2.auth.tenant-id"),VL=new u.OlP("angularfire2.auth.langugage-code"),UL=new u.OlP("angularfire2.auth.use-device-language"),BL=new u.OlP("angularfire.auth.persistence"),jL=(t,e,n,i,r,a,c,m)=>(0,wi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const _=e.runOutsideAngular(()=>t.auth());if(n&&_.useEmulator(...n),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),c)for(const[b,D]of Object.entries(c))_.settings[b]=D;return m&&_.setPersistence(m),_},[n,i,r,a,c,m]);let S_=(()=>{class t{constructor(n,i,r,a,c,m,_,b,D,M,L,U){const W=new li.x,re=(0,vt.of)(void 0).pipe((0,bC.Q)(c.outsideAngular),(0,dr.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8977)))),(0,lt.U)(()=>(0,wi.on)(n,a,i)),(0,lt.U)(ge=>jL(ge,a,m,b,D,M,_,L)),Mm({bufferSize:1,refCount:!1}));if(bs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,vt.of)(null);else{re.pipe(wl()).subscribe();const je=re.pipe((0,dr.w)(ct=>ct.getRedirectResult().then(kt=>kt,()=>null)),Gr.iC,Mm({bufferSize:1,refCount:!1})),Je=re.pipe((0,dr.w)(ct=>new qn.y(kt=>({unsubscribe:a.runOutsideAngular(()=>ct.onAuthStateChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))})))),nt=re.pipe((0,dr.w)(ct=>new qn.y(kt=>({unsubscribe:a.runOutsideAngular(()=>ct.onIdTokenChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))}))));this.authState=je.pipe(hL(Je),(0,Pk.R)(c.outsideAngular),(0,bC.Q)(c.insideAngular)),this.user=je.pipe(hL(nt),(0,Pk.R)(c.outsideAngular),(0,bC.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,dr.w)(ct=>ct?(0,Dn.D)(ct.getIdToken()):(0,vt.of)(null))),this.idTokenResult=this.user.pipe((0,dr.w)(ct=>ct?(0,Dn.D)(ct.getIdTokenResult()):(0,vt.of)(null))),this.credential=(0,hy.T)(je,W,this.authState.pipe(Bi(ct=>!ct))).pipe((0,lt.U)(ct=>ct?.user?ct:null),(0,Pk.R)(c.outsideAngular),(0,bC.Q)(c.insideAngular))}return(0,wi.pX)(this,re,a,{spy:{apply:(ge,je,Je)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&Je.then(nt=>W.next(nt))}}})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(wi.Dh),u.LFG(wi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gr.HU),u.LFG(PL,8),u.LFG(FL,8),u.LFG(LL,8),u.LFG(VL,8),u.LFG(UL,8),u.LFG(BL,8),u.LFG(r1,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),k4=(()=>{class t{constructor(){A4.Z.registerVersion("angularfire",Gr.q4.full,"auth-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[S_]}),t})(),HL=(()=>{var t;class e{constructor(i){this.afa=i}login(i){return this.afa.signInWithEmailAndPassword(i.email,i.senha)}logout(){return this.afa.signOut()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(S_))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),R4=(()=>{var t;class e{constructor(i,r,a){this.FormBuilder=i,this.auth=r,this.router=a,this.formLogin=i.group({email:["",hn.compose([hn.required,hn.email])],senha:["",hn.compose([hn.required,hn.minLength(6),hn.maxLength(10)])]})}login(){this.formLogin.valid&&this.auth.login(this.formLogin.value).then(i=>{console.log(i),this.router.navigate(["home"])}).catch(i=>{console.log(i)})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(mh),u.Y36(HL),u.Y36(Tt))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"container"],[1,"form"],[3,"formGroup","ngSubmit"],[1,"example-form-field"],["formControlName","email","matInput","","type","email"],["formControlName","senha","matInput","","type","password"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(i,r){1&i&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2,"Login"),u.qZA(),u.TgZ(3,"div",1)(4,"form",2),u.NdJ("ngSubmit",function(){return r.login()}),u.TgZ(5,"mat-form-field",3)(6,"mat-label"),u._uU(7,"Email"),u.qZA(),u._UZ(8,"input",4),u.qZA(),u.TgZ(9,"mat-form-field",3)(10,"mat-label"),u._uU(11,"Senha"),u.qZA(),u._UZ(12,"input",5),u.qZA(),u.TgZ(13,"button",6),u._uU(14,"Login"),u.qZA()()()()),2&i&&(u.xp6(4),u.Q6J("formGroup",r.formLogin),u.xp6(9),u.Q6J("disabled",r.formLogin.invalid))},dependencies:[wy,zg,Rm,sh,Ds,Yu,cc,pc,Sd],styles:["body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#f0f0f0;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#dbdbdb;box-shadow:0 0 10px #0000001a}.form[_ngcontent-%COMP%]{margin-top:1%}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:10px;color:#333}.form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:90%;padding:12px;border:1px solid #312b2b;border-radius:4px;margin-bottom:15px;transition:border-color .3s}.form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#e3e3e3;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s;width:100%}.form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80%}.form[_ngcontent-%COMP%]{width:100%;max-width:200px;padding:20%;background-color:#fff;box-shadow:0 0 10px #0000001a}"]}),e})();function o1(){return(0,Ir.e)((t,e)=>{let n,i=!1;t.subscribe((0,jn.x)(e,r=>{const a=n;n=r,i&&e.next([a,r]),i=!0}))})}var it,O4=O(3997),N4=(O(8977),O(3106)),P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cl={},a1=a1||{},Gt=P4||self;function MC(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gb(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var l1="closure_uid_"+(1e9*Math.random()>>>0),L4=0;function V4(t,e,n){return t.call.apply(t.bind,arguments)}function U4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function cs(t,e,n){return(cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V4:U4).apply(null,arguments)}function kC(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Tr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,a){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[r].apply(i,c)}}function Yh(){this.s=this.s,this.o=this.o}Yh.prototype.s=!1,Yh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function F4(t){Object.prototype.hasOwnProperty.call(t,l1)&&t[l1]||(t[l1]=++L4)}(this)},Yh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function c1(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function $L(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(MC(i)){const r=t.length||0,a=i.length||0;t.length=r+a;for(let c=0;c<a;c++)t[r+c]=i[c]}else t.push(i)}}function ds(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ds.prototype.h=function(){this.defaultPrevented=!0};var j4=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Gt.addEventListener("test",()=>{},e),Gt.removeEventListener("test",()=>{},e)}catch{}return t}();function qb(t){return/^[\s\xa0]*$/.test(t)}function RC(){var t=Gt.navigator;return t&&(t=t.userAgent)?t:""}function Oc(t){return-1!=RC().indexOf(t)}function d1(t){return d1[" "](t),t}d1[" "]=function(){};var h1,t,z4=Oc("Opera"),A_=Oc("Trident")||Oc("MSIE"),GL=Oc("Edge"),u1=GL||A_,qL=Oc("Gecko")&&!(-1!=RC().toLowerCase().indexOf("webkit")&&!Oc("Edge"))&&!(Oc("Trident")||Oc("MSIE"))&&!Oc("Edge"),$4=-1!=RC().toLowerCase().indexOf("webkit")&&!Oc("Edge");function WL(){var t=Gt.document;return t?t.documentMode:void 0}e:{var f1="",m1=(t=RC(),qL?/rv:([^\);]+)(\)|;)/.exec(t):GL?/Edge\/([\d\.]+)/.exec(t):A_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$4?/WebKit\/(\S+)/.exec(t):z4?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(m1&&(f1=m1?m1[1]:""),A_){var p1=WL();if(null!=p1&&p1>parseFloat(f1)){h1=String(p1);break e}}h1=f1}var G4=Gt.document&&A_&&(WL()||parseInt(h1,10))||void 0;function Wb(t,e){if(ds.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qL){e:{try{d1(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:q4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wb.$.h.call(this)}}Tr(Wb,ds);var q4={2:"touch",3:"pen",4:"mouse"};Wb.prototype.h=function(){Wb.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zb="closure_listenable_"+(1e6*Math.random()|0),W4=0;function Z4(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++W4,this.fa=this.ia=!1}function OC(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _1(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function KL(t){const e={};for(const n in t)e[n]=t[n];return e}const YL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QL(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let a=0;a<YL.length;a++)n=YL[a],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function NC(t){this.src=t,this.g={},this.h=0}function v1(t,e){var n=e.type;if(n in t.g){var a,i=t.g[n],r=zL(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(OC(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function y1(t,e,n,i){for(var r=0;r<t.length;++r){var a=t[r];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==i)return r}return-1}NC.prototype.add=function(t,e,n,i,r){var a=t.toString();(t=this.g[a])||(t=this.g[a]=[],this.h++);var c=y1(t,e,i,r);return-1<c?(e=t[c],n||(e.ia=!1)):((e=new Z4(e,this.src,a,!!i,r)).ia=n,t.push(e)),e};var b1="closure_lm_"+(1e6*Math.random()|0),w1={};function XL(t,e,n,i,r){if(i&&i.once)return e2(t,e,n,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)XL(t,e[a],n,i,r);return null}return n=C1(n),t&&t[Zb]?t.O(e,n,Gb(i)?!!i.capture:!!i,r):JL(t,e,n,!1,i,r)}function JL(t,e,n,i,r,a){if(!e)throw Error("Invalid event type");var c=Gb(r)?!!r.capture:!!r,m=x1(t);if(m||(t[b1]=m=new NC(t)),(n=m.add(e,n,i,c,a)).proxy)return n;if(i=function Y4(){const e=Q4;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)j4||(r=c),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(n2(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function e2(t,e,n,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)e2(t,e[a],n,i,r);return null}return n=C1(n),t&&t[Zb]?t.P(e,n,Gb(i)?!!i.capture:!!i,r):JL(t,e,n,!0,i,r)}function t2(t,e,n,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)t2(t,e[a],n,i,r);else i=Gb(i)?!!i.capture:!!i,n=C1(n),t&&t[Zb]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=y1(a=t.g[e],n,i,r))&&(OC(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[e],t.h--))):t&&(t=x1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=y1(e,n,i,r)),(n=-1<t?e[t]:null)&&E1(n))}function E1(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Zb])v1(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(n2(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=x1(e))?(v1(n,t),0==n.h&&(n.src=null,e[b1]=null)):OC(t)}}}function n2(t){return t in w1?w1[t]:w1[t]="on"+t}function Q4(t,e){if(t.fa)t=!0;else{e=new Wb(e,this);var n=t.listener,i=t.la||t.src;t.ia&&E1(t),t=n.call(i,e)}return t}function x1(t){return(t=t[b1])instanceof NC?t:null}var I1="__closure_events_fn_"+(1e9*Math.random()>>>0);function C1(t){return"function"==typeof t?t:(t[I1]||(t[I1]=function(e){return t.handleEvent(e)}),t[I1])}function Sr(){Yh.call(this),this.i=new NC(this),this.S=this,this.J=null}function Wr(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"==typeof e)e=new ds(e,t);else if(e instanceof ds)e.target=e.target||t;else{var r=e;QL(e=new ds(i,t),r)}if(r=!0,n)for(var a=n.length-1;0<=a;a--){var c=e.g=n[a];r=PC(c,i,!0,e)&&r}if(r=PC(c=e.g=t,i,!0,e)&&r,r=PC(c,i,!1,e)&&r,n)for(a=0;a<n.length;a++)r=PC(c=e.g=n[a],i,!1,e)&&r}function PC(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==n){var m=c.listener,_=c.la||c.src;c.ia&&v1(t.i,c),r=!1!==m.call(_,i)&&r}}return r&&!i.defaultPrevented}Tr(Sr,Yh),Sr.prototype[Zb]=!0,Sr.prototype.removeEventListener=function(t,e,n,i){t2(this,t,e,n,i)},Sr.prototype.N=function(){if(Sr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)OC(n[i]);delete t.g[e],t.h--}}this.J=null},Sr.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Sr.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var D1=Gt.JSON.stringify;function J4(){var t=T1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var i2=new class X4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tH,t=>t.reset());class tH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nH(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iH(t){Gt.setTimeout(()=>{throw t},0)}let Kb,Yb=!1,T1=new class eH{constructor(){this.h=this.g=null}add(e,n){const i=i2.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},r2=()=>{const t=Gt.Promise.resolve(void 0);Kb=()=>{t.then(rH)}};var rH=()=>{for(var t;t=J4();){try{t.h.call(t.g)}catch(n){iH(n)}var e=i2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yb=!1};function FC(t,e){Sr.call(this),this.h=t||1,this.g=e||Gt,this.j=cs(this.qb,this),this.l=Date.now()}function S1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function A1(t,e,n){if("function"==typeof t)n&&(t=cs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Gt.setTimeout(t,e||0)}function s2(t){t.g=A1(()=>{t.g=null,t.i&&(t.i=!1,s2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Tr(FC,Sr),(it=FC.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wr(this,"tick"),this.ga&&(S1(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){FC.$.N.call(this),S1(this),delete this.g};class sH extends Yh{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:s2(this)}N(){super.N(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qb(t){Yh.call(this),this.h=t,this.g={}}Tr(Qb,Yh);var o2=[];function a2(t,e,n,i){Array.isArray(n)||(n&&(o2[0]=n.toString()),n=o2);for(var r=0;r<n.length;r++){var a=XL(e,n[r],i||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function l2(t){_1(t.g,function(e,n){this.g.hasOwnProperty(n)&&E1(e)},t),t.g={}}function LC(){this.g=!0}function M_(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return D1(n)}catch{return e}}(t,n)+(i?" "+i:"")})}Qb.prototype.N=function(){Qb.$.N.call(this),l2(this)},Qb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LC.prototype.Ea=function(){this.g=!1},LC.prototype.info=function(){};var hp={},c2=null;function VC(){return c2=c2||new Sr}function d2(t){ds.call(this,hp.Ta,t)}function Xb(t){const e=VC();Wr(e,new d2(e))}function u2(t,e){ds.call(this,hp.STAT_EVENT,t),this.stat=e}function ks(t){const e=VC();Wr(e,new u2(e,t))}function h2(t,e){ds.call(this,hp.Ua,t),this.size=e}function Jb(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){t()},e)}hp.Ta="serverreachability",Tr(d2,ds),hp.STAT_EVENT="statevent",Tr(u2,ds),hp.Ua="timingevent",Tr(h2,ds);var UC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},f2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function M1(){}function p2(){}M1.prototype.h=null;var O1,e0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function k1(){ds.call(this,"d")}function R1(){ds.call(this,"c")}function BC(){}function t0(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Qb(this),this.P=dH,this.V=new FC(t=u1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g2}function g2(){this.i=null,this.g="",this.h=!1}Tr(k1,ds),Tr(R1,ds),Tr(BC,M1),BC.prototype.g=function(){return new XMLHttpRequest},BC.prototype.i=function(){return{}},O1=new BC;var dH=45e3,N1={},jC={};function P1(t,e,n){t.L=1,t.v=GC(au(e)),t.s=n,t.S=!0,_2(t,null)}function _2(t,e){t.G=Date.now(),n0(t),t.A=au(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),T2(n.i,"t",i),t.C=0,n=t.l.J,t.h=new g2,t.g=Q2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sH(cs(t.Pa,t,t.g),t.O)),a2(t.U,t.g,"readystatechange",t.nb),e=t.I?KL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xb(),function oH(t,e,n,i,r,a){t.info(function(){if(t.g)if(a)for(var c="",m=a.split("&"),_=0;_<m.length;_++){var b=m[_].split("=");if(1<b.length){var D=b[0];b=b[1];var M=D.split("_");c=2<=M.length&&"type"==M[1]?c+(D+"=")+b+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+c})}(t.j,t.u,t.A,t.m,t.W,t.s)}function v2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function y2(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=uH(t,n),r==jC){4==e&&(t.o=4,ks(14),i=!1),M_(t.j,t.m,null,"[Incomplete Response]");break}if(r==N1){t.o=4,ks(15),M_(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}M_(t.j,t.m,r,null),F1(t,r)}v2(t)&&r!=jC&&r!=N1&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ks(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),z1(e),e.M=!0,ks(11))):(M_(t.j,t.m,n,"[Invalid Chunked Response]"),fp(t),r0(t))}function uH(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?jC:(n=Number(e.substring(n,i)),isNaN(n)?N1:(i+=1)+n>e.length?jC:(e=e.slice(i,i+n),t.C=i+n,e))}function n0(t){t.Y=Date.now()+t.P,b2(t,t.P)}function b2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jb(cs(t.lb,t),e)}function HC(t){t.B&&(Gt.clearTimeout(t.B),t.B=null)}function r0(t){0==t.l.H||t.J||W2(t.l,t)}function fp(t){HC(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,S1(t.V),l2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function F1(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||L1(n.i,t)))if(!t.K&&L1(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;QC(n),KC(n)}H1(n),ks(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jb(cs(n.ib,n),6e3));if(1>=M2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else pp(n,11)}else if((t.K||n.g==t)&&QC(n),!qb(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(n.V=b[0],b=b[1],2==n.H)if("c"==b[0]){n.K=b[1],n.pa=b[2];const D=b[3];null!=D&&(n.ra=D,n.l.info("VER="+n.ra));const M=b[4];null!=M&&(n.Ga=M,n.l.info("SVER="+n.Ga));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(n.L=i=1.5*L,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const U=t.g;if(U){const W=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=i.i;a.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(V1(a,a.h),a.h=null))}if(i.F){const re=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(i.Da=re,Zn(i.I,i.F,re))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var c=t;if((i=n).wa=Y2(i,i.J?i.pa:null,i.Y),c.K){k2(i.i,c);var m=c,_=i.L;_&&m.setTimeout(_),m.B&&(HC(m),n0(m)),i.g=c}else G2(i);0<n.j.length&&YC(n)}else"stop"!=b[0]&&"close"!=b[0]||pp(n,7);else 3==n.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?pp(n,7):j1(n):"noop"!=b[0]&&n.h&&n.h.Aa(b),n.A=0)}Xb()}catch{}}function w2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(MC(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function fH(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(MC(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function hH(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(MC(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],n&&n[a],t)}(it=t0.prototype).setTimeout=function(t){this.P=t},it.nb=function(t){t=t.target;const e=this.M;e&&3==Nc(t)?e.l():this.Pa(t)},it.Pa=function(t){try{if(t==this.g)e:{const D=Nc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||u1||this.g&&(this.h.h||this.g.ja()||U2(this.g)))){this.J||4!=D||7==e||Xb(),HC(this);var n=this.g.da();this.ca=n;t:if(v2(this)){var i=U2(this.g);t="";var r=i.length,a=4==Nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fp(this),r0(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==n,function aH(t,e,n,i,r,a,c){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,D,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qb(m)){var b=m;break t}}b=null}if(!(n=b)){this.i=!1,this.o=3,ks(12),fp(this),r0(this);break e}M_(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,F1(this,n)}this.S?(y2(this,D,c),u1&&this.i&&3==D&&(a2(this.U,this.V,"tick",this.mb),this.V.start())):(M_(this.j,this.m,c,null),F1(this,c)),4==D&&fp(this),this.i&&!this.J&&(4==D?W2(this.l,this):(this.i=!1,n0(this)))}else(function kH(t){const e={};t=(t.g&&2<=Nc(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(qb(t[i]))continue;var n=nH(t[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=e[r]||[];e[r]=a,a.push(n)}!function K4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(i){return i.join(", ")})})(this.g),400==n&&0<c.indexOf("Unknown SID")?(this.o=3,ks(12)):(this.o=0,ks(13)),fp(this),r0(this)}}}catch{}},it.mb=function(){if(this.g){var t=Nc(this.g),e=this.g.ja();this.C<e.length&&(HC(this),y2(this,t,e),this.i&&4!=t&&n0(this))}},it.cancel=function(){this.J=!0,fp(this)},it.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function lH(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xb(),ks(17)),fp(this),this.o=2,r0(this)):b2(this,this.Y-t)};var E2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mp){this.h=t.h,zC(this,t.j),this.s=t.s,this.g=t.g,$C(this,t.m),this.l=t.l;var e=t.i,n=new a0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),x2(this,n),this.o=t.o}else t&&(e=String(t).match(E2))?(this.h=!1,zC(this,e[1]||"",!0),this.s=s0(e[2]||""),this.g=s0(e[3]||"",!0),$C(this,e[4]),this.l=s0(e[5]||"",!0),x2(this,e[6]||"",!0),this.o=s0(e[7]||"")):(this.h=!1,this.i=new a0(null,this.h))}function au(t){return new mp(t)}function zC(t,e,n){t.j=n?s0(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $C(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function x2(t,e,n){e instanceof a0?(t.i=e,function bH(t,e){e&&!t.j&&(Qh(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(C2(this,i),T2(this,r,n))},t)),t.j=e}(t.i,t.h)):(n||(e=o0(e,vH)),t.i=new a0(e,t.h))}function Zn(t,e,n){t.i.set(e,n)}function GC(t){return Zn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function s0(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function o0(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,pH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pH(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(o0(e,I2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(o0(e,I2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(o0(n,"/"==n.charAt(0)?_H:gH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",o0(n,yH)),t.join("")};var I2=/[#\/\?@]/g,gH=/[#\?:]/g,_H=/[#\?]/g,vH=/[#\?@]/g,yH=/#/g;function a0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qh(t){t.g||(t.g=new Map,t.h=0,t.i&&function mH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var a=t[n].substring(0,i);r=t[n].substring(i+1)}else a=t[n];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function C2(t,e){Qh(t),e=k_(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function D2(t,e){return Qh(t),e=k_(t,e),t.g.has(e)}function T2(t,e,n){C2(t,e),0<n.length&&(t.i=null,t.g.set(k_(t,e),c1(n)),t.h+=n.length)}function k_(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S2(t){this.l=t||EH,t=Gt.PerformanceNavigationTiming?0<(t=Gt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ka&&Gt.g.Ka()&&Gt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=a0.prototype).add=function(t,e){Qh(this),this.i=null,t=k_(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},it.forEach=function(t,e){Qh(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)},it.ta=function(){Qh(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let a=0;a<r.length;a++)n.push(e[i])}return n},it.Z=function(t){Qh(this);let e=[];if("string"==typeof t)D2(this,t)&&(e=e.concat(this.g.get(k_(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},it.set=function(t,e){return Qh(this),this.i=null,D2(this,t=k_(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},it.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const a=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),t.push(r)}}return this.i=t.join("&")};var EH=10;function A2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function M2(t){return t.h?1:t.g?t.g.size:0}function L1(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function V1(t,e){t.g?t.g.add(e):t.h=e}function k2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function R2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return c1(t.i)}S2.prototype.cancel=function(){if(this.i=R2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xH=class{stringify(t){return Gt.JSON.stringify(t,void 0)}parse(t){return Gt.JSON.parse(t,void 0)}};function IH(){this.g=new xH}function CH(t,e,n){const i=n||"";try{w2(t,function(r,a){let c=r;Gb(r)&&(c=D1(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function qC(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function l0(t){this.l=t.fc||null,this.j=t.ob||!1}function WC(t,e){Sr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=U1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tr(l0,M1),l0.prototype.g=function(){return new WC(this.l,this.j)},l0.prototype.i=function(t){return function(){return t}}({}),Tr(WC,Sr);var U1=0;function O2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function c0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,d0(t)}function d0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(it=WC.prototype).open=function(t,e){if(this.readyState!=U1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,d0(this)},it.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Gt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,c0(this)),this.readyState=U1},it.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,d0(this)),this.g&&(this.readyState=3,d0(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?c0(this):d0(this),3==this.readyState&&O2(this)}},it.Za=function(t){this.g&&(this.response=this.responseText=t,c0(this))},it.Ya=function(t){this.g&&(this.response=t,c0(this))},it.ka=function(){this.g&&c0(this)},it.setRequestHeader=function(t,e){this.v.append(t,e)},it.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(WC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var TH=Gt.JSON.parse;function Ti(t){Sr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N2,this.L=this.M=!1}Tr(Ti,Sr);var N2="",SH=/^https?$/i,AH=["POST","PUT"];function P2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,F2(t),ZC(t)}function F2(t){t.F||(t.F=!0,Wr(t,"complete"),Wr(t,"error"))}function L2(t){if(t.h&&typeof a1<"u"&&(!t.C[1]||4!=Nc(t)||2!=t.da()))if(t.v&&4==Nc(t))A1(t.La,0,t);else if(Wr(t,"readystatechange"),4==Nc(t)){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=0===c){var r=String(t.I).match(E2)[1]||null;!r&&Gt.self&&Gt.self.location&&(r=Gt.self.location.protocol.slice(0,-1)),i=!SH.test(r?r.toLowerCase():"")}n=i}if(n)Wr(t,"complete"),Wr(t,"success");else{t.m=6;try{var a=2<Nc(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",F2(t)}}finally{ZC(t)}}}function ZC(t,e){if(t.g){V2(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wr(t,"ready");try{n.onreadystatechange=i}catch{}}}function V2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Gt.clearTimeout(t.A),t.A=null)}function Nc(t){return t.g?t.g.readyState:0}function U2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case N2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function B2(t){let e="";return _1(t,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function B1(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=B2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zn(t,e,n))}function u0(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j2(t){this.Ga=0,this.j=[],this.l=new LC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=u0("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=u0("baseRetryDelayMs",5e3,t),this.hb=u0("retryDelaySeedMs",1e4,t),this.eb=u0("forwardChannelMaxRetries",2,t),this.xa=u0("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new S2(t&&t.concurrentRequestLimit),this.Ja=new IH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function j1(t){if(H2(t),3==t.H){var e=t.W++,n=au(t.I);if(Zn(n,"SID",t.K),Zn(n,"RID",e),Zn(n,"TYPE","terminate"),h0(t,n),(e=new t0(t,t.l,e)).L=2,e.v=GC(au(n)),n=!1,Gt.navigator&&Gt.navigator.sendBeacon)try{n=Gt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Gt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Q2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),n0(e)}K2(t)}function KC(t){t.g&&(z1(t),t.g.cancel(),t.g=null)}function H2(t){KC(t),t.u&&(Gt.clearTimeout(t.u),t.u=null),QC(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Gt.clearTimeout(t.m),t.m=null)}function YC(t){if(!A2(t.i)&&!t.m){t.m=!0;var e=t.Na;Kb||r2(),Yb||(Kb(),Yb=!0),T1.add(e,t),t.C=0}}function z2(t,e){var n;n=e?e.m:t.W++;const i=au(t.I);Zn(i,"SID",t.K),Zn(i,"RID",n),Zn(i,"AID",t.V),h0(t,i),t.o&&t.s&&B1(i,t.o,t.s),n=new t0(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),V1(t.i,n),P1(n,i,e)}function h0(t,e){t.na&&_1(t.na,function(n,i){Zn(e,i,n)}),t.h&&w2({},function(n,i){Zn(e,i,n)})}function $2(t,e,n){n=Math.min(t.j.length,n);var i=t.h?cs(t.h.Va,t.h,t):null;e:{var r=t.j;let a=-1;for(;;){const c=["count="+n];-1==a?0<n?(a=r[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let m=!0;for(let _=0;_<n;_++){let b=r[_].g;const D=r[_].map;if(b-=a,0>b)a=Math.max(0,r[_].g-100),m=!1;else try{CH(D,c,"req"+b+"_")}catch{i&&i(D)}}if(m){i=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function G2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kb||r2(),Yb||(Kb(),Yb=!0),T1.add(e,t),t.A=0}}function H1(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jb(cs(t.Ma,t),Z2(t,t.A)),t.A++,0))}function z1(t){null!=t.B&&(Gt.clearTimeout(t.B),t.B=null)}function q2(t){t.g=new t0(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=au(t.wa);Zn(e,"RID","rpc"),Zn(e,"SID",t.K),Zn(e,"AID",t.V),Zn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Zn(e,"TO",t.qa),Zn(e,"TYPE","xmlhttp"),h0(t,e),t.o&&t.s&&B1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=GC(au(e)),n.s=null,n.S=!0,_2(n,t)}function QC(t){null!=t.v&&(Gt.clearTimeout(t.v),t.v=null)}function W2(t,e){var n=null;if(t.g==e){QC(t),z1(t),t.g=null;var i=2}else{if(!L1(t.i,e))return;n=e.F,k2(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;Wr(i=VC(),new h2(i,n)),YC(t)}else G2(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function RH(t,e){return!(M2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jb(cs(t.Na,t,e),Z2(t,t.C)),t.C++,0)))}(t,e)||2==i&&H1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:pp(t,5);break;case 4:pp(t,10);break;case 3:pp(t,6);break;default:pp(t,2)}}function Z2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function pp(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=cs(t.pb,t);n||(n=new mp("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||zC(n,"https"),GC(n)),function DH(t,e){const n=new LC;if(Gt.Image){const i=new Image;i.onload=kC(qC,n,i,"TestLoadImage: loaded",!0,e),i.onerror=kC(qC,n,i,"TestLoadImage: error",!1,e),i.onabort=kC(qC,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=kC(qC,n,i,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else ks(2);t.H=0,t.h&&t.h.za(e),K2(t),H2(t)}function K2(t){if(t.H=0,t.ma=[],t.h){const e=R2(t.i);(0!=e.length||0!=t.j.length)&&($L(t.ma,e),$L(t.ma,t.j),t.i.i.length=0,c1(t.j),t.j.length=0),t.h.ya()}}function Y2(t,e,n){var i=n instanceof mp?au(n):new mp(n);if(""!=i.g)e&&(i.g=e+"."+i.g),$C(i,i.m);else{var r=Gt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new mp(null);i&&zC(a,i),e&&(a.g=e),r&&$C(a,r),n&&(a.l=n),i=a}return e=t.Da,(n=t.F)&&e&&Zn(i,n,e),Zn(i,"VER",t.ra),h0(t,i),i}function Q2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ti(n&&t.Ha&&!t.va?new l0({ob:!0}):t.va)).Oa(t.J),e}function X2(){}function XC(){if(A_&&!(10<=Number(G4)))throw Error("Environmental error: no available transport.")}function jo(t,e){Sr.call(this),this.g=new j2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qb(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qb(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new R_(this)}function J2(t){k1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function eV(){R1.call(this),this.status=1}function R_(t){this.g=t}function Dl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $1(t,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var a=t.g[3],c=(e=t.g[0])+(a^(n=t.g[1])&((r=t.g[2])^a))+i[0]+3614090360&4294967295;c=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=(n=(r=(a=(e=n+(c<<7&4294967295|c>>>25))+((c=a+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(n^a&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(n^a&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(n^a&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(n^a&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^a&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^n&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^n&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^n&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^n&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(n^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=n+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=n+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^r^a)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=n+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^n)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=n+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(n|~a))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~n))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(n|~a))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~n))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(n|~a))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~n))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=n+((c=e+(r^(n|~a))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=a+((c=r+(e^(a|~n))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+a&4294967295}function Tn(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var a=0|t[r];i&&a==e||(n[r]=a,i=!1)}this.g=n}(it=Ti.prototype).Oa=function(t){this.M=t},it.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():O1.g(),this.C=function m2(t){return t.h||(t.h=t.i())}(this.u?this.u:O1),this.g.onreadystatechange=cs(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){return void P2(this,a)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())n.set(a,i.get(a))}i=Array.from(n.keys()).find(a=>"content-type"==a.toLowerCase()),r=Gt.FormData&&t instanceof Gt.FormData,!(0<=zL(AH,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of n)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{V2(this),0<this.B&&((this.L=function MH(t){return A_&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cs(this.ua,this)):this.A=A1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){P2(this,a)}},it.ua=function(){typeof a1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wr(this,"timeout"),this.abort(8))},it.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wr(this,"complete"),Wr(this,"abort"),ZC(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ZC(this,!0)),Ti.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?L2(this):this.kb())},it.kb=function(){L2(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<Nc(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),TH(e)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=j2.prototype).ra=8,it.H=1,it.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new t0(this,this.l,t);let a=this.s;if(this.U&&(a?(a=KL(a),QL(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$2(this,r,e),Zn(n=au(this.I),"RID",t),Zn(n,"CVER",22),this.F&&Zn(n,"X-HTTP-Session-Id",this.F),h0(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(B2(a)))+"&"+e:this.o&&B1(n,this.o,a)),V1(this.i,r),this.bb&&Zn(n,"TYPE","init"),this.P?(Zn(n,"$req",e),Zn(n,"SID","null"),r.aa=!0,P1(r,n,null)):P1(r,n,e),this.H=2}}else 3==this.H&&(t?z2(this,t):0==this.j.length||A2(this.i)||z2(this))},it.Ma=function(){if(this.u=null,q2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jb(cs(this.jb,this),t)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ks(10),KC(this),q2(this))},it.ib=function(){null!=this.v&&(this.v=null,KC(this),H1(this),ks(19))},it.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ks(2)):(this.l.info("Failed to ping google.com"),ks(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=X2.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},XC.prototype.g=function(t,e){return new jo(t,e)},Tr(jo,Sr),jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ks(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Y2(t,null,t.Y),YC(t)},jo.prototype.close=function(){j1(this.g)},jo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=D1(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&YC(e)},jo.prototype.N=function(){this.g.h=null,delete this.j,j1(this.g),delete this.g,jo.$.N.call(this)},Tr(J2,k1),Tr(eV,R1),Tr(R_,X2),R_.prototype.Ba=function(){Wr(this.g,"a")},R_.prototype.Aa=function(t){Wr(this.g,new J2(t))},R_.prototype.za=function(t){Wr(this.g,new eV)},R_.prototype.ya=function(){Wr(this.g,"b")},Tr(Dl,function OH(){this.blockSize=-1}),Dl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dl.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=n;)$1(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(i[r++]=t.charCodeAt(a++),r==this.blockSize){$1(this,i),r=0;break}}else for(;a<e;)if(i[r++]=t[a++],r==this.blockSize){$1(this,i),r=0;break}}this.h=r,this.i+=e},Dl.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var NH={};function G1(t){return-128<=t&&128>t?function H4(t,e){var n=NH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Tn([0|e],0>e?-1:0)}):new Tn([0|t],0>t?-1:0)}function Pc(t){if(isNaN(t)||!isFinite(t))return O_;if(0>t)return Zr(Pc(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=q1;return new Tn(e,0)}var q1=4294967296,O_=G1(0),W1=G1(1),nV=G1(16777216);function lu(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Pa(t){return-1==t.h}function Zr(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Tn(n,~t.h).add(W1)}function JC(t,e){return t.add(Zr(e))}function eD(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function f0(t,e){this.g=t,this.h=e}function tD(t,e){if(lu(e))throw Error("division by zero");if(lu(t))return new f0(O_,O_);if(Pa(t))return e=tD(Zr(t),e),new f0(Zr(e.g),Zr(e.h));if(Pa(e))return e=tD(t,Zr(e)),new f0(Zr(e.g),e.h);if(30<t.g.length){if(Pa(t)||Pa(e))throw Error("slowDivide_ only works with positive integers.");for(var n=W1,i=e;0>=i.X(t);)n=iV(n),i=iV(i);var r=N_(n,1),a=N_(i,1);for(i=N_(i,2),n=N_(n,2);!lu(i);){var c=a.add(i);0>=c.X(t)&&(r=r.add(n),a=c),i=N_(i,1),n=N_(n,1)}return e=JC(t,r.R(e)),new f0(r,e)}for(r=O_;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(a=Pc(n)).R(e);Pa(c)||0<c.X(t);)c=(a=Pc(n-=i)).R(e);lu(a)&&(a=W1),r=r.add(a),t=JC(t,c)}return new f0(r,t)}function iV(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Tn(n,t.h)}function N_(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],a=0;a<i;a++)r[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Tn(r,t.h)}(it=Tn.prototype).ea=function(){if(Pa(this))return-Zr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:q1+i)*e,e*=q1}return t},it.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(lu(this))return"0";if(Pa(this))return"-"+Zr(this).toString(t);for(var e=Pc(Math.pow(t,6)),n=this,i="";;){var r=tD(n,e).g,a=((0<(n=JC(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(lu(n=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},it.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},it.X=function(t){return Pa(t=JC(this,t))?-1:lu(t)?0:1},it.abs=function(){return Pa(this)?Zr(this):this},it.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&t.D(r)),c=(a>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=c>>>16,n[r]=(c&=65535)<<16|(a&=65535)}return new Tn(n,-2147483648&n[n.length-1]?-1:0)},it.R=function(t){if(lu(this)||lu(t))return O_;if(Pa(this))return Pa(t)?Zr(this).R(Zr(t)):Zr(Zr(this).R(t));if(Pa(t))return Zr(this.R(Zr(t)));if(0>this.X(nV)&&0>t.X(nV))return Pc(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var a=this.D(i)>>>16,c=65535&this.D(i),m=t.D(r)>>>16,_=65535&t.D(r);n[2*i+2*r]+=c*_,eD(n,2*i+2*r),n[2*i+2*r+1]+=a*_,eD(n,2*i+2*r+1),n[2*i+2*r+1]+=c*m,eD(n,2*i+2*r+1),n[2*i+2*r+2]+=a*m,eD(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Tn(n,0)},it.gb=function(t){return tD(this,t).h},it.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Tn(n,this.h&t.h)},it.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Tn(n,this.h|t.h)},it.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Tn(n,this.h^t.h)},XC.prototype.createWebChannel=XC.prototype.g,jo.prototype.send=jo.prototype.u,jo.prototype.open=jo.prototype.m,jo.prototype.close=jo.prototype.close,UC.NO_ERROR=0,UC.TIMEOUT=8,UC.HTTP_ERROR=6,f2.COMPLETE="complete",p2.EventType=e0,e0.OPEN="a",e0.CLOSE="b",e0.ERROR="c",e0.MESSAGE="d",Sr.prototype.listen=Sr.prototype.O,Ti.prototype.listenOnce=Ti.prototype.P,Ti.prototype.getLastError=Ti.prototype.Sa,Ti.prototype.getLastErrorCode=Ti.prototype.Ia,Ti.prototype.getStatus=Ti.prototype.da,Ti.prototype.getResponseJson=Ti.prototype.Wa,Ti.prototype.getResponseText=Ti.prototype.ja,Ti.prototype.send=Ti.prototype.ha,Ti.prototype.setWithCredentials=Ti.prototype.Oa,Dl.prototype.digest=Dl.prototype.l,Dl.prototype.reset=Dl.prototype.reset,Dl.prototype.update=Dl.prototype.j,Tn.prototype.add=Tn.prototype.add,Tn.prototype.multiply=Tn.prototype.R,Tn.prototype.modulo=Tn.prototype.gb,Tn.prototype.compare=Tn.prototype.X,Tn.prototype.toNumber=Tn.prototype.ea,Tn.prototype.toString=Tn.prototype.toString,Tn.prototype.getBits=Tn.prototype.D,Tn.fromNumber=Pc,Tn.fromString=function tV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Zr(tV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pc(Math.pow(e,8)),i=O_,r=0;r<t.length;r+=8){var a=Math.min(8,t.length-r),c=parseInt(t.substring(r,r+a),e);8>a?(a=Pc(Math.pow(e,a)),i=i.R(a).add(Pc(c))):i=(i=i.R(n)).add(Pc(c))}return i};var PH=Cl.createWebChannelTransport=function(){return new XC},FH=Cl.getStatEventTarget=function(){return VC()},Z1=Cl.ErrorCode=UC,LH=Cl.EventType=f2,VH=Cl.Event=hp,rV=Cl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UH=Cl.FetchXmlHttpFactory=l0,nD=Cl.WebChannel=p2,BH=Cl.XhrIo=Ti,jH=Cl.Md5=Dl,P_=Cl.Integer=Tn;const sV="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let F_="9.23.0";const Xh=new Kh.Yd("@firebase/firestore");function K1(){return Xh.logLevel}function Ue(t,...e){if(Xh.logLevel<=Kh.in.DEBUG){const n=e.map(Y1);Xh.debug(`Firestore (${F_}): ${t}`,...n)}}function Hi(t,...e){if(Xh.logLevel<=Kh.in.ERROR){const n=e.map(Y1);Xh.error(`Firestore (${F_}): ${t}`,...n)}}function Fa(t,...e){if(Xh.logLevel<=Kh.in.WARN){const n=e.map(Y1);Xh.warn(`Firestore (${F_}): ${t}`,...n)}}function Y1(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function dt(t="Unexpected state"){const e=`FIRESTORE (${F_}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function yt(t,e){t||dt()}function et(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends mn.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class oV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class GH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qH{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,n(b)):Promise.resolve();let c=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ur,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const b=c;e.enqueueRetryable((0,xe.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ur)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new oV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new Ar(e)}}class WH{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZH{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new WH(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt("string"==typeof n.token),this.T=n.token,new aV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class lV{static A(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=YH(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[a]%62))}return i}}function jt(t,e){return t<e?-1:t>e?1:0}function L_(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function cV(t){return t+"\0"}class di{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new di(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new di(0,0))}static max(){return new Et(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class m0{constructor(e,n,i){void 0===n?n=0:n>e.length&&dt(),void 0===i?i=e.length-n:i>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===m0.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof m0?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=e.get(r),c=n.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class an extends m0{construct(e,n,i){return new an(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new an(n)}static emptyPath(){return new an([])}}const QH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends m0{construct(e,n,i){return new Si(e,n,i)}static isValidIdentifier(e){return QH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<e.length;){const m=e[r];if("\\"===m){if(r+1===e.length)throw new ke(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===m?(c=!c,r++):"."!==m||c?(i+=m,r++):(a(),r++)}if(a(),c)throw new ke(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(n)}static emptyPath(){return new Si([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(an.fromString(e))}static fromName(e){return new Xe(an.fromString(e).popFirst(5))}static empty(){return new Xe(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return an.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new an(e.slice()))}}class iD{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}}function Q1(t){return t.fields.find(e=>2===e.kind)}function gp(t){return t.fields.filter(e=>2!==e.kind)}iD.UNKNOWN_ID=-1;class rD{constructor(e,n){this.fieldPath=e,this.kind=n}}class p0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new p0(0,Ho.min())}}function dV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(1e9===i?new di(n+1,0):new di(n,i));return new Ho(r,Xe.empty(),e)}function uV(t){return new Ho(t.readTime,t.key,-1)}class Ho{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ho(Et.min(),Xe.empty(),-1)}static max(){return new Ho(Et.max(),Xe.empty(),-1)}}function X1(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Xe.comparator(t.documentKey,e.documentKey),0!==n?n:jt(t.largestBatchId,e.largestBatchId))}const hV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jh(t){return J1.apply(this,arguments)}function J1(){return J1=(0,xe.Z)(function*(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==hV)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}),J1.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,i)=>{n(e)})}static reject(e){return new oe((n,i)=>{i(e)})}static waitFor(e){return new oe((n,i)=>{let r=0,a=0,c=!1;e.forEach(m=>{++r,m.next(()=>{++a,c&&a===r&&n()},_=>i(_))}),c=!0,a===r&&n()})}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next(r=>r?oe.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(e,n){return new oe((i,r)=>{const a=e.length,c=new Array(a);let m=0;for(let _=0;_<a;_++){const b=_;n(e[b]).next(D=>{c[b]=D,++m,m===a&&i(c)},D=>r(D))}})}static doWhile(e,n){return new oe((i,r)=>{const a=()=>{!0===e()?n().next(()=>{a()},r):i()};a()})}}class sD{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new ur,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new g0(e,n.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=eR(i.target.error);this.v.reject(new g0(e,r))}}static open(e,n,i,r){try{return new sD(n,e.transaction(r,i))}catch(a){throw new g0(n,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new t6(n)}}class Tl{constructor(e,n,i){this.name=e,this.version=n,this.V=i,12.2===Tl.S((0,mn.z$)())&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),_p(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(Tl.C())return!0;const e=(0,mn.z$)(),n=Tl.S(e),i=0<n&&n<10,r=Tl.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var n=this;return(0,xe.Z)(function*(){return n.db||(Ue("SimpleDb","Opening database:",n.name),n.db=yield new Promise((i,r)=>{const a=indexedDB.open(n.name,n.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new g0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const m=c.target.error;r("VersionError"===m.name?new ke(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new ke(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new g0(e,m))},a.onupgradeneeded=c=>{Ue("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',c.oldVersion),n.V.O(c.target.result,a.transaction,c.oldVersion,n.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=i=>n.F(i)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){var a=this;return(0,xe.Z)(function*(){const c="readonly"===n;let m=0;for(;;){++m;try{a.db=yield a.$(e);const _=sD.open(a.db,e,c?"readonly":"readwrite",i),b=r(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),oe.reject(D))).toPromise();return b.catch(()=>{}),yield _.R,b}catch(_){const b=_,D="FirebaseError"!==b.name&&m<3;if(Ue("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),a.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class e6{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return _p(this.L.delete())}}class g0 extends ke{constructor(e,n){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ef(t){return"IndexedDbTransactionError"===t.name}class t6{constructor(e){this.store=e}put(e,n){let i;return void 0!==n?(Ue("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),_p(i)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),_p(this.store.add(e))}get(e){return _p(this.store.get(e)).next(n=>(void 0===n&&(n=null),Ue("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),_p(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),_p(this.store.count())}j(e,n){const i=this.options(e,n);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(c,m)=>{a.push(m)}).next(()=>a)}{const r=this.store.getAll(i.range);return new oe((a,c)=>{r.onerror=m=>{c(m.target.error)},r.onsuccess=m=>{a(m.target.result)}})}}H(e,n){const i=this.store.getAll(e,null===n?void 0:n);return new oe((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,n){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,c,m)=>m.delete())}X(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.W(r,n)}Z(e){const n=this.cursor({});return new oe((i,r)=>{n.onerror=a=>{const c=eR(a.target.error);r(c)},n.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(m=>{m?c.continue():i()}):i()}})}W(e,n){const i=[];return new oe((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void r();const _=new e6(m),b=n(m.primaryKey,m.value,_);if(b instanceof oe){const D=b.catch(M=>(_.done(),oe.reject(M)));i.push(D)}_.isDone?r():null===_.K?m.continue():m.continue(_.K)}}).next(()=>oe.waitFor(i))}options(e,n){let i;return void 0!==e&&("string"==typeof e?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _p(t){return new oe((e,n)=>{t.onsuccess=i=>{e(i.target.result)},t.onerror=i=>{const r=eR(i.target.error);n(r)}})}let mV=!1;function eR(t){const e=Tl.S((0,mn.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mV||(mV=!0,setTimeout(()=>{throw i},0)),i}}return t}class n6{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){n.task=null;try{Ue("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(i){ef(i)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Jh(i)}yield n.et(6e4)}))}}class i6{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,xe.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>n.st(i,e))})()}st(e,n){const i=new Set;let r=n,a=!0;return oe.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Ue("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(m=>{r-=m,i.add(c)});a=!1})).next(()=>n-r)}it(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,a)).next(m=>(Ue("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,n,m))).next(()=>c.size)}))}rt(e,n){let i=e;return n.changes.forEach((r,a)=>{const c=uV(a);X1(c,i)>0&&(i=c)}),new Ho(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}let zo=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function _0(t){return null==t}function v0(t){return 0===t&&1/t==-1/0}function pV(t){return"number"==typeof t&&Number.isInteger(t)&&!v0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function us(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gV(e)),e=r6(t.get(n),e);return gV(e)}function r6(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const a=t.charAt(r);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gV(t){return t+"\x01\x01"}function Fc(t){const e=t.length;if(yt(e>=2),2===e)return yt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),an.emptyPath();const n=e-2,i=[];let r="";for(let a=0;a<e;){const c=t.indexOf("\x01",a);switch((c<0||c>n)&&dt(),t.charAt(c+1)){case"\x01":const m=t.substring(a,c);let _;0===r.length?_=m:(r+=m,_=r,r=""),i.push(_);break;case"\x10":r+=t.substring(a,c),r+="\0";break;case"\x11":r+=t.substring(a,c+1);break;default:dt()}a=c+2}return new an(i)}const _V=["userId","batchId"];function oD(t,e){return[t,us(e)]}function vV(t,e,n){return[t,us(e),n]}const s6={},o6=["prefixPath","collectionGroup","readTime","documentId"],a6=["prefixPath","collectionGroup","documentId"],l6=["collectionGroup","readTime","prefixPath","documentId"],c6=["canonicalId","targetId"],d6=["targetId","path"],u6=["path","targetId"],h6=["collectionId","parent"],f6=["indexId","uid"],m6=["uid","sequenceNumber"],p6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g6=["indexId","uid","orderedDocumentKey"],_6=["userId","collectionPath","documentId"],v6=["userId","collectionPath","largestBatchId"],y6=["userId","collectionGroup","largestBatchId"],yV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],b6=[...yV,"documentOverlays"],bV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wV=bV,w6=[...wV,"indexConfiguration","indexState","indexEntries"];class tR extends fV{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Mr(t,e){const n=et(t);return Tl.M(n.ht,e)}function EV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class zn{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aD(this.root,e,this.comparator,!1)}getReverseIterator(){return new aD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aD(this.root,e,this.comparator,!0)}}class aD{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=a??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new Kr(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):0===a?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Kr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IV(this.data.getIterator())}getIteratorFrom(e){return new IV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class IV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function V_(t){return t.hasNext()?t.getNext():void 0}class eo{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new eo([])}unionWith(e){let n=new Kn(Si.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return L_(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class CV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new CV("Invalid base64 string: "+r):r}}(e);return new hr(n)}static fromUint8Array(e){const n=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const x6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nf(t){if(yt(!!t),"string"==typeof t){let e=0;const n=x6.exec(t);if(yt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ai(t.seconds),nanos:Ai(t.nanos)}}function Ai(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cu(t){return"string"==typeof t?hr.fromBase64String(t):hr.fromUint8Array(t)}function lD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cD(t){const e=t.mapValue.fields.__previous_value__;return lD(e)?cD(e):e}function y0(t){const e=nf(t.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class I6{constructor(e,n,i,r,a,c,m,_,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=b}}class rf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rf&&e.projectId===this.projectId&&e.database===this.database}}const sf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dD={nullValue:"NULL_VALUE"};function af(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lD(t)?4:AV(t)?9007199254740991:10:dt()}function Lc(t,e){if(t===e)return!0;const n=af(t);if(n!==af(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return y0(t).isEqual(y0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=nf(i.timestampValue),c=nf(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,cu(t.bytesValue).isEqual(cu(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Ai(i.geoPointValue.latitude)===Ai(r.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ai(i.integerValue)===Ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ai(i.doubleValue),c=Ai(r.doubleValue);return a===c?v0(a)===v0(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return L_(t.arrayValue.values||[],e.arrayValue.values||[],Lc);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(EV(a)!==EV(c))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===c[m]||!Lc(a[m],c[m])))return!1;return!0}(t,e);default:return dt()}var r}function b0(t,e){return void 0!==(t.values||[]).find(n=>Lc(n,e))}function lf(t,e){if(t===e)return 0;const n=af(t),i=af(e);if(n!==i)return jt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ai(r.integerValue||r.doubleValue),m=Ai(a.integerValue||a.doubleValue);return c<m?-1:c>m?1:c===m?0:isNaN(c)?isNaN(m)?0:-1:1}(t,e);case 3:return DV(t.timestampValue,e.timestampValue);case 4:return DV(y0(t),y0(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(r,a){const c=cu(r),m=cu(a);return c.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),m=a.split("/");for(let _=0;_<c.length&&_<m.length;_++){const b=jt(c[_],m[_]);if(0!==b)return b}return jt(c.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const c=jt(Ai(r.latitude),Ai(a.latitude));return 0!==c?c:jt(Ai(r.longitude),Ai(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],m=a.values||[];for(let _=0;_<c.length&&_<m.length;++_){const b=lf(c[_],m[_]);if(b)return b}return jt(c.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===sf.mapValue&&a===sf.mapValue)return 0;if(r===sf.mapValue)return 1;if(a===sf.mapValue)return-1;const c=r.fields||{},m=Object.keys(c),_=a.fields||{},b=Object.keys(_);m.sort(),b.sort();for(let D=0;D<m.length&&D<b.length;++D){const M=jt(m[D],b[D]);if(0!==M)return M;const L=lf(c[m[D]],_[b[D]]);if(0!==L)return L}return jt(m.length,b.length)}(t.mapValue,e.mapValue);default:throw dt()}}function DV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return jt(t,e);const n=nf(t),i=nf(e),r=jt(n.seconds,i.seconds);return 0!==r?r:jt(n.nanos,i.nanos)}function U_(t){return nR(t)}function nR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=nf(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cu(t.bytesValue).toBase64():"referenceValue"in t?Xe.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=nR(c);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const m of r)c?c=!1:a+=",",a+=`${m}:${nR(i.fields[m])}`;return a+"}"}(t.mapValue):dt();var e}function vp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iR(t){return!!t&&"integerValue"in t}function w0(t){return!!t&&"arrayValue"in t}function TV(t){return!!t&&"nullValue"in t}function SV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hD(t){return!!t&&"mapValue"in t}function E0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=E0(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=E0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function C6(t){return"nullValue"in t?dD:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?vp(rf.empty(),Xe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:dt()}function D6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?vp(rf.empty(),Xe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?sf:dt()}function MV(t,e){const n=lf(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function kV(t,e){const n=lf(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hD(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=E0(n)}setAll(e){let n=Si.emptyPath(),i={},r=[];e.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,i,r),i={},r=[],n=m.popLast()}c?i[m.lastSegment()]=E0(c):r.push(m.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());hD(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];hD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){tf(n,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Yr(E0(this.value))}}function RV(t){const e=[];return tf(t.fields,(n,i)=>{const r=new Si([n]);if(hD(i)){const a=RV(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new eo(e)}class Yn{constructor(e,n,i,r,a,c,m){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Yn(e,0,Et.min(),Et.min(),Et.min(),Yr.empty(),0)}static newFoundDocument(e,n,i,r){return new Yn(e,1,n,Et.min(),i,r,0)}static newNoDocument(e,n){return new Yn(e,2,n,Et.min(),Et.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,Et.min(),Et.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cf{constructor(e,n){this.position=e,this.inclusive=n}}function OV(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const a=e[r],c=t.position[r];if(i=a.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),n.key):lf(c,n.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function NV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lc(t.position[n],e.position[n]))return!1;return!0}class B_{constructor(e,n="asc"){this.field=e,this.dir=n}}function T6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class PV{}class nn extends PV{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new S6(e,n,i):"array-contains"===n?new k6(e,i):"in"===n?new jV(e,i):"not-in"===n?new R6(e,i):"array-contains-any"===n?new O6(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new A6(e,i):new M6(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lf(n,this.value)):null!==n&&af(this.value)===af(n)&&this.matchesComparison(lf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends PV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Sn(e,n)}matches(e){return j_(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function j_(t){return"and"===t.op}function rR(t){return"or"===t.op}function sR(t){return FV(t)&&j_(t)}function FV(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function oR(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+U_(t.value);if(sR(t))return t.filters.map(e=>oR(e)).join(",");{const e=t.filters.map(n=>oR(n)).join(",");return`${t.op}(${e})`}}function LV(t,e){return t instanceof nn?(n=t,(i=e)instanceof nn&&n.op===i.op&&n.field.isEqual(i.field)&&Lc(n.value,i.value)):t instanceof Sn?function(n,i){return i instanceof Sn&&n.op===i.op&&n.filters.length===i.filters.length&&n.filters.reduce((r,a,c)=>r&&LV(a,i.filters[c]),!0)}(t,e):void dt();var n,i}function VV(t,e){const n=t.filters.concat(e);return Sn.create(n,t.op)}function UV(t){return t instanceof nn?`${(e=t).field.canonicalString()} ${e.op} ${U_(e.value)}`:t instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(UV).join(" ,")+"}"}(t):"Filter";var e}class S6 extends nn{constructor(e,n,i){super(e,n,i),this.key=Xe.fromName(i.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class A6 extends nn{constructor(e,n){super(e,"in",n),this.keys=BV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M6 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=BV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>Xe.fromName(i.referenceValue))}class k6 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w0(n)&&b0(n.arrayValue,this.value)}}class jV extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&b0(this.value.arrayValue,n)}}class R6 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(b0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!b0(this.value.arrayValue,n)}}class O6 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>b0(this.value.arrayValue,i))}}class N6{constructor(e,n=null,i=[],r=[],a=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=m,this.dt=null}}function aR(t,e=null,n=[],i=[],r=null,a=null,c=null){return new N6(t,e,n,i,r,a,c)}function yp(t){const e=et(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>oR(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),_0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>U_(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>U_(i)).join(",")),e.dt=n}return e.dt}function x0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NV(t.startAt,e.startAt)&&NV(t.endAt,e.endAt)}function fD(t){return Xe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function mD(t,e){return t.filters.filter(n=>n instanceof nn&&n.field.isEqual(e))}function HV(t,e,n){let i=dD,r=!0;for(const a of mD(t,e)){let c=dD,m=!0;switch(a.op){case"<":case"<=":c=C6(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,m=!1;break;case"!=":case"not-in":c=dD}MV({value:i,inclusive:r},{value:c,inclusive:m})<0&&(i=c,r=m)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const c=n.position[a];MV({value:i,inclusive:r},{value:c,inclusive:n.inclusive})<0&&(i=c,r=n.inclusive);break}return{value:i,inclusive:r}}function zV(t,e,n){let i=sf,r=!0;for(const a of mD(t,e)){let c=sf,m=!0;switch(a.op){case">=":case">":c=D6(a.value),m=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,m=!1;break;case"!=":case"not-in":c=sf}kV({value:i,inclusive:r},{value:c,inclusive:m})>0&&(i=c,r=m)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const c=n.position[a];kV({value:i,inclusive:r},{value:c,inclusive:n.inclusive})>0&&(i=c,r=n.inclusive);break}return{value:i,inclusive:r}}class du{constructor(e,n=null,i=[],r=[],a=null,c="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=m,this.endAt=_,this.wt=null,this._t=null}}function $V(t,e,n,i,r,a,c,m){return new du(t,e,n,i,r,a,c,m)}function H_(t){return new du(t)}function GV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function lR(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pD(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function cR(t){return null!==t.collectionGroup}function bp(t){const e=et(t);if(null===e.wt){e.wt=[];const n=pD(e),i=lR(e);if(null!==n&&null===i)n.isKeyField()||e.wt.push(new B_(n)),e.wt.push(new B_(Si.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new B_(Si.keyField(),a))}}}return e.wt}function Rs(t){const e=et(t);if(!e._t)if("F"===e.limitType)e._t=aR(e.path,e.collectionGroup,bp(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of bp(e))n.push(new B_(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new cf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cf(e.startAt.position,e.startAt.inclusive):null;e._t=aR(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function dR(t,e){e.getFirstInequalityField(),pD(t);const n=t.filters.concat([e]);return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gD(t,e,n){return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function I0(t,e){return x0(Rs(t),Rs(e))&&t.limitType===e.limitType}function qV(t){return`${yp(Rs(t))}|lt:${t.limitType}`}function uR(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>UV(i)).join(", ")}]`),_0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>U_(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>U_(i)).join(",")),`Target(${n})`}(Rs(t))}; limitType=${t.limitType})`}function C0(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return null!==n.collectionGroup?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Xe.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of bp(n))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&(i=e,!((n=t).startAt&&!function(r,a,c){const m=OV(r,a,c);return r.inclusive?m<=0:m<0}(n.startAt,bp(n),i)||n.endAt&&!function(r,a,c){const m=OV(r,a,c);return r.inclusive?m>=0:m>0}(n.endAt,bp(n),i)));var n,i}function WV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZV(t){return(e,n)=>{let i=!1;for(const r of bp(t)){const a=P6(r,e,n);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function P6(t,e,n){const i=t.field.isKeyField()?Xe.comparator(e.key,n.key):function(r,a,c){const m=a.data.field(r),_=c.data.field(r);return null!==m&&null!==_?lf(m,_):dt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tf(this.inner,(n,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return xV(this.inner)}size(){return this.innerSize}}const F6=new zn(Xe.comparator);function to(){return F6}const KV=new zn(Xe.comparator);function D0(...t){let e=KV;for(const n of t)e=e.insert(n.key,n);return e}function YV(t){let e=KV;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vc(){return T0()}function QV(){return T0()}function T0(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const L6=new zn(Xe.comparator),V6=new Kn(Xe.comparator);function Kt(...t){let e=V6;for(const n of t)e=e.add(n);return e}const U6=new Kn(jt);function hR(){return U6}function XV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v0(e)?"-0":e}}function JV(t){return{integerValue:""+t}}function eU(t,e){return pV(e)?JV(e):XV(t,e)}class _D{constructor(){this._=void 0}}function B6(t,e,n){return t instanceof z_?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&lD(r)&&(r=cD(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof wp?nU(t,e):t instanceof Ep?iU(t,e):function(i,r){const a=tU(i,r),c=rU(a)+rU(i.gt);return iR(a)&&iR(i.gt)?JV(c):XV(i.serializer,c)}(t,e)}function j6(t,e,n){return t instanceof wp?nU(t,e):t instanceof Ep?iU(t,e):n}function tU(t,e){return t instanceof $_?iR(n=e)||(i=n)&&"doubleValue"in i?e:{integerValue:0}:null;var i,n}class z_ extends _D{}class wp extends _D{constructor(e){super(),this.elements=e}}function nU(t,e){const n=sU(e);for(const i of t.elements)n.some(r=>Lc(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ep extends _D{constructor(e){super(),this.elements=e}}function iU(t,e){let n=sU(e);for(const i of t.elements)n=n.filter(r=>!Lc(r,i));return{arrayValue:{values:n}}}class $_ extends _D{constructor(e,n){super(),this.serializer=e,this.gt=n}}function rU(t){return Ai(t.integerValue||t.doubleValue)}function sU(t){return w0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class S0{constructor(e,n){this.field=e,this.transform=n}}class z6{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vD(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yD{}function oU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new q_(t.key,ui.none()):new G_(t.key,t.data,ui.none());{const n=t.data,i=Yr.empty();let r=new Kn(Si.comparator);for(let a of e.fields)if(!r.has(a)){let c=n.field(a);null===c&&a.length>1&&(a=a.popLast(),c=n.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new hu(t.key,i,new eo(r.toArray()),ui.none())}}function $6(t,e,n){t instanceof G_?function(i,r,a){const c=i.value.clone(),m=cU(i.fieldTransforms,r,a.transformResults);c.setAll(m),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof hu?function(i,r,a){if(!vD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=cU(i.fieldTransforms,r,a.transformResults),m=r.data;m.setAll(lU(i)),m.setAll(c),r.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function A0(t,e,n,i){return t instanceof G_?function(r,a,c,m){if(!vD(r.precondition,a))return c;const _=r.value.clone(),b=dU(r.fieldTransforms,m,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(t,e,n,i):t instanceof hu?function(r,a,c,m){if(!vD(r.precondition,a))return c;const _=dU(r.fieldTransforms,m,a),b=a.data;return b.setAll(lU(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(t,e,n,i):(c=n,vD(t.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function G6(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),a=tU(i.transform,r||null);null!=a&&(null===n&&(n=Yr.empty()),n.set(i.field,a))}return n||null}function aU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===i||n&&i&&L_(n,i,(r,a)=>function H6(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(n=t.transform)instanceof wp&&i instanceof wp||n instanceof Ep&&i instanceof Ep?L_(n.elements,i.elements,Lc):n instanceof $_&&i instanceof $_?Lc(n.gt,i.gt):n instanceof z_&&i instanceof z_);var n,i}(r,a))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,i}class G_ extends yD{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hu extends yD{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function cU(t,e,n){const i=new Map;yt(t.length===n.length);for(let r=0;r<n.length;r++){const a=t[r],c=a.transform,m=e.data.field(a.field);i.set(a.field,j6(c,m,n[r]))}return i}function dU(t,e,n){const i=new Map;for(const r of t){const a=r.transform,c=n.data.field(r.field);i.set(r.field,B6(a,c,e))}return i}class q_ extends yD{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fR extends yD{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mR{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&$6(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=A0(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=A0(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=QV();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let m=this.applyToLocalView(c,a.mutatedFields);m=n.has(r.key)?null:m;const _=oU(c,m);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&L_(this.mutations,e.mutations,(n,i)=>aU(n,i))&&L_(this.baseMutations,e.baseMutations,(n,i)=>aU(n,i))}}class pR{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){yt(e.mutations.length===i.length);let r=L6;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new pR(e,n,i,r)}}class gR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W6{constructor(e,n){this.count=e,this.unchangedNames=n}}var nr,ln;function uU(t){switch(t){default:return dt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function hU(t){if(void 0===t)return Hi("GRPC error has no .code"),ue.UNKNOWN;switch(t){case nr.OK:return ue.OK;case nr.CANCELLED:return ue.CANCELLED;case nr.UNKNOWN:return ue.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ue.INTERNAL;case nr.UNAVAILABLE:return ue.UNAVAILABLE;case nr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case nr.NOT_FOUND:return ue.NOT_FOUND;case nr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case nr.ABORTED:return ue.ABORTED;case nr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case nr.DATA_LOSS:return ue.DATA_LOSS;default:return dt()}}(ln=nr||(nr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class _R{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bD}static getOrCreateInstance(){return null===bD&&(bD=new _R),bD}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let bD=null;function fU(){return new TextEncoder}const Z6=new P_([4294967295,4294967295],0);function mU(t){const e=fU().encode(t),n=new jH;return n.update(e),new Uint8Array(n.digest())}function pU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new P_([n,i],0),new P_([r,a],0)]}class vR{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new M0(`Invalid padding: ${n}`);if(i<0)throw new M0(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new M0(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new M0(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=P_.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(P_.fromNumber(i)));return 1===r.compare(Z6)&&(r=new P_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=mU(e),[i,r]=pU(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(i,r,a);if(!this.At(c))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new vR(a,r,n);return i.forEach(m=>c.insert(m)),c}insert(e){if(0===this.It)return;const n=mU(e),[i,r]=pU(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(i,r,a);this.Rt(c)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class M0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class k0{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,R0.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new k0(Et.min(),r,new zn(jt),to(),Kt())}}class R0{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new R0(i,n,Kt(),Kt(),Kt())}}class wD{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class gU{constructor(e,n){this.targetId=e,this.Vt=n}}class _U{constructor(e,n,i=hr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class vU{constructor(){this.St=0,this.Dt=bU(),this.Ct=hr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kt(),n=Kt(),i=Kt();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new R0(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=bU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class K6{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=to(),this.zt=yU(),this.Wt=new zn(jt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,a=this.se(i);if(a){const c=a.target;if(fD(c))if(0===r){const m=new Xe(c.path);this.Yt(i,m,Yn.newNoDocument(m,Et.min()))}else yt(1===r);else{const m=this.ie(i);if(m!==r){const _=this.re(e,m);0!==_&&(this.ee(i),this.Wt=this.Wt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=_R.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(b,D,M){var L,U,W,re,ge,je;const Je={localCacheCount:D,existenceFilterCount:M.count},nt=M.unchangedNames;return nt&&(Je.bloomFilter={applied:0===b,hashCount:null!==(L=nt?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(re=null===(W=null===(U=nt?.bits)||void 0===U?void 0:U.bitmap)||void 0===W?void 0:W.length)&&void 0!==re?re:0,padding:null!==(je=null===(ge=nt?.bits)||void 0===ge?void 0:ge.padding)&&void 0!==je?je:0}),Je}(_,m,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:m=0}=i;let _,b;try{_=cu(a).toUint8Array()}catch(D){if(D instanceof CV)return Fa("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{b=new vR(_,c,m)}catch(D){return Fa(D instanceof M0?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===b.It?1:r!==n-this.oe(e.targetId,b)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const c=this.Gt.ue(),m=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;n.vt(m)||(this.Yt(e,a,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((a,c)=>{const m=this.se(c);if(m){if(a.current&&fD(m.target)){const _=new Xe(m.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,Yn.newNoDocument(_,e))}a.Mt&&(n.set(c,a.Ot()),a.Ft())}});let i=Kt();this.zt.forEach((a,c)=>{let m=!0;c.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(i=i.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const r=new k0(e,n,this.Wt,this.jt,i);return this.jt=to(),this.zt=yU(),this.Wt=new zn(jt),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new vU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Kn(jt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function yU(){return new zn(Xe.comparator)}function bU(){return new zn(Xe.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},Q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X6={and:"AND",or:"OR"};class J6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yR(t,e){return t.useProto3Json||_0(e)?e:{value:e}}function W_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ez(t,e){return W_(t,e.toTimestamp())}function zi(t){return yt(!!t),Et.fromTimestamp(function(e){const n=nf(e);return new di(n.seconds,n.nanos)}(t))}function bR(t,e){return(n=t,new an(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function EU(t){const e=an.fromString(t);return yt(kU(e)),e}function O0(t,e){return bR(t.databaseId,e.path)}function Uc(t,e){const n=EU(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(IU(n))}function wR(t,e){return bR(t.databaseId,e)}function xU(t){const e=EU(t);return 4===e.length?an.emptyPath():IU(e)}function N0(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IU(t){return yt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function CU(t,e,n){return{name:O0(t,e),fields:n.value.mapValue.fields}}function DU(t,e,n){const i=Uc(t,e.name),r=zi(e.updateTime),a=e.createTime?zi(e.createTime):Et.min(),c=new Yr({mapValue:{fields:e.fields}}),m=Yn.newFoundDocument(i,r,a,c);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function P0(t,e){let n;if(e instanceof G_)n={update:CU(t,e.key,e.value)};else if(e instanceof q_)n={delete:O0(t,e.key)};else if(e instanceof hu)n={update:CU(t,e.key,e.data),updateMask:lz(e.fieldMask)};else{if(!(e instanceof fR))return dt();n={verify:O0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof z_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ep)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $_)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw dt()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:ez(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),n;var r}function ER(t,e){const n=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ui.updateTime(zi(r.updateTime)):void 0!==r.exists?ui.exists(r.exists):ui.none():ui.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let m=null;"setToServerValue"in c?(yt("REQUEST_TIME"===c.setToServerValue),m=new z_):"appendMissingElements"in c?m=new wp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?m=new Ep(c.removeAllFromArray.values||[]):"increment"in c?m=new $_(a,c.increment):dt();const _=Si.fromServerFormat(c.fieldPath);return new S0(_,m)}(t,r)):[];var r;if(e.update){const r=Uc(t,e.update.name),a=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new eo((e.updateMask.fieldPaths||[]).map(b=>Si.fromServerFormat(b)));return new hu(r,a,c,n,i)}return new G_(r,a,n,i)}if(e.delete){const r=Uc(t,e.delete);return new q_(r,n)}if(e.verify){const r=Uc(t,e.verify);return new fR(r,n)}return dt()}function TU(t,e){return{documents:[wR(t,e.path)]}}function xR(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=wR(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wR(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return MU(Sn.create(_,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:df((D=b).field),direction:sz(D.dir)};var D})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=yR(t,e.limit);var m,_;return null!==c&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),n}function SU(t){let e=xU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){yt(1===i);const D=n.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];n.where&&(a=function(D){const M=AU(D);return M instanceof Sn&&sR(M)?M.getFilters():[M]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(D=>{return new B_(Z_((M=D).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;n.limit&&(m=function(D){let M;return M="object"==typeof D?D.value:D,_0(M)?null:M}(n.limit));let _=null;var D;n.startAt&&(_=new cf((D=n.startAt).values||[],!!D.before));let b=null;return n.endAt&&(b=function(D){return new cf(D.values||[],!D.before)}(n.endAt)),$V(e,r,c,a,m,"F",_,b)}function AU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Z_(e.unaryFilter.field);return nn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Z_(e.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Z_(e.unaryFilter.field);return nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Z_(e.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(t):void 0!==t.fieldFilter?nn.create(Z_((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(n=>AU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(t):dt();var e}function sz(t){return Y6[t]}function oz(t){return Q6[t]}function az(t){return X6[t]}function df(t){return{fieldPath:t.canonicalString()}}function Z_(t){return Si.fromServerFormat(t.fieldPath)}function MU(t){return t instanceof nn?function(e){if("=="===e.op){if(SV(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NAN"}};if(TV(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(SV(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NAN"}};if(TV(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(e.field),op:oz(e.op),value:e.value}}}(t):t instanceof Sn?function(e){const n=e.getFilters().map(i=>MU(i));return 1===n.length?n[0]:{compositeFilter:{op:az(e.op),filters:n}}}(t):dt()}function lz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class fu{constructor(e,n,i,r,a=Et.min(),c=Et.min(),m=hr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RU{constructor(e){this.fe=e}}function OU(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ED(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:O0(r=t.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:W_(r,a.version.toTimestamp()),createTime:W_(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:xp(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:n.path.toArray(),version:xp(e.version)}}var r,a;return i}function ED(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xp(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ip(t){const e=new di(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)}function Cp(t,e){const n=(e.baseMutations||[]).map(a=>ER(t.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>ER(t.fe,a)),r=di.fromMillis(e.localWriteTimeMs);return new mR(e.batchId,r,n,i)}function F0(t){const e=Ip(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ip(t.lastLimboFreeSnapshotVersion):Et.min();let i;var r;return void 0!==t.query.documents?(yt(1===(r=t.query).documents.length),i=Rs(H_(xU(r.documents[0])))):i=Rs(SU(t.query)),new fu(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,hr.fromBase64String(t.resumeToken))}function NU(t,e){const n=xp(e.snapshotVersion),i=xp(e.lastLimboFreeSnapshotVersion);let r;r=fD(e.target)?TU(t.fe,e.target):xR(t.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yp(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function IR(t){const e=SU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?gD(e,e.limit,"L"):e}function CR(t,e){return new gR(e.largestBatchId,ER(t.fe,e.overlayMutation))}function PU(t,e){const n=e.path.lastSegment();return[t,us(e.path.popLast()),n]}function FU(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:xp(i.readTime),documentKey:us(i.documentKey.path),largestBatchId:i.largestBatchId}}class dz{getBundleMetadata(e,n){return LU(e).get(n).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ip(r.createTime),version:r.version};var r})}saveBundleMetadata(e,n){return LU(e).put({bundleId:(i=n).id,createTime:xp(zi(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return VU(e).get(n).next(i=>{if(i)return{name:(r=i).name,query:IR(r.bundledQuery),readTime:Ip(r.readTime)};var r})}saveNamedQuery(e,n){return VU(e).put({name:(i=n).name,readTime:xp(zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function LU(t){return Mr(t,"bundles")}function VU(t){return Mr(t,"namedQueries")}class xD{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new xD(e,n.uid||"")}getOverlay(e,n){return L0(e).get(PU(this.userId,n)).next(i=>i?CR(this.serializer,i):null)}getOverlays(e,n){const i=Vc();return oe.forEach(n,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,n,i){const r=[];return i.forEach((a,c)=>{const m=new gR(n,c);r.push(this.we(e,m))}),oe.waitFor(r)}removeOverlaysForBatchId(e,n,i){const r=new Set;n.forEach(c=>r.add(us(c.getCollectionPath())));const a=[];return r.forEach(c=>{const m=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(L0(e).J("collectionPathOverlayIndex",m))}),oe.waitFor(a)}getOverlaysForCollection(e,n,i){const r=Vc(),a=us(n),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return L0(e).j("collectionPathOverlayIndex",c).next(m=>{for(const _ of m){const b=CR(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,n,i,r){const a=Vc();let c;const m=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return L0(e).X({index:"collectionGroupOverlayIndex",range:m},(_,b,D)=>{const M=CR(this.serializer,b);a.size()<r||M.largestBatchId===c?(a.set(M.getKey(),M),c=M.largestBatchId):D.done()}).next(()=>a)}we(e,n){return L0(e).put(function(i,r,a){const[c,m,_]=PU(r,a.mutation.key);return{userId:r,collectionPath:m,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:P0(i.fe,a.mutation)}}(this.serializer,this.userId,n))}}function L0(t){return Mr(t,"documentOverlays")}class Dp{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ai(e.integerValue));else if("doubleValue"in e){const i=Ai(e.doubleValue);isNaN(i)?this.ye(n,13):(this.ye(n,15),v0(i)?n.pe(0):n.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(n,20),"string"==typeof i?n.Ie(i):(n.Ie(`${i.seconds||""}`),n.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(cu(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(n,45),n.pe(i.latitude||0),n.pe(i.longitude||0)}else"mapValue"in e?AV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):dt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const i=e.fields||{};this.ye(n,55);for(const r of Object.keys(i))this.Te(r,n),this.me(i[r],n)}Pe(e,n){const i=e.values||[];this.ye(n,50);for(const r of i)this.me(r,n)}ve(e,n){this.ye(n,37),Xe.fromName(e).path.forEach(i=>{this.ye(n,60),this.be(i,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function uz(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function UU(t){const e=64-function(n){let i=0;for(let r=0;r<8;++r){const a=uz(255&n[r]);if(i+=a,8!==a)break}return i}(t);return Math.ceil(e/8)}Dp.Ve=new Dp;class hz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.De(i.value),i=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ne(i.value),i=n.next();this.ke()}Me(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(n<"\ud800"||"\udbff"<n)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=n.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=n.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const n=this.Fe(e),i=UU(n);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Le(e){const n=this.Fe(e),i=UU(n);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&n[0]);n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fz{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class mz{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class V0{constructor(){this.je=new hz,this.ze=new fz(this.je),this.We=new mz(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Tp{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Tp(this.indexId,this.documentKey,this.arrayValue,i)}}function uf(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=BU(t.arrayValue,e.arrayValue),0!==n?n:(n=BU(t.directionalValue,e.directionalValue),0!==n?n:Xe.comparator(t.documentKey,e.documentKey)))}function BU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}class pz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const i=n;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){yt(e.collectionGroup===this.collectionId);const n=Q1(e);if(void 0!==n&&!this.en(n))return!1;const i=gp(e);let r=new Set,a=0,c=0;for(;a<i.length&&this.en(i[a]);++a)r=r.add(i[a].fieldPath.canonicalString());if(a===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[a];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[c++],m))return!1}++a}for(;a<i.length;++a)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[a]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function jU(t){var e,n;if(yt(t instanceof nn||t instanceof Sn),t instanceof nn){if(t instanceof jV){const r=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(a=>nn.create(t.field,"==",a)))||[];return Sn.create(r,"or")}return t}const i=t.filters.map(r=>jU(r));return Sn.create(i,t.op)}function gz(t){if(0===t.getFilters().length)return[];const e=SR(jU(t));return yt(HU(e)),DR(e)||TR(e)?[e]:e.getFilters()}function DR(t){return t instanceof nn}function TR(t){return t instanceof Sn&&sR(t)}function HU(t){return DR(t)||TR(t)||function(e){if(e instanceof Sn&&rR(e)){for(const n of e.getFilters())if(!DR(n)&&!TR(n))return!1;return!0}return!1}(t)}function SR(t){if(yt(t instanceof nn||t instanceof Sn),t instanceof nn)return t;if(1===t.filters.length)return SR(t.filters[0]);const e=t.filters.map(i=>SR(i));let n=Sn.create(e,t.op);return n=ID(n),HU(n)?n:(yt(n instanceof Sn),yt(j_(n)),yt(n.filters.length>1),n.filters.reduce((i,r)=>AR(i,r)))}function AR(t,e){let n;return yt(t instanceof nn||t instanceof Sn),yt(e instanceof nn||e instanceof Sn),n=t instanceof nn?e instanceof nn?Sn.create([t,e],"and"):zU(t,e):e instanceof nn?zU(e,t):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),j_(i)&&j_(r))return VV(i,r.getFilters());const a=rR(i)?i:r,c=rR(i)?r:i,m=a.filters.map(_=>AR(_,c));return Sn.create(m,"or")}(t,e),ID(n)}function zU(t,e){if(j_(e))return VV(e,t.getFilters());{const n=e.filters.map(i=>AR(t,i));return Sn.create(n,"or")}}function ID(t){if(yt(t instanceof nn||t instanceof Sn),t instanceof nn)return t;const e=t.getFilters();if(1===e.length)return ID(e[0]);if(FV(t))return t;const n=e.map(r=>ID(r)),i=[];return n.forEach(r=>{r instanceof nn?i.push(r):r instanceof Sn&&(r.op===t.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Sn.create(i,t.op)}class _z{constructor(){this.rn=new MR}addToCollectionParentIndex(e,n){return this.rn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ho.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class MR{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Kn(an.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Kn(an.comparator)).toArray()}}const CD=new Uint8Array(0);class vz{constructor(e,n){this.user=e,this.databaseId=n,this.on=new MR,this.un=new uu(i=>yp(i),(i,r)=>x0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const a={collectionId:i,parent:us(r)};return $U(e).put(a)}return oe.resolve()}getCollectionParents(e,n){const i=[],r=IDBKeyRange.bound([n,""],[cV(n),""],!1,!0);return $U(e).j(r).next(a=>{for(const c of a){if(c.collectionId!==n)break;i.push(Fc(c.parent))}return i})}addFieldIndex(e,n){const i=DD(e),r={indexId:(c=n).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var c;delete r.indexId;const a=i.add(r);if(n.indexState){const c=B0(e);return a.next(m=>{c.put(FU(m,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const i=DD(e),r=B0(e),a=U0(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const i=U0(e);let r=!0;const a=new Map;return oe.forEach(this.cn(n),c=>this.an(e,c).next(m=>{r&&(r=!!m),a.set(c,m)})).next(()=>{if(r){let c=Kt();const m=[];return oe.forEach(a,(_,b)=>{var D;Ue("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${yp(n)}`);const M=function(nt,ct){const kt=Q1(ct);if(void 0===kt)return null;for(const Ut of mD(nt,kt.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(b,_),L=function(nt,ct){const kt=new Map;for(const Ut of gp(ct))for(const on of mD(nt,Ut.fieldPath))switch(on.op){case"==":case"in":kt.set(Ut.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return kt.set(Ut.fieldPath.canonicalString(),on.value),Array.from(kt.values())}return null}(b,_),U=function(nt,ct){const kt=[];let Ut=!0;for(const on of gp(ct)){const Rr=0===on.kind?HV(nt,on.fieldPath,nt.startAt):zV(nt,on.fieldPath,nt.startAt);kt.push(Rr.value),Ut&&(Ut=Rr.inclusive)}return new cf(kt,Ut)}(b,_),W=function(nt,ct){const kt=[];let Ut=!0;for(const on of gp(ct)){const Rr=0===on.kind?zV(nt,on.fieldPath,nt.endAt):HV(nt,on.fieldPath,nt.endAt);kt.push(Rr.value),Ut&&(Ut=Rr.inclusive)}return new cf(kt,Ut)}(b,_),re=this.hn(_,b,U),ge=this.hn(_,b,W),je=this.ln(_,b,L),Je=this.fn(_.indexId,M,re,U.inclusive,ge,W.inclusive,je);return oe.forEach(Je,nt=>i.H(nt,n.limit).next(ct=>{ct.forEach(kt=>{const Ut=Xe.fromSegments(kt.documentKey);c.has(Ut)||(c=c.add(Ut),m.push(Ut))})}))}).next(()=>m)}return oe.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:gz(Sn.create(e.filters,"and")).map(i=>aR(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,i,r,a,c,m){const _=(null!=n?n.length:1)*Math.max(i.length,a.length),b=_/(null!=n?n.length:1),D=[];for(let M=0;M<_;++M){const L=n?this.dn(n[M/b]):CD,U=this.wn(e,L,i[M%b],r),W=this._n(e,L,a[M%b],c),re=m.map(ge=>this.wn(e,L,ge,!0));D.push(...this.createRange(U,W,re))}return D}wn(e,n,i,r){const a=new Tp(e,Xe.empty(),n,i);return r?a:a.Je()}_n(e,n,i,r){const a=new Tp(e,Xe.empty(),n,i);return r?a.Je():a}an(e,n){const i=new pz(n),r=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const m of a)i.tn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c})}getIndexType(e,n){let i=2;const r=this.cn(n);return oe.forEach(r,a=>this.an(e,a).next(c=>{c?0!==i&&c.fields.length<function(m){let _=new Kn(Si.comparator),b=!1;for(const D of m.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const D of m.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==n.limit&&r.length>1&&2===i?1:i)}mn(e,n){const i=new V0;for(const r of gp(e)){const a=n.data.field(r.fieldPath);if(null==a)return null;const c=i.He(r.kind);Dp.Ve._e(a,c)}return i.Qe()}dn(e){const n=new V0;return Dp.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const i=new V0;return Dp.Ve._e(vp(this.databaseId,n),i.He(function(r){const a=gp(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Qe()}ln(e,n,i){if(null===i)return[];let r=[];r.push(new V0);let a=0;for(const c of gp(e)){const m=i[a++];for(const _ of r)if(this.yn(n,c.fieldPath)&&w0(m))r=this.pn(r,c,m);else{const b=_.He(c.kind);Dp.Ve._e(m,b)}}return this.In(r)}hn(e,n,i){return this.ln(e,n,i.position)}In(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Qe();return n}pn(e,n,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const m of r){const _=new V0;_.seed(m.Qe()),Dp.Ve._e(c,_.He(n.kind)),a.push(_)}return a}yn(e,n){return!!e.filters.find(i=>i instanceof nn&&i.field.isEqual(n)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,n){const i=DD(e),r=B0(e);return(n?i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.j()).next(a=>{const c=[];return oe.forEach(a,m=>r.get([m.indexId,this.uid]).next(_=>{c.push(function(b,D){const M=D?new p0(D.sequenceNumber,new Ho(Ip(D.readTime),new Xe(Fc(D.documentKey)),D.largestBatchId)):p0.empty(),L=b.fields.map(([U,W])=>new rD(Si.fromServerFormat(U),W));return new iD(b.indexId,b.collectionGroup,L,M)}(m,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:jt(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const r=DD(e),a=B0(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(m=>oe.forEach(m,_=>a.put(FU(_.indexId,this.user,c,i)))))}updateIndexEntries(e,n){const i=new Map;return oe.forEach(n,(r,a)=>{const c=i.get(r.collectionGroup);return(c?oe.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),oe.forEach(m,_=>this.En(e,r,_).next(b=>{const D=this.An(a,_);return b.isEqual(D)?oe.resolve():this.vn(e,a,_,b,D)}))))})}Rn(e,n,i,r){return U0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,i,r){return U0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,n.key),n.key.path.toArray()])}En(e,n,i){const r=U0(e);let a=new Kn(uf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,n)])},(c,m)=>{a=a.add(new Tp(i.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>a)}An(e,n){let i=new Kn(uf);const r=this.mn(n,e);if(null==r)return i;const a=Q1(n);if(null!=a){const c=e.data.field(a.fieldPath);if(w0(c))for(const m of c.arrayValue.values||[])i=i.add(new Tp(n.indexId,e.key,this.dn(m),r))}else i=i.add(new Tp(n.indexId,e.key,CD,r));return i}vn(e,n,i,r,a){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const c=[];return function(m,_,b,D,M){const L=m.getIterator(),U=_.getIterator();let W=V_(L),re=V_(U);for(;W||re;){let ge=!1,je=!1;if(W&&re){const Je=b(W,re);Je<0?je=!0:Je>0&&(ge=!0)}else null!=W?je=!0:ge=!0;ge?(D(re),re=V_(U)):je?(M(W),W=V_(L)):(W=V_(L),re=V_(U))}}(r,a,uf,m=>{c.push(this.Rn(e,n,i,m))},m=>{c.push(this.Pn(e,n,i,m))}),oe.waitFor(c)}Tn(e){let n=1;return B0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((c,m)=>uf(c,m)).filter((c,m,_)=>!m||0!==uf(c,_[m-1]));const r=[];r.push(e);for(const c of i){const m=uf(c,e),_=uf(c,n);if(0===m)r[0]=e.Je();else if(m>0&&_<0)r.push(c),r.push(c.Je());else if(_>0)break}r.push(n);const a=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,CD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,CD,[]]))}return a}bn(e,n){return uf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(GU)}getMinOffset(e,n){return oe.mapArray(this.cn(n),i=>this.an(e,i).next(r=>r||dt())).next(GU)}}function $U(t){return Mr(t,"collectionParents")}function U0(t){return Mr(t,"indexEntries")}function DD(t){return Mr(t,"indexConfiguration")}function B0(t){return Mr(t,"indexState")}function GU(t){yt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;X1(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ho(e.readTime,e.documentKey,n)}const qU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function WU(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),a=[],c=IDBKeyRange.only(n.batchId);let m=0;const _=i.X({range:c},(D,M,L)=>(m++,L.delete()));a.push(_.next(()=>{yt(1===m)}));const b=[];for(const D of n.mutations){const M=vV(e,D.key.path,n.batchId);a.push(r.delete(M)),b.push(D.key)}return oe.waitFor(a).next(()=>b)}function TD(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dt();e=t.noDocument}return JSON.stringify(e).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class SD{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,n,i,r){yt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new SD(a,n,i,r)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).X({index:"userMutationsIndex",range:i},(r,a,c)=>{n=!1,c.done()}).next(()=>n)}addMutationBatch(e,n,i,r){const a=K_(e),c=hf(e);return c.add({}).next(m=>{yt("number"==typeof m);const _=new mR(m,n,i,r),b=function(L,U,W){const re=W.baseMutations.map(je=>P0(L.fe,je)),ge=W.mutations.map(je=>P0(L.fe,je));return{userId:U,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:re,mutations:ge}}(this.serializer,this.userId,_),D=[];let M=new Kn((L,U)=>jt(L.canonicalString(),U.canonicalString()));for(const L of r){const U=vV(this.userId,L.key.path,m);M=M.add(L.key.path.popLast()),D.push(c.put(b)),D.push(a.put(U,s6))}return M.forEach(L=>{D.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Vn[m]=_.keys()}),oe.waitFor(D).next(()=>_)})}lookupMutationBatch(e,n){return hf(e).get(n).next(i=>i?(yt(i.userId===this.userId),Cp(this.serializer,i)):null)}Sn(e,n){return this.Vn[n]?oe.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const r=i.keys();return this.Vn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return hf(e).X({index:"userMutationsIndex",range:r},(c,m,_)=>{m.userId===this.userId&&(yt(m.batchId>=i),a=Cp(this.serializer,m)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return hf(e).X({index:"userMutationsIndex",range:n,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).j("userMutationsIndex",n).next(i=>i.map(r=>Cp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=oD(this.userId,n.path),r=IDBKeyRange.lowerBound(i),a=[];return K_(e).X({range:r},(c,m,_)=>{const[b,D,M]=c,L=Fc(D);if(b===this.userId&&n.path.isEqual(L))return hf(e).get(M).next(U=>{if(!U)throw dt();yt(U.userId===this.userId),a.push(Cp(this.serializer,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kn(jt);const r=[];return n.forEach(a=>{const c=oD(this.userId,a.path),m=IDBKeyRange.lowerBound(c),_=K_(e).X({range:m},(b,D,M)=>{const[L,U,W]=b,re=Fc(U);L===this.userId&&a.path.isEqual(re)?i=i.add(W):M.done()});r.push(_)}),oe.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1,a=oD(this.userId,i),c=IDBKeyRange.lowerBound(a);let m=new Kn(jt);return K_(e).X({range:c},(_,b,D)=>{const[M,L,U]=_,W=Fc(L);M===this.userId&&i.isPrefixOf(W)?W.length===r&&(m=m.add(U)):D.done()}).next(()=>this.Dn(e,m))}Dn(e,n){const i=[],r=[];return n.forEach(a=>{r.push(hf(e).get(a).next(c=>{if(null===c)throw dt();yt(c.userId===this.userId),i.push(Cp(this.serializer,c))}))}),oe.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return WU(e.ht,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),oe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return oe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return K_(e).X({range:i},(a,c,m)=>{if(a[0]===this.userId){const _=Fc(a[1]);r.push(_)}else m.done()}).next(()=>{yt(0===r.length)})})}containsKey(e,n){return ZU(e,this.userId,n)}xn(e){return KU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZU(t,e,n){const i=oD(e,n.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return K_(t).X({range:a,Y:!0},(m,_,b)=>{const[D,M,L]=m;D===e&&M===r&&(c=!0),b.done()}).next(()=>c)}function hf(t){return Mr(t,"mutations")}function K_(t){return Mr(t,"documentMutations")}function KU(t){return Mr(t,"mutationQueues")}class Sp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Sp(0)}static Mn(){return new Sp(-1)}}class yz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const i=new Sp(n.highestTargetId);return n.highestTargetId=i.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Et.fromTimestamp(new di(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.On(e,r)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(n,i),this.On(e,i))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Y_(e).delete(n.targetId)).next(()=>this.$n(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,n,i){let r=0;const a=[];return Y_(e).X((c,m)=>{const _=F0(m);_.sequenceNumber<=n&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(a)).next(()=>r)}forEachTarget(e,n){return Y_(e).X((i,r)=>{const a=F0(r);n(a)})}$n(e){return YU(e).get("targetGlobalKey").next(n=>(yt(null!==n),n))}On(e,n){return YU(e).put("targetGlobalKey",n)}Fn(e,n){return Y_(e).put(NU(this.serializer,n))}Bn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const i=yp(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Y_(e).X({range:r,index:"queryTargetsIndex"},(c,m,_)=>{const b=F0(m);x0(n,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,n,i){const r=[],a=ff(e);return n.forEach(c=>{const m=us(c.path);r.push(a.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(e,i,c))}),oe.waitFor(r)}removeMatchingKeys(e,n,i){const r=ff(e);return oe.forEach(n,a=>{const c=us(a.path);return oe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,n){const i=ff(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=ff(e);let a=Kt();return r.X({range:i,Y:!0},(c,m,_)=>{const b=Fc(c[1]),D=new Xe(b);a=a.add(D)}).next(()=>a)}containsKey(e,n){const i=us(n.path),r=IDBKeyRange.bound([i],[cV(i)],!1,!0);let a=0;return ff(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,m],_,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}le(e,n){return Y_(e).get(n).next(i=>i?F0(i):null)}}function Y_(t){return Mr(t,"targets")}function YU(t){return Mr(t,"targetGlobal")}function ff(t){return Mr(t,"targetDocuments")}function QU([t,e],[n,i]){const r=jt(t,n);return 0===r?jt(e,i):r}class bz{constructor(e){this.Ln=e,this.buffer=new Kn(QU),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();QU(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(i){ef(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Jh(i)}yield n.Qn(3e5)}))}}class wz{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(0===n)return oe.resolve(zo.ct);const i=new bz(n);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(qU)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qU):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let i,r,a,c,m,_,b;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,c=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,m=Date.now(),this.removeTargets(e,i,n))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(b=Date.now(),K1()<=Kh.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${r} in `+(m-c)+`ms\n\tRemoved ${a} targets in `+(_-m)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class Ez{constructor(e,n){this.db=e,this.garbageCollector=function JU(t,e){return new wz(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Jn(e){let n=0;return this.Wn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(i,r)=>n(r))}addReference(e,n,i){return AD(e,i)}removeReference(e,n,i){return AD(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return AD(e,n)}Xn(e,n){return function(i,r){let a=!1;return KU(i).Z(c=>ZU(i,c,r).next(m=>(m&&(a=!0),oe.resolve(!m)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Yn(e,(c,m)=>{if(m<=n){const _=this.Xn(e,c).next(b=>{if(!b)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Et.min()),ff(e).delete([0,us(c.path)])))});r.push(_)}}).next(()=>oe.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return AD(e,n)}Yn(e,n){const i=ff(e);let r,a=zo.ct;return i.X({index:"documentTargetsIndex"},([c,m],{path:_,sequenceNumber:b})=>{0===c?(a!==zo.ct&&n(new Xe(Fc(r)),a),a=b,r=_):a=zo.ct}).next(()=>{a!==zo.ct&&n(new Xe(Fc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AD(t,e){return ff(t).put((i=t.currentSequenceNumber,{targetId:0,path:us(e.path),sequenceNumber:i}));var i}class eB{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Ap(e).put(i)}removeEntry(e,n,i){return Ap(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ED(a),c[c.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.Zn(e,i)))}getEntry(e,n){let i=Yn.newInvalidDocument(n);return Ap(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(j0(n))},(r,a)=>{i=this.ts(n,a)}).next(()=>i)}es(e,n){let i={size:0,document:Yn.newInvalidDocument(n)};return Ap(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(j0(n))},(r,a)=>{i={document:this.ts(n,a),size:TD(a)}}).next(()=>i)}getEntries(e,n){let i=to();return this.ns(e,n,(r,a)=>{const c=this.ts(r,a);i=i.insert(r,c)}).next(()=>i)}ss(e,n){let i=to(),r=new zn(Xe.comparator);return this.ns(e,n,(a,c)=>{const m=this.ts(a,c);i=i.insert(a,m),r=r.insert(a,TD(c))}).next(()=>({documents:i,rs:r}))}ns(e,n,i){if(n.isEmpty())return oe.resolve();let r=new Kn(rB);n.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(j0(r.first()),j0(r.last())),c=r.getIterator();let m=c.getNext();return Ap(e).X({index:"documentKeyIndex",range:a},(_,b,D)=>{const M=Xe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&rB(m,M)<0;)i(m,null),m=c.getNext();m&&m.isEqual(M)&&(i(m,b),m=c.hasNext()?c.getNext():null),m?D.G(j0(m)):D.done()}).next(()=>{for(;m;)i(m,null),m=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,n,i,r){const a=n.path,c=[a.popLast().toArray(),a.lastSegment(),ED(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ap(e).j(IDBKeyRange.bound(c,m,!0)).next(_=>{let b=to();for(const D of _){const M=this.ts(Xe.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);M.isFoundDocument()&&(C0(n,M)||r.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,n,i,r){let a=to();const c=iB(n,i),m=iB(n,Ho.max());return Ap(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,m,!0)},(_,b,D)=>{const M=this.ts(Xe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(M.key,M),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new Iz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return nB(e).get("remoteDocumentGlobalKey").next(n=>(yt(!!n),n))}Zn(e,n){return nB(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const i=function cz(t,e){let n;if(e.document)n=DU(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Xe.fromSegments(e.noDocument.path),r=Ip(e.noDocument.readTime);n=Yn.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Xe.fromSegments(e.unknownDocument.path),r=Ip(e.unknownDocument.version);n=Yn.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(i){const r=new di(i[0],i[1]);return Et.fromTimestamp(r)}(e.readTime)),n}(this.serializer,n);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return Yn.newInvalidDocument(e)}}function tB(t){return new xz(t)}class Iz extends eB{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new uu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const n=[];let i=0,r=new Kn((a,c)=>jt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const m=this.us.get(a);if(n.push(this.os.removeEntry(e,a,m.readTime)),c.isValidDocument()){const _=OU(this.os.serializer,c);r=r.add(a.path.popLast());const b=TD(_);i+=b-m.size,n.push(this.os.addEntry(e,a,_))}else if(i-=m.size,this.trackRemovals){const _=OU(this.os.serializer,c.convertToNoDocument(Et.min()));n.push(this.os.addEntry(e,a,_))}}),r.forEach(a=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.os.updateMetadata(e,i)),oe.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(i=>(this.us.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:i,rs:r})=>(r.forEach((a,c)=>{this.us.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function nB(t){return Mr(t,"remoteDocumentGlobal")}function Ap(t){return Mr(t,"remoteDocumentsV14")}function j0(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iB(t,e){const n=e.documentKey.path.toArray();return[t,ED(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rB(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<n.length-2&&a<i.length-2;++a)if(r=jt(n[a],i[a]),r)return r;return r=jt(n.length,i.length),r||(r=jt(n[n.length-2],i[i.length-2]),r||jt(n[n.length-1],i[i.length-1]))}class Cz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sB{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==i&&A0(i.mutation,r,eo.empty(),di.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Kt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Kt()){const r=Vc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(a=>{let c=D0();return a.forEach((m,_)=>{c=c.insert(m,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Vc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Kt()))}populateOverlays(e,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,m)=>{n.set(c,m)})})}computeViews(e,n,i,r){let a=to();const c=T0(),m=T0();return n.forEach((_,b)=>{const D=i.get(b.key);r.has(b.key)&&(void 0===D||D.mutation instanceof hu)?a=a.insert(b.key,b):void 0!==D?(c.set(b.key,D.mutation.getFieldMask()),A0(D.mutation,b,D.mutation.getFieldMask(),di.now())):c.set(b.key,eo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,D)=>c.set(b,D)),n.forEach((b,D)=>{var M;return m.set(b,new Cz(D,null!==(M=c.get(b))&&void 0!==M?M:null))}),m))}recalculateAndSaveOverlays(e,n){const i=T0();let r=new zn((c,m)=>c-m),a=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const m of c)m.keys().forEach(_=>{const b=n.get(_);if(null===b)return;let D=i.get(_)||eo.empty();D=m.applyToLocalView(b,D),i.set(_,D);const M=(r.get(m.batchId)||Kt()).add(_);r=r.insert(m.batchId,M)})}).next(()=>{const c=[],m=r.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),b=_.key,D=_.value,M=QV();D.forEach(L=>{if(!a.has(L)){const U=oU(n.get(L),i.get(L));null!==U&&M.set(L,U),a=a.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,M))}return oe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return Xe.isDocumentKey((r=n).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):cR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i);var r}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):oe.resolve(Vc());let m=-1,_=a;return c.next(b=>oe.forEach(b,(D,M)=>(m<M.largestBatchId&&(m=M.largestBatchId),a.get(D)?oe.resolve():this.remoteDocumentCache.getEntry(e,D).next(L=>{_=_.insert(D,L)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Kt())).next(D=>({batchId:m,changes:YV(D)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next(i=>{let r=D0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let a=D0();return this.indexManager.getCollectionParents(e,r).next(c=>oe.forEach(c,m=>{const _=(b=n,D=m.child(r),new du(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((D,M)=>{a=a.insert(D,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(a=>{r.forEach((m,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,Yn.newInvalidDocument(b)))});let c=D0();return a.forEach((m,_)=>{const b=r.get(m);void 0!==b&&A0(b.mutation,_,eo.empty(),di.now()),C0(n,_)&&(c=c.insert(m,_))}),c})}}class Dz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return oe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:zi(i.createTime)}),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(i=n).name,query:IR(i.bundledQuery),readTime:zi(i.readTime)}),oe.resolve();var i}}class Tz{constructor(){this.overlays=new zn(Xe.comparator),this.ls=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vc();return oe.forEach(n,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,a)=>{this.we(e,n,a)}),oe.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const r=Vc(),a=n.length+1,c=new Xe(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const _=m.getNext().value,b=_.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return oe.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new zn((b,D)=>b-D);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>i){let D=a.get(b.largestBatchId);null===D&&(D=Vc(),a=a.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const m=Vc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>m.set(b,D)),!(m.size()>=r)););return oe.resolve(m)}we(e,n,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new gR(n,i));let a=this.ls.get(n);void 0===a&&(a=Kt(),this.ls.set(n,a)),this.ls.set(n,a.add(i.key))}}class kR{constructor(){this.fs=new Kn(kr.ds),this.ws=new Kn(kr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new kr(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new kr(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new Xe(new an([])),i=new kr(n,e),r=new kr(n,e+1),a=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Xe(new an([])),i=new kr(n,e),r=new kr(n,e+1);let a=Kt();return this.ws.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new kr(e,0),i=this.fs.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class kr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Xe.comparator(e.key,n.key)||jt(e.As,n.As)}static _s(e,n){return jt(e.As,n.As)||Xe.comparator(e.key,n.key)}}class Sz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Kn(kr.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,r){const a=this.vs;this.vs++;const c=new mR(a,n,i,r);this.mutationQueue.push(c);for(const m of r)this.Rs=this.Rs.add(new kr(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.bs(n+1),a=r<0?0:r;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new kr(n,0),r=new kr(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],c=>{const m=this.Ps(c.As);a.push(m)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kn(jt);return n.forEach(r=>{const a=new kr(r,0),c=new kr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],m=>{i=i.add(m.As)})}),oe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;Xe.isDocumentKey(a)||(a=a.child(""));const c=new kr(new Xe(a),0);let m=new Kn(jt);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(m=m.add(_.As)),!0)},c),oe.resolve(this.Vs(m))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){yt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return oe.forEach(n.mutations,r=>{const a=new kr(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new kr(n,0),r=this.Rs.firstAfterOrEqual(i);return oe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Az{constructor(e){this.Ds=e,this.docs=new zn(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,c=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let i=to();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Yn.newInvalidDocument(r))}),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=to();const c=n.path,m=new Xe(c.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:b,value:{document:D}}=_.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||X1(uV(D),i)<=0||(r.has(D.key)||C0(n,D))&&(a=a.insert(D.key,D.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,i,r){dt()}Cs(e,n){return oe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Mz(this)}getSize(e){return oe.resolve(this.size)}}class Mz extends eB{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),oe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class kz{constructor(e){this.persistence=e,this.xs=new uu(n=>yp(n),x0),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kR,this.targetCount=0,this.Ms=Sp.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),oe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Sp(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Fn(n),oe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.xs.forEach((c,m)=>{m.sequenceNumber<=n&&null===i.get(m.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),r++)}),oe.waitFor(a).next(()=>r)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this.ks.containsKey(n))}}class RR{constructor(e,n){this.$s={},this.overlays={},this.Os=new zo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new kz(this),this.indexManager=new _z,this.remoteDocumentCache=new Az(i=>this.referenceDelegate.Ls(i)),this.serializer=new RU(n),this.qs=new Dz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new Sz(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){Ue("MemoryPersistence","Starting transaction:",e);const r=new Rz(this.Os.next());return this.referenceDelegate.Us(),i(r).next(a=>this.referenceDelegate.Ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Gs(e,n){return oe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class Rz extends fV{constructor(e){super(),this.currentSequenceNumber=e}}class MD{constructor(e){this.persistence=e,this.Qs=new kR,this.js=null}static zs(e){return new MD(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.Ws.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,i=>{const r=Xe.fromPath(i);return this.Hs(e,r).next(a=>{a||n.removeEntry(r,Et.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return oe.or([()=>oe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Oz{constructor(e){this.serializer=e}O(e,n,i,r){const a=new sD("createOrUpgrade",n);var m;i<1&&r>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_V,{unique:!0}),m.createObjectStore("documentMutations"),oB(e),function(m){m.createObjectStore("remoteDocuments")}(e));let c=oe.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),oB(e)),c=c.next(()=>function(m){const _=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(m,_){return _.store("mutations").j().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_V,{unique:!0});const D=_.store("mutations"),M=b.map(L=>D.put(L));return oe.waitFor(M)})}(e,a))),c=c.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(a))),i<6&&r>=6&&(c=c.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(a))),i<8&&r>=8&&(c=c.next(()=>this.ti(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.ei(a))),i<11&&r>=11&&(c=c.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:_6});_.createIndex("collectionPathOverlayIndex",v6,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",y6,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:o6});_.createIndex("documentKeyIndex",a6),_.createIndex("collectionGroupIndex",l6)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(e,a))),i<15&&r>=15&&(c=c.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:f6}).createIndex("sequenceNumberIndex",m6,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:p6}).createIndex("documentKeyIndex",g6,{unique:!1})}(e))),c}Xs(e){let n=0;return e.store("remoteDocuments").X((i,r)=>{n+=TD(r)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.j().next(r=>oe.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(m=>oe.forEach(m,_=>{yt(_.userId===a.userId);const b=Cp(this.serializer,_);return WU(e,a.userId,b).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((c,m)=>{const _=new an(c),b=[0,us(_)];a.push(n.get(b).next(D=>D?oe.resolve():n.put({targetId:0,path:us(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>oe.waitFor(a))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:h6});const i=n.store("collectionParents"),r=new MR,a=c=>{if(r.add(c)){const m=c.lastSegment(),_=c.popLast();return i.put({collectionId:m,parent:us(_)})}};return n.store("remoteDocuments").X({Y:!0},(c,m)=>{const _=new an(c);return a(_.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([c,m,_],b)=>{const D=Fc(m);return a(D.popLast())}))}ei(e){const n=e.store("targets");return n.X((i,r)=>{const a=F0(r),c=NU(this.serializer,a);return n.put(c)})}ni(e,n){const i=n.store("remoteDocuments"),r=[];return i.X((a,c)=>{const m=n.store("remoteDocumentsV14"),_=(b=c,b.document?new Xe(an.fromString(b.document.name).popFirst(5)):b.noDocument?Xe.fromSegments(b.noDocument.path):b.unknownDocument?Xe.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(m.put(D))}).next(()=>oe.waitFor(r))}si(e,n){const i=n.store("mutations"),r=tB(this.serializer),a=new RR(MD.zs,this.serializer.fe);return i.j().next(c=>{const m=new Map;return c.forEach(_=>{var b;let D=null!==(b=m.get(_.userId))&&void 0!==b?b:Kt();Cp(this.serializer,_).keys().forEach(M=>D=D.add(M)),m.set(_.userId,D)}),oe.forEach(m,(_,b)=>{const D=new Ar(b),M=xD.de(this.serializer,D),L=a.getIndexManager(D),U=SD.de(D,this.serializer,L,a.referenceDelegate);return new sB(r,U,M,L).recalculateAndSaveOverlaysForDocumentKeys(new tR(n,zo.ct),_).next()})})}}function oB(t){t.createObjectStore("targetDocuments",{keyPath:d6}).createIndex("documentTargetsIndex",u6,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",c6,{unique:!0}),t.createObjectStore("targetGlobal")}const OR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NR{constructor(e,n,i,r,a,c,m,_,b,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ii=a,this.window=c,this.document=m,this.ri=b,this.oi=D,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=L=>Promise.resolve(),!NR.D())throw new ke(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ez(this,r),this.di=n+"main",this.serializer=new RU(_),this.wi=new Tl(this.di,this.ui,new Oz(this.serializer)),this.Bs=new yz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tB(this.serializer),this.qs=new dz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,OR);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new zo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var i=(0,xe.Z)(function*(r){if(n.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,xe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,xe.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>RD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(ef(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return H0(e).get("owner").next(n=>oe.resolve(this.Ri(n)))}Pi(e){return RD(e).delete(this.clientId)}bi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Mr(i,"clientMetadata");return r.j().next(a=>{const c=e.Si(a,18e5),m=a.filter(_=>-1===c.indexOf(_));return oe.forEach(m,_=>r.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of n)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):H0(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,OR);return!1}}return!(!this.networkEnabled||!this.inForeground)||RD(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Ue("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const i=new tR(n,zo.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(i=>this.Vi(i.updateTimeMs,n)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>RD(e).j().next(n=>this.Si(n,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return SD.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vz(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xD.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,i){Ue("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===n?"readonly":"readwrite",a=15===(c=this.ui)?w6:14===c?wV:13===c?bV:12===c?b6:11===c?yV:void dt();var c;let m;return this.wi.runTransaction(e,r,a,_=>(m=new tR(_,this.Os?this.Os.next():zo.ct),"readwrite-primary"===n?this.Ti(m).next(b=>!!b||this.Ei(m)).next(b=>{if(!b)throw Hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ke(ue.FAILED_PRECONDITION,hV);return i(m)}).next(b=>this.vi(m).next(()=>b)):this.Oi(m).next(()=>i(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Oi(e){return H0(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(ue.FAILED_PRECONDITION,OR)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return H0(e).put("owner",n)}static D(){return Tl.D()}Ai(e){const n=H0(e);return n.get("owner").next(i=>this.Ri(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):oe.resolve())}Vi(e,n){const i=Date.now();return!(e<i-n||e>i&&(Hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const i=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Hi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function H0(t){return Mr(t,"owner")}function RD(t){return Mr(t,"clientMetadata")}function PR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class FR{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=Kt(),r=Kt();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new FR(e,n.fromCache,i,r)}}class aB{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(a=>a||this.Gi(e,n,r,i)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(GV(n))return oe.resolve(null);let i=Rs(n);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=gD(n,null,"F"),i=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Kt(...a);return this.Ui.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.ji(n,m);return this.zi(n,b,c,_.readTime)?this.Ki(e,gD(n,null,"F")):this.Wi(e,b,n,_)}))})))}Gi(e,n,i,r){return GV(n)||r.isEqual(Et.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(a=>{const c=this.ji(n,a);return this.zi(n,c,i,r)?this.Qi(e,n):(K1()<=Kh.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uR(n)),this.Wi(e,c,n,dV(r,-1)))})}ji(e,n){let i=new Kn(ZV(e));return n.forEach((r,a)=>{C0(e,a)&&(i=i.add(a))}),i}zi(e,n,i,r){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const a="F"===e.limitType?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,n){return K1()<=Kh.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",uR(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ho.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}class Nz{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new zn(jt),this.Yi=new uu(a=>yp(a),x0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function lB(t,e,n,i){return new Nz(t,e,n,i)}function cB(t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,xe.Z)(function*(t,e){const n=et(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],m=[];let _=Kt();for(const b of r){c.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of a){m.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return n.localDocuments.getDocuments(i,_).next(b=>({er:b,removedBatchIds:c,addedBatchIds:m}))})})}),LR.apply(this,arguments)}function dB(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function uB(t,e,n){let i=Kt(),r=Kt();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let c=to();return n.forEach((m,_)=>{const b=a.get(m);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(m)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(m,_.readTime),c=c.insert(m,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(m,_)):Ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",_.version)}),{nr:c,sr:r}})}function Lz(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q_(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(a=>a?(r=a,oe.resolve(r)):n.Bs.allocateTargetId(i).next(c=>(r=new fu(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}function X_(t,e,n){return VR.apply(this,arguments)}function VR(){return VR=(0,xe.Z)(function*(t,e,n){const i=et(t),r=i.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ef(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),VR.apply(this,arguments)}function OD(t,e,n){const i=et(t);let r=Et.min(),a=Kt();return i.persistence.runTransaction("Execute query","readonly",c=>function(m,_,b){const D=et(m),M=D.Yi.get(b);return void 0!==M?oe.resolve(D.Ji.get(M)):D.Bs.getTargetData(_,b)}(i,c,Rs(e)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,m.targetId).next(_=>{a=_})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,e,n?r:Et.min(),n?a:Kt())).next(m=>(mB(i,WV(e),m),{documents:m,ir:a})))}function hB(t,e){const n=et(t),i=et(n.Bs),r=n.Ji.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",a=>i.le(a,e).next(c=>c?c.target:null))}function fB(t,e){const n=et(t),i=n.Xi.get(e)||Et.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.Zi.getAllFromCollectionGroup(r,e,dV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(mB(n,e,r),r))}function mB(t,e,n){let i=t.Xi.get(e)||Et.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Xi.set(e,i)}function UR(){return UR=(0,xe.Z)(function*(t,e,n,i){const r=et(t);let a=Kt(),c=to();for(const b of n){const D=e.rr(b.metadata.name);b.document&&(a=a.add(D));const M=e.ur(b);M.setReadTime(e.cr(b.metadata.readTime)),c=c.insert(D,M)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Q_(r,(b=i,Rs(H_(an.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>uB(b,m,c).next(D=>(m.apply(b),D)).next(D=>r.Bs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Bs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,D.nr,D.sr)).next(()=>D.nr)))}),UR.apply(this,arguments)}function Uz(t,e){return BR.apply(this,arguments)}function BR(){return BR=(0,xe.Z)(function*(t,e,n=Kt()){const i=yield Q_(t,Rs(IR(e.bundledQuery))),r=et(t);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=zi(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(a,e);const m=i.withResumeToken(hr.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(a,m).next(()=>r.Bs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Bs.addMatchingKeys(a,n,i.targetId)).next(()=>r.qs.saveNamedQuery(a,e))})}),BR.apply(this,arguments)}function pB(t,e){return`firestore_clients_${t}_${e}`}function gB(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function jR(t,e){return`firestore_targets_${t}_${e}`}class ND{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static ar(e,n,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new ke(r.error.code,r.error.message))),c?new ND(e,n,r.state,a):(Hi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class z0{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static ar(e,n){const i=JSON.parse(n);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ke(i.error.code,i.error.message))),a?new z0(e,i.state,r):(Hi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class PD{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const i=JSON.parse(n);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=hR();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=pV(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new PD(e,a):(Hi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class HR{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new HR(n.clientId,n.onlineState):(Hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zR{constructor(){this.activeTargetIds=hR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(e,n,i,r,a){this.window=e,this.ii=n,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zn(jt),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=pB(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new zR),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const n=yield e.syncEngine.$i();for(const r of n){if(r===e.wr)continue;const a=e.getItem(pB(e.persistenceKey,r));if(a){const c=PD.ar(r,a);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,i){this.Dr(e,n,i),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(jR(this.persistenceKey,e));if(i){const r=z0.ar(e,i);r&&(n=r.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jR(this.persistenceKey,e))}updateQueryState(e,n,i){this.kr(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ue("SharedClientState","READ",e,n),n}setItem(e,n){Ue("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const i=e;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,xe.Z)(function*(){if(n.started){if(null!==i.key)if(n.Tr.test(i.key)){if(null==i.newValue){const r=n.Or(i.key);return n.Fr(r,null)}{const r=n.Br(i.key,i.newValue);if(r)return n.Fr(r.clientId,r)}}else if(n.Er.test(i.key)){if(null!==i.newValue){const r=n.Lr(i.key,i.newValue);if(r)return n.qr(r)}}else if(n.Ar.test(i.key)){if(null!==i.newValue){const r=n.Ur(i.key,i.newValue);if(r)return n.Kr(r)}}else if(i.key===n.vr){if(null!==i.newValue){const r=n.br(i.newValue);if(r)return n.Vr(r)}}else if(i.key===n.Ir){const r=function(a){let c=zo.ct;if(null!=a)try{const m=JSON.parse(a);yt("number"==typeof m),c=m}catch(m){Hi("SharedClientState","Failed to read sequence number from WebStorage",m)}return c}(i.newValue);r!==zo.ct&&n.sequenceNumberHandler(r)}else if(i.key===n.Rr){const r=n.Gr(i.newValue);yield Promise.all(r.map(a=>n.syncEngine.Qr(a)))}}else n.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,i){const r=new ND(this.currentUser,e,n,i),a=gB(this.persistenceKey,this.currentUser,e);this.setItem(a,r.hr())}Cr(e){const n=gB(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,i){const r=jR(this.persistenceKey,e),a=new z0(e,n,i);this.setItem(r,a.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const i=this.Or(e);return PD.ar(i,n)}Lr(e,n){const i=this.Er.exec(e),r=Number(i[1]);return ND.ar(new Ar(void 0!==i[2]?i[2]:null),r,n)}Ur(e,n){const i=this.Ar.exec(e),r=Number(i[1]);return z0.ar(r,n)}br(e){return HR.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,xe.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const i=n?this.gr.insert(e,n):this.gr.remove(e),r=this.Sr(this.gr),a=this.Sr(i),c=[],m=[];return a.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{a.has(_)||m.push(_)}),this.syncEngine.Wr(c,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=hR();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class _B{constructor(){this.Hr=new zR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zR,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bz{Yr(e){}shutdown(){}}class vB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FD=null;function GR(){return null===FD?FD=268435456+Math.round(2147483648*Math.random()):FD++,"0x"+FD.toString(16)}const jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fs="WebChannelConnection";class zz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,a){const c=GR(),m=this.To(e,n);Ue("RestConnection",`Sending RPC '${e}' ${c}:`,m,i);const _={};return this.Eo(_,r,a),this.Ao(e,m,_,i).then(b=>(Ue("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw Fa("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",i),b})}vo(e,n,i,r,a,c){return this.Io(e,n,i,r,a)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+F_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}To(e,n){return`${this.mo}/v1/${n}:${jz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const a=GR();return new Promise((c,m)=>{const _=new BH;_.setWithCredentials(!0),_.listenOnce(LH.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Z1.NO_ERROR:const D=_.getResponseJson();Ue(fs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),c(D);break;case Z1.TIMEOUT:Ue(fs,`RPC '${e}' ${a} timed out`),m(new ke(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Z1.HTTP_ERROR:const M=_.getStatus();if(Ue(fs,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const U=L?.error;if(U&&U.status&&U.message){const W=function(re){const ge=re.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ge)>=0?ge:ue.UNKNOWN}(U.status);m(new ke(W,U.message))}else m(new ke(ue.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ke(ue.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue(fs,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(r);Ue(fs,`RPC '${e}' ${a} sending request:`,r),_.send(n,"POST",b,i,15)})}Ro(e,n,i){const r=GR(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=PH(),m=FH(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new UH({})),this.Eo(_.initMessageHeaders,n,i),_.encodeInitMessageHeaders=!0;const D=a.join("");Ue(fs,`Creating RPC '${e}' stream ${r}: ${D}`,_);const M=c.createWebChannel(D,_);let L=!1,U=!1;const W=new Hz({ro:ge=>{U?Ue(fs,`Not sending because RPC '${e}' stream ${r} is closed:`,ge):(L||(Ue(fs,`Opening RPC '${e}' stream ${r} transport.`),M.open(),L=!0),Ue(fs,`RPC '${e}' stream ${r} sending:`,ge),M.send(ge))},oo:()=>M.close()}),re=(ge,je,Je)=>{ge.listen(je,nt=>{try{Je(nt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return re(M,nD.EventType.OPEN,()=>{U||Ue(fs,`RPC '${e}' stream ${r} transport opened.`)}),re(M,nD.EventType.CLOSE,()=>{U||(U=!0,Ue(fs,`RPC '${e}' stream ${r} transport closed`),W.wo())}),re(M,nD.EventType.ERROR,ge=>{U||(U=!0,Fa(fs,`RPC '${e}' stream ${r} transport errored:`,ge),W.wo(new ke(ue.UNAVAILABLE,"The operation could not be completed")))}),re(M,nD.EventType.MESSAGE,ge=>{var je;if(!U){const Je=ge.data[0];yt(!!Je);const ct=Je.error||(null===(je=Je[0])||void 0===je?void 0:je.error);if(ct){Ue(fs,`RPC '${e}' stream ${r} received error:`,ct);const kt=ct.status;let Ut=function(Rr){const $o=nr[Rr];if(void 0!==$o)return hU($o)}(kt),on=ct.message;void 0===Ut&&(Ut=ue.INTERNAL,on="Unknown error status: "+kt+" with message "+ct.message),U=!0,W.wo(new ke(Ut,on)),M.close()}else Ue(fs,`RPC '${e}' stream ${r} received:`,Je),W._o(Je)}}),re(m,VH.STAT_EVENT,ge=>{ge.stat===rV.PROXY?Ue(fs,`RPC '${e}' stream ${r} detected buffering proxy`):ge.stat===rV.NOPROXY&&Ue(fs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{W.fo()},0),W}}function yB(){return typeof window<"u"?window:null}function LD(){return typeof document<"u"?document:null}function $0(t){return new J6(t,!0)}class qR{constructor(e,n,i=1e3,r=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bB{constructor(e,n,i,r,a,c,m,_){this.ii=e,this.$o=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qR(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var i=this;return(0,xe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):n&&n.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new ke(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,xe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $z extends bB{constructor(e,n,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function nz(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(yt(void 0===b||"string"==typeof b),hr.fromBase64String(b||"")):(yt(void 0===b||b instanceof Uint8Array),hr.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(_){const b=void 0===_.code?ue.UNKNOWN:hU(_.code);return new ke(b,_.message||"")}(c);n=new _U(i,r,a,m||null)}else if("documentChange"in e){const i=e.documentChange,r=Uc(t,i.document.name),a=zi(i.document.updateTime),c=i.document.createTime?zi(i.document.createTime):Et.min(),m=new Yr({mapValue:{fields:i.document.fields}}),_=Yn.newFoundDocument(r,a,c,m);n=new wD(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Uc(t,i.document),a=i.readTime?zi(i.readTime):Et.min(),c=Yn.newNoDocument(r,a);n=new wD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Uc(t,i.document);n=new wD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,{count:r=0,unchangedNames:a}=i,c=new W6(r,a);n=new gU(i.targetId,c)}}var _;return n}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Et.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Et.min():a.readTime?zi(a.readTime):Et.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=N0(this.serializer),n.addTarget=function(r,a){let c;const m=a.target;if(c=fD(m)?{documents:TU(r,m)}:{query:xR(r,m)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=wU(r,a.resumeToken);const _=yR(r,a.expectedCount);null!==_&&(c.expectedCount=_)}else if(a.snapshotVersion.compareTo(Et.min())>0){c.readTime=W_(r,a.snapshotVersion.toTimestamp());const _=yR(r,a.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const i=function rz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=N0(this.serializer),n.removeTarget=e,this.Wo(n)}}class Gz extends bB{constructor(e,n,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function iz(t,e){return t&&t.length>0?(yt(void 0!==e),t.map(n=>function(i,r){let a=zi(i.updateTime?i.updateTime:r);return a.isEqual(Et.min())&&(a=zi(r)),new z6(a,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.cu(i,n)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=N0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>P0(this.serializer,i))};this.Wo(n)}}class qz extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Io(e,n,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ue.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,n,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ue.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class Zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Hi(n),this.mu=!1):Ue("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Kz{constructor(e,n,i,r,a){var c=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(m=>{i.enqueueAndForget((0,xe.Z)(function*(){var _;mf(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,xe.Z)(function*(b){const D=et(b);D.vu.add(4),yield J_(D),D.bu.set("Unknown"),D.vu.delete(4),yield G0(D)}),function(b){return _.apply(this,arguments)})(c))}))}),this.bu=new Zz(i,r)}}function G0(t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,xe.Z)(function*(t){if(mf(t))for(const e of t.Ru)yield e(!0)}),ZR.apply(this,arguments)}function J_(t){return KR.apply(this,arguments)}function KR(){return KR=(0,xe.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),KR.apply(this,arguments)}function VD(t,e){const n=et(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),XR(n)?QR(n):tv(n).Ko()&&YR(n,e))}function q0(t,e){const n=et(t),i=tv(n);n.Au.delete(e),i.Ko()&&wB(n,e),0===n.Au.size&&(i.Ko()?i.jo():mf(n)&&n.bu.set("Unknown"))}function YR(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tv(t).su(e)}function wB(t,e){t.Vu.qt(e),tv(t).iu(e)}function QR(t){t.Vu=new K6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),tv(t).start(),t.bu.gu()}function XR(t){return mf(t)&&!tv(t).Uo()&&t.Au.size>0}function mf(t){return 0===et(t).vu.size}function EB(t){t.Vu=void 0}function Yz(t){return JR.apply(this,arguments)}function JR(){return JR=(0,xe.Z)(function*(t){t.Au.forEach((e,n)=>{YR(t,e)})}),JR.apply(this,arguments)}function Qz(t,e){return eO.apply(this,arguments)}function eO(){return eO=(0,xe.Z)(function*(t,e){EB(t),XR(t)?(t.bu.Iu(e),QR(t)):t.bu.set("Unknown")}),eO.apply(this,arguments)}function Xz(t,e,n){return tO.apply(this,arguments)}function tO(){return tO=(0,xe.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof _U&&2===e.state&&e.cause)try{yield(i=(0,xe.Z)(function*(r,a){const c=a.cause;for(const m of a.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,c),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,a){return i.apply(this,arguments)})(t,e)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield UD(t,i)}else if(e instanceof wD?t.Vu.Ht(e):e instanceof gU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Et.min()))try{const i=yield dB(t.localStore);n.compareTo(i)>=0&&(yield function(r,a){const c=r.Vu.ce(a);return c.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const b=r.Au.get(_);b&&r.Au.set(_,b.withResumeToken(m.resumeToken,a))}}),c.targetMismatches.forEach((m,_)=>{const b=r.Au.get(m);if(!b)return;r.Au.set(m,b.withResumeToken(hr.EMPTY_BYTE_STRING,b.snapshotVersion)),wB(r,m);const D=new fu(b.target,m,_,b.sequenceNumber);YR(r,D)}),r.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield UD(t,i)}var i}),tO.apply(this,arguments)}function UD(t,e,n){return nO.apply(this,arguments)}function nO(){return nO=(0,xe.Z)(function*(t,e,n){if(!ef(e))throw e;t.vu.add(1),yield J_(t),t.bu.set("Offline"),n||(n=()=>dB(t.localStore)),t.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield G0(t)}))}),nO.apply(this,arguments)}function xB(t,e){return e().catch(n=>UD(t,n,e))}function ev(t){return iO.apply(this,arguments)}function iO(){return iO=(0,xe.Z)(function*(t){const e=et(t),n=pf(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Jz(e);)try{const r=yield Lz(e.localStore,i);if(null===r){0===e.Eu.length&&n.jo();break}i=r.batchId,e$(e,r)}catch(r){yield UD(e,r)}IB(e)&&CB(e)}),iO.apply(this,arguments)}function Jz(t){return mf(t)&&t.Eu.length<10}function e$(t,e){t.Eu.push(e);const n=pf(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function IB(t){return mf(t)&&!pf(t).Uo()&&t.Eu.length>0}function CB(t){pf(t).start()}function t$(t){return rO.apply(this,arguments)}function rO(){return rO=(0,xe.Z)(function*(t){pf(t).hu()}),rO.apply(this,arguments)}function n$(t){return sO.apply(this,arguments)}function sO(){return sO=(0,xe.Z)(function*(t){const e=pf(t);for(const n of t.Eu)e.uu(n.mutations)}),sO.apply(this,arguments)}function i$(t,e,n){return oO.apply(this,arguments)}function oO(){return oO=(0,xe.Z)(function*(t,e,n){const i=t.Eu.shift(),r=pR.from(i,e,n);yield xB(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield ev(t)}),oO.apply(this,arguments)}function r$(t,e){return aO.apply(this,arguments)}function aO(){return aO=(0,xe.Z)(function*(t,e){var n;e&&pf(t).ou&&(yield(n=(0,xe.Z)(function*(i,r){if(uU(a=r.code)&&a!==ue.ABORTED){const c=i.Eu.shift();pf(i).Qo(),yield xB(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ev(i)}var a}),function(i,r){return n.apply(this,arguments)})(t,e)),IB(t)&&CB(t)}),aO.apply(this,arguments)}function DB(t,e){return lO.apply(this,arguments)}function lO(){return lO=(0,xe.Z)(function*(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=mf(n);n.vu.add(3),yield J_(n),i&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield G0(n)}),lO.apply(this,arguments)}function cO(t,e){return dO.apply(this,arguments)}function dO(){return dO=(0,xe.Z)(function*(t,e){const n=et(t);e?(n.vu.delete(2),yield G0(n)):e||(n.vu.add(2),yield J_(n),n.bu.set("Unknown"))}),dO.apply(this,arguments)}function tv(t){return t.Su||(t.Su=function(e,n,i){const r=et(e);return r.fu(),new $z(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:Yz.bind(null,t),ao:Qz.bind(null,t),nu:Xz.bind(null,t)}),t.Ru.push(function(){var e=(0,xe.Z)(function*(n){n?(t.Su.Qo(),XR(t)?QR(t):t.bu.set("Unknown")):(yield t.Su.stop(),EB(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function pf(t){return t.Du||(t.Du=function(e,n,i){const r=et(e);return r.fu(),new Gz(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:t$.bind(null,t),ao:r$.bind(null,t),au:n$.bind(null,t),cu:i$.bind(null,t)}),t.Ru.push(function(){var e=(0,xe.Z)(function*(n){n?(t.Du.Qo(),yield ev(t)):(yield t.Du.stop(),t.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class uO{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,i,r,a){const c=Date.now()+i,m=new uO(e,n,c,r,a);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),ef(t))return new ke(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class iv{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Xe.comparator(n.key,i.key):(n,i)=>Xe.comparator(n.key,i.key),this.keyedMap=D0(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new iv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new iv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class TB{constructor(){this.Cu=new zn(Xe.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(n):1===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class rv{constructor(e,n,i,r,a,c,m,_,b){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,n,i,r,a){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new rv(e,n,iv.emptySet(n),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&I0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class s${constructor(){this.Nu=void 0,this.listeners=[]}}class o${constructor(){this.queries=new uu(e=>qV(e),I0),this.onlineState="Unknown",this.ku=new Set}}function hO(t,e){return fO.apply(this,arguments)}function fO(){return fO=(0,xe.Z)(function*(t,e){const n=et(t),i=e.query;let r=!1,a=n.queries.get(i);if(a||(r=!0,a=new s$),r)try{a.Nu=yield n.onListen(i)}catch(c){const m=nv(c,`Initialization of query '${uR(e.query)}' failed`);return void e.onError(m)}n.queries.set(i,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&gO(n)}),fO.apply(this,arguments)}function mO(t,e){return pO.apply(this,arguments)}function pO(){return pO=(0,xe.Z)(function*(t,e){const n=et(t),i=e.query;let r=!1;const a=n.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}),pO.apply(this,arguments)}function a$(t,e){const n=et(t);let i=!1;for(const r of e){const c=n.queries.get(r.query);if(c){for(const m of c.listeners)m.$u(r)&&(i=!0);c.Nu=r}}i&&gO(n)}function l$(t,e,n){const i=et(t),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(n);i.queries.delete(e)}function gO(t){t.ku.forEach(e=>{e.next()})}class _O{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new rv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class c${constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class SB{constructor(e){this.serializer=e}rr(e){return Uc(this.serializer,e)}ur(e){return e.metadata.exists?DU(this.serializer,e.document,!1):Yn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return zi(e)}}class d${constructor(e,n,i){this.ju=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AB(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const i=an.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,i=new SB(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.rr(r.metadata.name);for(const c of r.metadata.queries){const m=(n.get(c)||Kt()).add(a);n.set(c,m)}}return n}complete(){var e=this;return(0,xe.Z)(function*(){const n=yield function Vz(t,e,n,i){return UR.apply(this,arguments)}(e.localStore,new SB(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield Uz(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function AB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class MB{constructor(e){this.key=e}}class kB{constructor(e){this.key=e}}class RB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kt(),this.mutatedKeys=Kt(),this.tc=ZV(e),this.ec=new iv(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new TB,r=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,c=r,m=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,M)=>{const L=r.get(D),U=C0(this.query,M)?M:null,W=!!L&&this.mutatedKeys.has(L.key),re=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ge=!1;L&&U?L.data.isEqual(U.data)?W!==re&&(i.track({type:3,doc:U}),ge=!0):this.rc(L,U)||(i.track({type:2,doc:U}),ge=!0,(_&&this.tc(U,_)>0||b&&this.tc(U,b)<0)&&(m=!0)):!L&&U?(i.track({type:0,doc:U}),ge=!0):L&&!U&&(i.track({type:1,doc:L}),ge=!0,(_||b)&&(m=!0)),ge&&(U?(c=c.add(U),a=re?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{ec:c,ic:i,zi:m,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((b,D)=>function(M,L){const U=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return U(M)-U(L)}(b.type,D.type)||this.tc(b.doc,D.doc)),this.oc(i);const c=n?this.uc():[],m=0===this.Zu.size&&this.current?1:0,_=m!==this.Xu;return this.Xu=m,0!==a.length||_?{snapshot:new rv(this.query,e.ec,r,a,e.mutatedKeys,0===m,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new TB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new kB(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new MB(i))}),n}hc(e){this.Yu=e.ir,this.Zu=Kt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return rv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class u${constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class h${constructor(e){this.key=e,this.fc=!1}}class f${constructor(e,n,i,r,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new uu(m=>qV(m),I0),this._c=new Map,this.mc=new Set,this.gc=new zn(Xe.comparator),this.yc=new Map,this.Ic=new kR,this.Tc={},this.Ec=new Map,this.Ac=Sp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function m$(t,e){return vO.apply(this,arguments)}function vO(){return vO=(0,xe.Z)(function*(t,e){const n=jO(t);let i,r;const a=n.wc.get(e);if(a)i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),r=a.view.lc();else{const c=yield Q_(n.localStore,Rs(e)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield yO(n,e,i,"current"===m,c.resumeToken),n.isPrimaryClient&&VD(n.remoteStore,c)}return r}),vO.apply(this,arguments)}function yO(t,e,n,i,r){return bO.apply(this,arguments)}function bO(){return bO=(0,xe.Z)(function*(t,e,n,i,r){t.Rc=(M,L,U)=>{return(W=(0,xe.Z)(function*(re,ge,je,Je){let nt=ge.view.sc(je);nt.zi&&(nt=yield OD(re.localStore,ge.query,!1).then(({documents:Ut})=>ge.view.sc(Ut,nt)));const ct=Je&&Je.targetChanges.get(ge.targetId),kt=ge.view.applyChanges(nt,re.isPrimaryClient,ct);return MO(re,ge.targetId,kt.cc),kt.snapshot}),function(re,ge,je,Je){return W.apply(this,arguments)})(t,M,L,U);var W};const a=yield OD(t.localStore,e,!0),c=new RB(e,a.ir),m=c.sc(a.documents),_=R0.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),b=c.applyChanges(m,t.isPrimaryClient,_);MO(t,n,b.cc);const D=new u$(e,n,c);return t.wc.set(e,D),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),b.snapshot}),bO.apply(this,arguments)}function p$(t,e){return wO.apply(this,arguments)}function wO(){return wO=(0,xe.Z)(function*(t,e){const n=et(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(a=>!I0(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield X_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),q0(n.remoteStore,i.targetId),sv(n,i.targetId)}).catch(Jh))):(sv(n,i.targetId),yield X_(n.localStore,i.targetId,!0))}),wO.apply(this,arguments)}function EO(){return EO=(0,xe.Z)(function*(t,e,n){const i=HO(t);try{const r=yield function(a,c){const m=et(a),_=di.now(),b=c.reduce((L,U)=>L.add(U.key),Kt());let D,M;return m.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=to(),W=Kt();return m.Zi.getEntries(L,b).next(re=>{U=re,U.forEach((ge,je)=>{je.isValidDocument()||(W=W.add(ge))})}).next(()=>m.localDocuments.getOverlayedDocuments(L,U)).next(re=>{D=re;const ge=[];for(const je of c){const Je=G6(je,D.get(je.key).overlayedDocument);null!=Je&&ge.push(new hu(je.key,Je,RV(Je.value.mapValue),ui.exists(!0)))}return m.mutationQueue.addMutationBatch(L,_,ge,c)}).next(re=>{M=re;const ge=re.applyToLocalDocumentSet(D,W);return m.documentOverlayCache.saveOverlays(L,re.batchId,ge)})}).then(()=>({batchId:M.batchId,changes:YV(D)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,m){let _=a.Tc[a.currentUser.toKey()];_||(_=new zn(jt)),_=_.insert(c,m),a.Tc[a.currentUser.toKey()]=_}(i,r.batchId,n),yield mu(i,r.changes),yield ev(i.remoteStore)}catch(r){const a=nv(r,"Failed to persist write");n.reject(a)}}),EO.apply(this,arguments)}function OB(t,e){return xO.apply(this,arguments)}function xO(){return xO=(0,xe.Z)(function*(t,e){const n=et(t);try{const i=yield function Fz(t,e){const n=et(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const m=[];e.targetChanges.forEach((D,M)=>{const L=r.get(M);if(!L)return;m.push(n.Bs.removeMatchingKeys(a,D.removedDocuments,M).next(()=>n.Bs.addMatchingKeys(a,D.addedDocuments,M)));let U=L.withSequenceNumber(a.currentSequenceNumber);var W,re,ge;null!==e.targetMismatches.get(M)?U=U.withResumeToken(hr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):D.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(D.resumeToken,i)),r=r.insert(M,U),re=U,ge=D,(0===(W=L).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&m.push(n.Bs.updateTargetData(a,U))});let _=to(),b=Kt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(a,D))}),m.push(uB(a,c,e.documentUpdates).next(D=>{_=D.nr,b=D.sr})),!i.isEqual(Et.min())){const D=n.Bs.getLastRemoteSnapshotVersion(a).next(M=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,i));m.push(D)}return oe.waitFor(m).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(n.Ji=r,a))}(n.localStore,e);e.targetChanges.forEach((r,a)=>{const c=n.yc.get(a);c&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?yt(c.fc):r.removedDocuments.size>0&&(yt(c.fc),c.fc=!1))}),yield mu(n,i,e)}catch(i){yield Jh(i)}}),xO.apply(this,arguments)}function NB(t,e,n){const i=et(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.wc.forEach((a,c)=>{const m=c.view.Mu(e);m.snapshot&&r.push(m.snapshot)}),function(a,c){const m=et(a);m.onlineState=c;let _=!1;m.queries.forEach((b,D)=>{for(const M of D.listeners)M.Mu(c)&&(_=!0)}),_&&gO(m)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function _$(t,e,n){return IO.apply(this,arguments)}function IO(){return IO=(0,xe.Z)(function*(t,e,n){const i=et(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),a=r&&r.key;if(a){let c=new zn(Xe.comparator);c=c.insert(a,Yn.newNoDocument(a,Et.min()));const m=Kt().add(a),_=new k0(Et.min(),new Map,new zn(jt),c,m);yield OB(i,_),i.gc=i.gc.remove(a),i.yc.delete(e),kO(i)}else yield X_(i.localStore,e,!1).then(()=>sv(i,e,n)).catch(Jh)}),IO.apply(this,arguments)}function v$(t,e){return CO.apply(this,arguments)}function CO(){return CO=(0,xe.Z)(function*(t,e){const n=et(t),i=e.batch.batchId;try{const r=yield function Pz(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,m,_,b){const D=_.batch,M=D.keys();let L=oe.resolve();return M.forEach(U=>{L=L.next(()=>b.getEntry(m,U)).next(W=>{const re=_.docVersions.get(U);yt(null!==re),W.version.compareTo(re)<0&&(D.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),b.addEntry(W)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(m,D))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let m=Kt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(m=m.add(c.batch.mutations[_].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,e);AO(n,i,null),SO(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield mu(n,r)}catch(r){yield Jh(r)}}),CO.apply(this,arguments)}function y$(t,e,n){return DO.apply(this,arguments)}function DO(){return DO=(0,xe.Z)(function*(t,e,n){const i=et(t);try{const r=yield function(a,c){const m=et(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return m.mutationQueue.lookupMutationBatch(_,c).next(D=>(yt(null!==D),b=D.keys(),m.mutationQueue.removeMutationBatch(_,D))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>m.localDocuments.getDocuments(_,b))})}(i.localStore,e);AO(i,e,n),SO(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield mu(i,r)}catch(r){yield Jh(r)}}),DO.apply(this,arguments)}function TO(){return TO=(0,xe.Z)(function*(t,e){const n=et(t);mf(n.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=et(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>c.mutationQueue.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===i)return void e.resolve();const r=n.Ec.get(i)||[];r.push(e),n.Ec.set(i,r)}catch(i){const r=nv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),TO.apply(this,arguments)}function SO(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function AO(t,e,n){const i=et(t);let r=i.Tc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||PB(t,i)})}function PB(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(q0(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),kO(t))}function MO(t,e,n){for(const i of n)i instanceof MB?(t.Ic.addReference(i.key,e),w$(t,i)):i instanceof kB?(Ue("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||PB(t,i.key)):dt()}function w$(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(Ue("SyncEngine","New document in limbo: "+n),t.mc.add(i),kO(t))}function kO(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Xe(an.fromString(e)),i=t.Ac.next();t.yc.set(i,new h$(n)),t.gc=t.gc.insert(n,i),VD(t.remoteStore,new fu(Rs(H_(n.path)),i,"TargetPurposeLimboResolution",zo.ct))}}function mu(t,e,n){return RO.apply(this,arguments)}function RO(){return RO=(0,xe.Z)(function*(t,e,n){const i=et(t),r=[],a=[],c=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,_)=>{c.push(i.Rc(_,e,n).then(b=>{if((b||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const D=FR.Li(_.targetId,b);a.push(D)}}))}),yield Promise.all(c),i.dc.nu(r),yield(m=(0,xe.Z)(function*(_,b){const D=et(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>oe.forEach(b,L=>oe.forEach(L.Fi,U=>D.persistence.referenceDelegate.addReference(M,L.targetId,U)).next(()=>oe.forEach(L.Bi,U=>D.persistence.referenceDelegate.removeReference(M,L.targetId,U)))))}catch(M){if(!ef(M))throw M;Ue("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const L=M.targetId;if(!M.fromCache){const U=D.Ji.get(L),re=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);D.Ji=D.Ji.insert(L,re)}}}),function(_,b){return m.apply(this,arguments)})(i.localStore,a))}),RO.apply(this,arguments)}function E$(t,e){return OO.apply(this,arguments)}function OO(){return OO=(0,xe.Z)(function*(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const i=yield cB(n.localStore,e);n.currentUser=e,(r=n).Ec.forEach(c=>{c.forEach(m=>{m.reject(new ke(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield mu(n,i.er)}var r}),OO.apply(this,arguments)}function x$(t,e){const n=et(t),i=n.yc.get(e);if(i&&i.fc)return Kt().add(i.key);{let r=Kt();const a=n._c.get(e);if(!a)return r;for(const c of a){const m=n.wc.get(c);r=r.unionWith(m.view.nc)}return r}}function I$(t,e){return NO.apply(this,arguments)}function NO(){return NO=(0,xe.Z)(function*(t,e){const n=et(t),i=yield OD(n.localStore,e.query,!0),r=e.view.hc(i);return n.isPrimaryClient&&MO(n,e.targetId,r.cc),r}),NO.apply(this,arguments)}function C$(t,e){return PO.apply(this,arguments)}function PO(){return PO=(0,xe.Z)(function*(t,e){const n=et(t);return fB(n.localStore,e).then(i=>mu(n,i))}),PO.apply(this,arguments)}function D$(t,e,n,i){return FO.apply(this,arguments)}function FO(){return FO=(0,xe.Z)(function*(t,e,n,i){const r=et(t),a=yield function(c,m){const _=et(c),b=et(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Sn(D,m).next(M=>M?_.localDocuments.getDocuments(D,M):oe.resolve(null)))}(r.localStore,e);var m;null!==a?("pending"===n?yield ev(r.remoteStore):"acknowledged"===n||"rejected"===n?(AO(r,e,i||null),SO(r,e),m=e,et(et(r.localStore).mutationQueue).Cn(m)):dt(),yield mu(r,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),FO.apply(this,arguments)}function LO(){return LO=(0,xe.Z)(function*(t,e){const n=et(t);if(jO(n),HO(n),!0===e&&!0!==n.vc){const i=n.sharedClientState.getAllActiveQueryTargets(),r=yield FB(n,i.toArray());n.vc=!0,yield cO(n.remoteStore,!0);for(const a of r)VD(n.remoteStore,a)}else if(!1===e&&!1!==n.vc){const i=[];let r=Promise.resolve();n._c.forEach((a,c)=>{n.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(sv(n,c),X_(n.localStore,c,!0))),q0(n.remoteStore,c)}),yield r,yield FB(n,i),function(a){const c=et(a);c.yc.forEach((m,_)=>{q0(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new zn(Xe.comparator)}(n),n.vc=!1,yield cO(n.remoteStore,!1)}}),LO.apply(this,arguments)}function FB(t,e,n){return VO.apply(this,arguments)}function VO(){return VO=(0,xe.Z)(function*(t,e,n){const i=et(t),r=[],a=[];for(const c of e){let m;const _=i._c.get(c);if(_&&0!==_.length){m=yield Q_(i.localStore,Rs(_[0]));for(const b of _){const D=i.wc.get(b),M=yield I$(i,D);M.snapshot&&a.push(M.snapshot)}}else{const b=yield hB(i.localStore,c);m=yield Q_(i.localStore,b),yield yO(i,LB(b),c,!1,m.resumeToken)}r.push(m)}return i.dc.nu(a),r}),VO.apply(this,arguments)}function LB(t){return $V(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function S$(t){const e=et(t);return et(et(e.localStore).persistence).$i()}function A$(t,e,n,i){return UO.apply(this,arguments)}function UO(){return UO=(0,xe.Z)(function*(t,e,n,i){const r=et(t);if(r.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const c=yield fB(r.localStore,WV(a[0])),m=k0.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,hr.EMPTY_BYTE_STRING);yield mu(r,c,m);break}case"rejected":yield X_(r.localStore,e,!0),sv(r,e,i);break;default:dt()}}),UO.apply(this,arguments)}function M$(t,e,n){return BO.apply(this,arguments)}function BO(){return BO=(0,xe.Z)(function*(t,e,n){const i=jO(t);if(i.vc){for(const r of e){if(i._c.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const a=yield hB(i.localStore,r),c=yield Q_(i.localStore,a);yield yO(i,LB(a),c.targetId,!1,c.resumeToken),VD(i.remoteStore,c)}for(const r of n)i._c.has(r)&&(yield X_(i.localStore,r,!1).then(()=>{q0(i.remoteStore,r),sv(i,r)}).catch(Jh))}}),BO.apply(this,arguments)}function jO(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_$.bind(null,e),e.dc.nu=a$.bind(null,e.eventManager),e.dc.Pc=l$.bind(null,e.eventManager),e}function HO(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y$.bind(null,e),e}class W0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,xe.Z)(function*(){n.serializer=$0(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lB(this.persistence,new aB,e.initialUser,this.serializer)}createPersistence(e){return new RR(MD.zs,this.serializer)}createSharedClientState(e){return new _B}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zO extends W0{constructor(e,n,i){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield n().call(i,e),yield i.Vc.initialize(i,e),yield HO(i.Vc.syncEngine),yield ev(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return lB(this.persistence,new aB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new XU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new i6(n,this.persistence);return new n6(e.asyncQueue,i)}createPersistence(e){const n=PR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new NR(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,yB(),LD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _B}}class VB extends zO{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield n().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof $R&&(i.sharedClientState.syncEngine={jr:D$.bind(null,r),zr:A$.bind(null,r),Wr:M$.bind(null,r),$i:S$.bind(null,r),Qr:C$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var a=(0,xe.Z)(function*(c){yield function T$(t,e){return LO.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const n=yB();if(!$R.D(n))throw new ke(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=PR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $R(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class ov{initialize(e,n){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(n),i.remoteStore=i.createRemoteStore(n),i.eventManager=i.createEventManager(n),i.syncEngine=i.createSyncEngine(n,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>NB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=E$.bind(null,i.syncEngine),yield cO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new o$}createDatastore(e){const n=$0(e.databaseInfo.databaseId),i=new zz(e.databaseInfo);return new qz(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,a=m=>NB(this.syncEngine,m,0),c=vB.D()?new vB:new Bz,new Kz(n,i,r,a,c);var n,i,r,a,c}createSyncEngine(e,n){return function(i,r,a,c,m,_,b){const D=new f$(i,r,a,c,m,_);return b&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,xe.Z)(function*(n){const i=et(n);Ue("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield J_(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function UB(t,e=10240){let n=0;return{read:()=>(0,xe.Z)(function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class O${constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new ur,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,xe.Z)(function*(){const n=yield e.kc();if(null===n)return null;const i=e.xc.decode(n),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const a=yield e.$c(r);return new c$(JSON.parse(a),n.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,xe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),i})()}$c(e){var n=this;return(0,xe.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const i=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,xe.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const i=new Uint8Array(e.buffer.length+n.value.length);i.set(e.buffer),i.set(n.value,e.buffer.length),e.buffer=i}return n.done})()}}class N${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,xe.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ke(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(a,c){const m=et(a),_=N0(m.serializer)+"/documents",b={documents:c.map(U=>O0(m.serializer,U))},D=yield m.vo("BatchGetDocuments",_,b,c.length),M=new Map;D.forEach(U=>{const W=function tz(t,e){return"found"in e?function(n,i){yt(!!i.found);const r=Uc(n,i.found.name),a=zi(i.found.updateTime),c=i.found.createTime?zi(i.found.createTime):Et.min(),m=new Yr({mapValue:{fields:i.found.fields}});return Yn.newFoundDocument(r,a,c,m)}(t,e):"missing"in e?function(n,i){yt(!!i.missing),yt(!!i.readTime);const r=Uc(n,i.missing),a=zi(i.readTime);return Yn.newNoDocument(r,a)}(t,e):dt()}(m.serializer,U);M.set(W.key.toString(),W)});const L=[];return c.forEach(U=>{const W=M.get(U.toString());yt(!!W),L.push(W)}),L}),function(a,c){return r.apply(this,arguments)})(n.datastore,e);var r;return i.forEach(r=>n.recordVersion(r)),i})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new q_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var i;e.mutations.forEach(i=>{n.delete(i.key.toString())}),n.forEach((i,r)=>{const a=Xe.fromPath(r);e.mutations.push(new fR(a,e.precondition(a)))}),yield(i=(0,xe.Z)(function*(r,a){const c=et(r),m=N0(c.serializer)+"/documents",_={writes:a.map(b=>P0(c.serializer,b))};yield c.Io("Commit",m,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw dt();n=Et.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new ke(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Et.min())?ui.exists(!1):ui.updateTime(n):ui.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Et.min()))throw new ke(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(n)}return ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P${constructor(e,n,i,r,a){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=a,this.Bc=i.maxAttempts,this.qo=new qR(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,xe.Z)(function*(){const n=new N$(e.datastore),i=e.qc(n);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Uc(a)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const n=this.updateFunction(e);return!_0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!uU(n)}return!1}}class F${constructor(e,n,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ar.UNAUTHENTICATED,this.clientId=lV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,xe.Z)(function*(m){Ue("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=nv(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function jD(t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,xe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(a){i.isEqual(a)||(yield cB(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),$O.apply(this,arguments)}function GO(t,e){return qO.apply(this,arguments)}function qO(){return qO=(0,xe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield WO(t);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>DB(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>DB(e.remoteStore,a)),t._onlineComponents=e}),qO.apply(this,arguments)}function BB(t){return"FirebaseError"===t.name?t.code===ue.FAILED_PRECONDITION||t.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function WO(t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,xe.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jD(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BB(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),yield jD(t,new W0)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield jD(t,new W0);return t._offlineComponents}),ZO.apply(this,arguments)}function HD(t){return KO.apply(this,arguments)}function KO(){return KO=(0,xe.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield GO(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield GO(t,new ov))),t._onlineComponents}),KO.apply(this,arguments)}function jB(t){return WO(t).then(e=>e.persistence)}function zD(t){return WO(t).then(e=>e.localStore)}function HB(t){return HD(t).then(e=>e.remoteStore)}function YO(t){return HD(t).then(e=>e.syncEngine)}function av(t){return QO.apply(this,arguments)}function QO(){return QO=(0,xe.Z)(function*(t){const e=yield HD(t),n=e.eventManager;return n.onListen=m$.bind(null,e.syncEngine),n.onUnlisten=p$.bind(null,e.syncEngine),n}),QO.apply(this,arguments)}function $B(t,e,n={}){const i=new ur;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,a,c,m,_){const b=new BD({next:M=>{a.enqueueAndForget(()=>mO(r,D));const L=M.docs.has(c);!L&&M.fromCache?_.reject(new ke(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&m&&"server"===m.source?_.reject(new ke(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new _O(H_(c.path),b,{includeMetadataChanges:!0,Ku:!0});return hO(r,D)}(yield av(t),t.asyncQueue,e,n,i)})),i.promise}function GB(t,e,n={}){const i=new ur;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,a,c,m,_){const b=new BD({next:M=>{a.enqueueAndForget(()=>mO(r,D)),M.fromCache&&"server"===m.source?_.reject(new ke(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new _O(c,b,{includeMetadataChanges:!0,Ku:!0});return hO(r,D)}(yield av(t),t.asyncQueue,e,n,i)})),i.promise}function qB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const WB=new Map;function XO(t,e,n){if(!n)throw new ke(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZB(t,e,n,i){if(!0===e&&!0===i)throw new ke(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KB(t){if(!Xe.isDocumentKey(t))throw new ke(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YB(t){if(Xe.isDocumentKey(t))throw new ke(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $D(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":dt()}function rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$D(t);throw new ke(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function QB(t,e){if(e<=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class XB{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qB(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z0{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $H;switch(n.type){case"firstParty":return new ZH(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=WB.get(e);n&&(Ue("ComponentProvider","Removing Datastore"),WB.delete(e),n.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Qr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Bc extends Qr{constructor(e,n,i){super(e,n,H_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Xe(e))}withConverter(e){return new Bc(this.firestore,e,this._path)}}function e3(t,e,...n){if(t=(0,mn.m9)(t),XO("collection","path",e),t instanceof Z0){const i=an.fromString(e,...n);return YB(i),new Bc(t,null,i)}{if(!(t instanceof Qn||t instanceof Bc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(an.fromString(e,...n));return YB(i),new Bc(t.firestore,null,i)}}function GD(t,e,...n){if(t=(0,mn.m9)(t),1===arguments.length&&(e=lV.A()),XO("doc","path",e),t instanceof Z0){const i=an.fromString(e,...n);return KB(i),new Qn(t,null,new Xe(i))}{if(!(t instanceof Qn||t instanceof Bc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(an.fromString(e,...n));return KB(i),new Qn(t.firestore,t instanceof Bc?t.converter:null,new Xe(i))}}function t3(t,e){return t=(0,mn.m9)(t),e=(0,mn.m9)(e),(t instanceof Qn||t instanceof Bc)&&(e instanceof Qn||e instanceof Bc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function JO(t,e){return t=(0,mn.m9)(t),e=(0,mn.m9)(e),t instanceof Qr&&e instanceof Qr&&t.firestore===e.firestore&&I0(t._query,e._query)&&t.converter===e.converter}class q${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qR(this,"async_queue_retry"),this.Xc=()=>{const n=LD();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=LD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=LD();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ef(n))throw n;Ue("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=uO.createAndSchedule(this,e,n,i,a=>this.na(a));return this.zc.push(r),r}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,xe.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function eN(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(t)}class W${constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends Z0{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new q$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||n3(this),this._firestoreClient.terminate()}}function $i(t){return t._firestoreClient||n3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function n3(t){var e,n,i;const r=t._freezeSettings(),a=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new I6(t._databaseId,m,t._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,qB(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;t._firestoreClient=new F$(t._authCredentials,t._appCheckCredentials,t._queue,a),null!==(n=r.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function r3(t,e,n){const i=new ur;return t.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield jD(t,n),yield GO(t,e),i.resolve()}catch(r){const a=r;if(!BB(a))throw a;Fa("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function s3(t){if(t._initialized||t._terminated)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(hr.fromBase64String(e))}catch(n){throw new ke(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jc(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ke(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mp{constructor(e){this._methodName=e}}class qD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const r5=/^__.*__$/;class s5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return null!==this.fieldMask?new hu(e,this.data,this.fieldMask,n,this.fieldTransforms):new G_(e,this.data,n,this.fieldTransforms)}}class o3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new hu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class WD{constructor(e,n,i,r,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new WD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return YD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(a3(this.ca)&&r5.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class o5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$0(e)}ya(e,n,i,r=!1){return new WD({ca:e,methodName:n,ga:i,path:Si.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(t){const e=t._freezeSettings(),n=$0(t._databaseId);return new o5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZD(t,e,n,i,r,a={}){const c=t.ya(a.merge||a.mergeFields?2:0,e,n,r);rN("Data must be an object, but it was:",c,i);const m=d3(i,c);let _,b;if(a.merge)_=new eo(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const M of a.mergeFields){const L=Q0(e,M,n);if(!c.contains(L))throw new ke(ue.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);h3(D,L)||D.push(L)}_=new eo(D),b=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=c.fieldTransforms;return new s5(new Yr(m),_,b)}class Y0 extends Mp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y0}}function l3(t,e,n){return new WD({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tN extends Mp{_toFieldTransform(e){return new S0(e.path,new z_)}isEqual(e){return e instanceof tN}}class a5 extends Mp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=l3(this,e,!0),i=this.pa.map(a=>Rp(a,n)),r=new wp(i);return new S0(e.path,r)}isEqual(e){return this===e}}class l5 extends Mp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=l3(this,e,!0),i=this.pa.map(a=>Rp(a,n)),r=new Ep(i);return new S0(e.path,r)}isEqual(e){return this===e}}class c5 extends Mp{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new $_(e.serializer,eU(e.serializer,this.Ia));return new S0(e.path,n)}isEqual(e){return this===e}}function nN(t,e,n,i){const r=t.ya(1,e,n);rN("Data must be an object, but it was:",r,i);const a=[],c=Yr.empty();tf(i,(_,b)=>{const D=KD(e,_,n);b=(0,mn.m9)(b);const M=r.da(D);if(b instanceof Y0)a.push(D);else{const L=Rp(b,M);null!=L&&(a.push(D),c.set(D,L))}});const m=new eo(a);return new o3(c,m,r.fieldTransforms)}function iN(t,e,n,i,r,a){const c=t.ya(1,e,n),m=[Q0(e,i,n)],_=[r];if(a.length%2!=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)m.push(Q0(e,a[L])),_.push(a[L+1]);const b=[],D=Yr.empty();for(let L=m.length-1;L>=0;--L)if(!h3(b,m[L])){const U=m[L];let W=_[L];W=(0,mn.m9)(W);const re=c.da(U);if(W instanceof Y0)b.push(U);else{const ge=Rp(W,re);null!=ge&&(b.push(U),D.set(U,ge))}}const M=new eo(b);return new o3(D,M,c.fieldTransforms)}function c3(t,e,n,i=!1){return Rp(n,t.ya(i?4:3,e))}function Rp(t,e){if(u3(t=(0,mn.m9)(t)))return rN("Unsupported field value:",e,t),d3(t,e);if(t instanceof Mp)return function(n,i){if(!a3(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let a=0;for(const c of n){let m=Rp(c,i.wa(a));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),a++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if(null===(n=(0,mn.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return eU(i.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const r=di.fromDate(n);return{timestampValue:W_(i.serializer,r)}}if(n instanceof di){const r=new di(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:W_(i.serializer,r)}}if(n instanceof qD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jc)return{bytesValue:wU(i.serializer,n._byteString)};if(n instanceof Qn){const r=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:bR(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${$D(n)}`)}(t,e)}function d3(t,e){const n={};return xV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tf(t,(i,r)=>{const a=Rp(r,e.ha(i));null!=a&&(n[i]=a)}),{mapValue:{fields:n}}}function u3(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof di||t instanceof qD||t instanceof jc||t instanceof Qn||t instanceof Mp)}function rN(t,e,n){if(!u3(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$D(n);throw e._a("an object"===i?t+" a custom object":t+" "+i)}var i}function Q0(t,e,n){if((e=(0,mn.m9)(e))instanceof pu)return e._internalPath;if("string"==typeof e)return KD(t,e);throw YD("Field path arguments must be of type string or ",t,!1,void 0,n)}const d5=new RegExp("[~\\*/\\[\\]]");function KD(t,e,n){if(e.search(d5)>=0)throw YD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw YD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function YD(t,e,n,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new ke(ue.INVALID_ARGUMENT,m+t+_)}function h3(t,e){return t.some(n=>n.isEqual(e))}class X0{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class u5 extends X0{data(){return super.data()}}function QD(t,e){return"string"==typeof e?KD(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function f3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ke(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sN{}class J0 extends sN{}function gf(t,e,...n){let i=[];e instanceof sN&&i.push(e),i=i.concat(n),function(r){const a=r.filter(m=>m instanceof lv).length,c=r.filter(m=>m instanceof ew).length;if(a>1||a>0&&c>0)throw new ke(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class ew extends J0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ew(e,n,i)}_apply(e){const n=this._parse(e);return _3(e._query,n),new Qr(e.firestore,e.converter,dR(e._query,n))}_parse(e){const n=kp(e.firestore);return function(r,a,c,m,_,b,D){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){g3(D,b);const L=[];for(const U of D)L.push(p3(m,r,U));M={arrayValue:{values:L}}}else M=p3(m,r,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||g3(D,b),M=c3(c,"where",D,"in"===b||"not-in"===b);return nn.create(_,b,M)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class lv extends sN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===n.length?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const m of c)_3(a,m),a=dR(a,m)}(e._query,n),new Qr(e.firestore,e.converter,dR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oN extends J0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new oN(e,n)}_apply(e){const n=function(i,r,a){if(null!==i.startAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new B_(r,a);return function(m,_){if(null===lR(m)){const b=pD(m);null!==b&&v3(0,b,_.field)}}(i,c),c}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new du(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class XD extends J0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new XD(e,n,i)}_apply(e){return new Qr(e.firestore,e.converter,gD(e._query,this._limit,this._limitType))}}class JD extends J0{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new JD(e,n,i)}_apply(e){const n=m3(e,this.type,this._docOrFields,this._inclusive);return new Qr(e.firestore,e.converter,(r=n,new du((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class eT extends J0{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new eT(e,n,i)}_apply(e){const n=m3(e,this.type,this._docOrFields,this._inclusive);return new Qr(e.firestore,e.converter,(r=n,new du((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function m3(t,e,n,i){if(n[0]=(0,mn.m9)(n[0]),n[0]instanceof X0)return function(r,a,c,m,_){if(!m)throw new ke(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const D of bp(r))if(D.field.isKeyField())b.push(vp(a,m.key));else{const M=m.data.field(D.field);if(lD(M))throw new ke(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=D.field.canonicalString();throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(M)}return new cf(b,_)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=kp(t.firestore);return function(a,c,m,_,b,D){const M=a.explicitOrderBy;if(b.length>M.length)throw new ke(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let U=0;U<b.length;U++){const W=b[U];if(M[U].field.isKeyField()){if("string"!=typeof W)throw new ke(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!cR(a)&&-1!==W.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const re=a.path.child(an.fromString(W));if(!Xe.isDocumentKey(re))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const ge=new Xe(re);L.push(vp(c,ge))}else{const re=c3(m,_,W);L.push(re)}}return new cf(L,D)}(t._query,t.firestore._databaseId,r,e,n,i)}}function p3(t,e,n){if("string"==typeof(n=(0,mn.m9)(n))){if(""===n)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cR(e)&&-1!==n.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(an.fromString(n));if(!Xe.isDocumentKey(i))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vp(t,new Xe(i))}if(n instanceof Qn)return vp(t,n._key);throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$D(n)}.`)}function g3(t,e){if(!Array.isArray(t)||0===t.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _3(t,e){if(e.isInequality()){const i=pD(t),r=e.field;if(null!==i&&!i.isEqual(r))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=lR(t);null!==a&&v3(0,r,a)}const n=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ke(ue.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function v3(t,e,n){if(!n.isEqual(e))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class aN{convertValue(e,n="none"){switch(af(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return tf(e,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertGeoPoint(e){return new qD(Ai(e.latitude),Ai(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cD(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(y0(e));default:return null}}convertTimestamp(e){const n=nf(e);return new di(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=an.fromString(e);yt(kU(i));const r=new rf(i.get(1),i.get(3)),a=new Xe(i.popFirst(5));return r.isEqual(n)||Hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function tT(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class b5 extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}class Op{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends X0{constructor(e,n,i,r,a,c){super(e,n,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(QD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class tw extends gu{data(e={}){return super.data(e)}}class _f{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Op(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new tw(this._firestore,this._userDataWriter,i.key,i,new Op(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new tw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Op(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const m=new tw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Op(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:E5(c.type),doc:m,oldIndex:_,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function b3(t,e){return t instanceof gu&&e instanceof gu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _f&&e instanceof _f&&t._firestore===e._firestore&&JO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class vf extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function w3(t,e,n){t=rn(t,Qn);const i=rn(t.firestore,Xn),r=tT(t.converter,e,n);return cv(i,[ZD(kp(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,ui.none())])}function E3(t,e,n,...i){t=rn(t,Qn);const r=rn(t.firestore,Xn),a=kp(r);let c;return c="string"==typeof(e=(0,mn.m9)(e))||e instanceof pu?iN(a,"updateDoc",t._key,e,n,i):nN(a,"updateDoc",t._key,e),cv(r,[c.toMutation(t._key,ui.exists(!0))])}function x3(t,...e){var n,i,r;t=(0,mn.m9)(t);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||eN(e[c])||(a=e[c],c++);const m={includeMetadataChanges:a.includeMetadataChanges};if(eN(e[c])){const M=e[c];e[c]=null===(n=M.next)||void 0===n?void 0:n.bind(M),e[c+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[c+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,D;if(t instanceof Qn)b=rn(t.firestore,Xn),D=H_(t._key.path),_={next:M=>{e[c]&&e[c](lN(b,t,M))},error:e[c+1],complete:e[c+2]};else{const M=rn(t,Qr);b=rn(M.firestore,Xn),D=M._query;const L=new vf(b);_={next:U=>{e[c]&&e[c](new _f(b,L,M,U))},error:e[c+1],complete:e[c+2]},f3(t._query)}return function(M,L,U,W){const re=new BD(W),ge=new _O(L,re,U);return M.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return hO(yield av(M),ge)})),()=>{re.Dc(),M.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return mO(yield av(M),ge)}))}}($i(b),D,m,_)}function cv(t,e){return function(n,i){const r=new ur;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function g$(t,e,n){return EO.apply(this,arguments)}(yield YO(n),i,r)})),r.promise}($i(t),e)}function lN(t,e,n){const i=n.docs.get(e._key),r=new vf(t);return new gu(t,r,e._key,i,new Op(n.hasPendingWrites,n.fromCache),e.converter)}const B5={maxAttempts:5};class I3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=kp(e)}set(e,n,i){this._verifyNotCommitted();const r=yf(e,this._firestore),a=tT(r.converter,n,i),c=ZD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ui.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const a=yf(e,this._firestore);let c;return c="string"==typeof(n=(0,mn.m9)(n))||n instanceof pu?iN(this._dataReader,"WriteBatch.update",a._key,n,i,r):nN(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yf(e,this._firestore);return this._mutations=this._mutations.concat(new q_(n._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(t,e){if((t=(0,mn.m9)(t)).firestore!==e)throw new ke(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class j5 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=kp(e)}get(e){const n=yf(e,this._firestore),i=new b5(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||1!==r.length)return dt();const a=r[0];if(a.isFoundDocument())return new X0(this._firestore,i,a.key,a,n.converter);if(a.isNoDocument())return new X0(this._firestore,i,n._key,null,n.converter);throw dt()})}set(e,n,i){const r=yf(e,this._firestore),a=tT(r.converter,n,i),c=ZD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,n,i,...r){const a=yf(e,this._firestore);let c;return c="string"==typeof(n=(0,mn.m9)(n))||n instanceof pu?iN(this._dataReader,"Transaction.update",a._key,n,i,r):nN(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,c),this}delete(e){const n=yf(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=yf(e,this._firestore),i=new vf(this._firestore);return super.get(e).then(r=>new gu(this._firestore,i,n._key,r._document,new Op(!1,!1),n.converter))}}function cN(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function D3(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function T3(){if(!function E6(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){F_=up.SDK_VERSION,(0,up._registerComponent)(new EC.wA("firestore",(n,{instanceIdentifier:i,options:r})=>{const a=n.getProvider("app").getImmediate(),c=new Xn(new qH(n.getProvider("auth-internal")),new KH(n.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ke(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(m.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,up.registerVersion)(sV,"3.13.0",t),(0,up.registerVersion)(sV,"3.13.0","esm2017")}();class nw{constructor(e){this._delegate=e}static fromBase64String(e){return T3(),new nw(jc.fromBase64String(e))}static fromUint8Array(e){return D3(),new nw(jc.fromUint8Array(e))}toBase64(){return T3(),this._delegate.toBase64()}toUint8Array(){return D3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dN(t){return function Y5(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}(t,["next","error","complete"])}class Q5{enableIndexedDbPersistence(e,n){return function K$(t,e){s3(t=rn(t,Xn));const n=$i(t);if(n._uninitializedComponentsProvider)throw new ke(ue.FAILED_PRECONDITION,"SDK cache is already specified.");Fa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new ov;return r3(n,r,new zO(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Y$(t){s3(t=rn(t,Xn));const e=$i(t);if(e._uninitializedComponentsProvider)throw new ke(ue.FAILED_PRECONDITION,"SDK cache is already specified.");Fa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new ov;return r3(e,i,new VB(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Q$(t){if(t._initialized&&!t._terminated)throw new ke(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return t._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(n=(0,xe.Z)(function*(i){if(!Tl.D())return Promise.resolve();const r=i+"main";yield Tl.delete(r)}),function(i){return n.apply(this,arguments)})(PR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class S3{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof rf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,i={}){!function JB(t,e,n,i={}){var r;const a=(t=rn(t,Z0))._getSettings(),c=`${e}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let m,_;if("string"==typeof i.mockUserToken)m=i.mockUserToken,_=Ar.MOCK_USER;else{m=(0,mn.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ke(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ar(b)}t._authCredentials=new GH(new oV(m,_))}}(this._delegate,e,n,i)}enableNetwork(){return function J$(t){return function L$(t){return t.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield jB(t),n=yield HB(t);return e.setNetworkEnabled(!0),function(i){const r=et(i);return r.vu.delete(0),G0(r)}(n)}))}($i(t=rn(t,Xn)))}(this._delegate)}disableNetwork(){return function e5(t){return function V$(t){return t.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield jB(t),n=yield HB(t);return e.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const a=et(r);a.vu.add(0),yield J_(a),a.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(n);var i}))}($i(t=rn(t,Xn)))}(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ZB("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function X$(t){return function(e){const n=new ur;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function b$(t,e){return TO.apply(this,arguments)}(yield YO(e),n)})),n.promise}($i(t=rn(t,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function k5(t,e){return function j$(t,e){const n=new BD(e);return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield av(t),r=n,et(i).ku.add(r),void r.next();var i,r})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield av(t),r=n,void et(i).ku.delete(r);var i,r}))}}($i(t=rn(t,Xn)),eN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dv(this,e3(this._delegate,e))}catch(n){throw Os(n,"collection()","Firestore.collection()")}}doc(e){try{return new La(this,GD(this._delegate,e))}catch(n){throw Os(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function G$(t,e){if(t=rn(t,Z0),XO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qr(t,null,(n=e,new du(an.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Os(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function H5(t,e,n){t=rn(t,Xn);const i=Object.assign(Object.assign({},B5),n);return function(r){if(r.maxAttempts<1)throw new ke(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const m=new ur;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const _=yield function zB(t){return HD(t).then(e=>e.datastore)}(r);new P$(r.asyncQueue,_,c,a,m).run()})),m.promise}($i(t),r=>e(new j5(t,r)),i)}(this._delegate,n=>e(new A3(this,n)))}batch(){return $i(this._delegate),new M3(new I3(this._delegate,e=>cv(this._delegate,e)))}loadBundle(e){return function t5(t,e){const n=$i(t=rn(t,Xn)),i=new W$;return function H$(t,e,n,i){const r=function(a,c){let m;return m="string"==typeof a?fU().encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return UB(_,b);if(_ instanceof ArrayBuffer)return UB(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new O$(_,c);var _}(n,$0(e));t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function k$(t,e,n){const i=et(t);var r;(r=(0,xe.Z)(function*(a,c,m){try{const _=yield c.getMetadata();if(yield function(L,U){const W=et(L),re=zi(U.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",ge=>W.qs.getBundleMetadata(ge,U.id)).then(ge=>!!ge&&ge.createTime.compareTo(re)>=0)}(a.localStore,_))return yield c.close(),m._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);m._updateProgress(AB(_));const b=new d$(_,a.localStore,c.serializer);let D=yield c.bc();for(;D;){const L=yield b.zu(D);L&&m._updateProgress(L),D=yield c.bc()}const M=yield b.complete();return yield mu(a,M.Ju,void 0),yield function(L,U){const W=et(L);return W.persistence.runTransaction("Save bundle","readwrite",re=>W.qs.saveBundleMetadata(re,U))}(a.localStore,_),m._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Fa("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,m){return r.apply(this,arguments)})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield YO(t),r,i)}))}(n,t._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function n5(t,e){return function z$(t,e){return t.asyncQueue.enqueue((0,xe.Z)(function*(){return function(n,i){const r=et(n);return r.persistence.runTransaction("Get named query","readonly",a=>r.qs.getNamedQuery(a,i))}(yield zD(t),e)}))}($i(t=rn(t,Xn)),e).then(n=>n?new Qr(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Ns(this,n):null)}}class nT extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new nw(new jc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return La.forKey(n,this.firestore,null)}}class A3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new nT(e)}get(e){const n=Pp(e);return this._delegate.get(n).then(i=>new iw(this._firestore,new gu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const r=Pp(e);return i?(cN("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const a=Pp(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,i,...r),this}delete(e){const n=Pp(e);return this._delegate.delete(n),this}}class M3{constructor(e){this._delegate=e}set(e,n,i){const r=Pp(e);return i?(cN("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const a=Pp(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,i,...r),this}delete(e){const n=Pp(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Np{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rw(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=Np.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(n);return a||(a=new Np(e,new nT(e),n),r.set(n,a)),a}}Np.INSTANCES=new WeakMap;class La{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nT(e)}static forPath(e,n,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new La(n,new Qn(n._delegate,i,new Xe(e)))}static forKey(e,n,i){return new La(n,new Qn(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new dv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dv(this.firestore,e3(this._delegate,e))}catch(n){throw Os(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof Qn&&t3(this._delegate,e)}set(e,n){n=cN("DocumentReference.set",n);try{return n?w3(this._delegate,e,n):w3(this._delegate,e)}catch(i){throw Os(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return 1===arguments.length?E3(this._delegate,e):E3(this._delegate,e,n,...i)}catch(r){throw Os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function A5(t){return cv(rn(t.firestore,Xn),[new q_(t._key,ui.none())])}(this._delegate)}onSnapshot(...e){const n=k3(e),i=R3(e,r=>new iw(this.firestore,new gu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return x3(this._delegate,n,i)}get(e){let n;return n="cache"===e?.source?function I5(t){t=rn(t,Qn);const e=rn(t.firestore,Xn),n=$i(e),i=new vf(e);return function U$(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,a,c){try{const m=yield function(_,b){const D=et(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,b))}(r,a);m.isFoundDocument()?c.resolve(m):m.isNoDocument()?c.resolve(null):c.reject(new ke(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=nv(m,`Failed to get document '${a} from cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield zD(t),e,n);var i})),n.promise}(n,t._key).then(r=>new gu(e,i,t._key,r,new Op(null!==r&&r.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function C5(t){t=rn(t,Qn);const e=rn(t.firestore,Xn);return $B($i(e),t._key,{source:"server"}).then(n=>lN(e,t,n))}(this._delegate):function x5(t){t=rn(t,Qn);const e=rn(t.firestore,Xn);return $B($i(e),t._key).then(n=>lN(e,t,n))}(this._delegate),n.then(i=>new iw(this.firestore,new gu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new La(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}function Os(t,e,n){return t.message=t.message.replace(e,n),t}function k3(t){for(const e of t)if("object"==typeof e&&!dN(e))return e;return{}}function R3(t,e){var n,i;let r;return r=dN(t[0])?t[0]:dN(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class iw{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return b3(this._delegate,e._delegate)}}class rw extends iw{data(e){const n=this._delegate.data(e);return function zH(t,e){t||dt()}(void 0!==n),n}}class Ns{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nT(e)}where(e,n,i){try{return new Ns(this.firestore,gf(this._delegate,function h5(t,e,n){const i=e,r=QD("where",t);return ew._create(r,i,n)}(e,n,i)))}catch(r){throw Os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ns(this.firestore,gf(this._delegate,function f5(t,e="asc"){const n=e,i=QD("orderBy",t);return oN._create(i,n)}(e,n)))}catch(i){throw Os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,gf(this._delegate,function m5(t){return QB("limit",t),XD._create("limit",t,"F")}(e)))}catch(n){throw Os(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,gf(this._delegate,function p5(t){return QB("limitToLast",t),XD._create("limitToLast",t,"L")}(e)))}catch(n){throw Os(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,gf(this._delegate,function g5(...t){return JD._create("startAt",t,!0)}(...e)))}catch(n){throw Os(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,gf(this._delegate,function _5(...t){return JD._create("startAfter",t,!1)}(...e)))}catch(n){throw Os(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,gf(this._delegate,function v5(...t){return eT._create("endBefore",t,!1)}(...e)))}catch(n){throw Os(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,gf(this._delegate,function y5(...t){return eT._create("endAt",t,!0)}(...e)))}catch(n){throw Os(n,"endAt()","Query.endAt()")}}isEqual(e){return JO(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function T5(t){t=rn(t,Qr);const e=rn(t.firestore,Xn),n=$i(e),i=new vf(e);return function B$(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,a,c){try{const m=yield OD(r,a,!0),_=new RB(a,m.ir),b=_.sc(m.documents),D=_.applyChanges(b,!1);c.resolve(D.snapshot)}catch(m){const _=nv(m,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield zD(t),e,n);var i})),n.promise}(n,t._query).then(r=>new _f(e,i,t,r))}(this._delegate):"server"===e?.source?function S5(t){t=rn(t,Qr);const e=rn(t.firestore,Xn),n=$i(e),i=new vf(e);return GB(n,t._query,{source:"server"}).then(r=>new _f(e,i,t,r))}(this._delegate):function D5(t){t=rn(t,Qr);const e=rn(t.firestore,Xn),n=$i(e),i=new vf(e);return f3(t._query),GB(n,t._query).then(r=>new _f(e,i,t,r))}(this._delegate),n.then(i=>new uN(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=k3(e),i=R3(e,r=>new uN(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return x3(this._delegate,n,i)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}class J5{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uN{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new J5(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new rw(this._firestore,i))})}isEqual(e){return b3(this._delegate,e._delegate)}}class dv extends Ns{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new La(this.firestore,e):null}doc(e){try{return new La(this.firestore,void 0===e?GD(this._delegate):GD(this._delegate,e))}catch(n){throw Os(n,"doc()","CollectionReference.doc()")}}add(e){return function M5(t,e){const n=rn(t.firestore,Xn),i=GD(t),r=tT(t.converter,e);return cv(n,[ZD(kp(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,ui.exists(!1))]).then(()=>i)}(this._delegate,e).then(n=>new La(this.firestore,n))}isEqual(e){return t3(this._delegate,e._delegate)}withConverter(e){return new dv(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}function Pp(t){return rn(t,Qn)}class hN{constructor(...e){this._delegate=new pu(...e)}static documentId(){return new hN(Si.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $5(){return new tN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=function z5(){return new Y0("deleteField")}();return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const n=function G5(...t){return new a5("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Fp(n)}static arrayRemove(...e){const n=function q5(...t){return new l5("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Fp(n)}static increment(e){const n=function W5(t){return new c5("increment",t)}(e);return n._methodName="FieldValue.increment",new Fp(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eG={Firestore:S3,GeoPoint:qD,Timestamp:di,Blob:nw,Transaction:A3,WriteBatch:M3,DocumentReference:La,DocumentSnapshot:iw,Query:Ns,QueryDocumentSnapshot:rw,QuerySnapshot:uN,CollectionReference:dv,FieldPath:hN,FieldValue:Fp,setLogLevel:function X5(t){!function HH(t){Xh.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function O3(t,e){return function iG(t,e=Ld.z){return new qn.y(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}(t,e)}function fN(t,e){return O3(t,e).pipe((0,lt.U)(n=>({payload:n,type:"query"})))}function iT(t,e){return fN(t,e).pipe(vc(void 0),o1(),(0,lt.U)(([n,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,m)=>{const _=r.find(D=>D.doc.ref.isEqual(c.ref)),b=n?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:c}})}),a}))}function N3(t,e,n){return iT(t,n).pipe(ab((i,r)=>function sG(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=function oG(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return mN(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return mN(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mN(t,e.oldIndex,1)}return t}(t,i))}),t}(i,r.map(a=>a.payload),e),[]),(0,O4.x)(),(0,lt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function mN(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function P3(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function nG(t){(function tG(t,e){t.INTERNAL.registerComponent(new EC.wA("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},eG)))})(t,(e,n)=>new S3(e,n,new Q5)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(N4.Z);class F3{constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=iT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,lt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(vc(void 0),o1(),Bi(([i,r])=>r.length>0||!i),(0,lt.U)(([i,r])=>r),Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ab((n,i)=>[...n,...i],[]))}snapshotChanges(e){const n=P3(e);return N3(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return fN(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(n=>n.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Gr.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(Gr.iC)}add(e){return this.ref.add(e)}doc(e){return new L3(this.ref.doc(e),this.afs)}}class L3{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const i=this.ref.collection(e),{ref:r,query:a}=V3(i,n);return new F3(r,a,this.afs)}snapshotChanges(){return function rG(t,e){return O3(t,e).pipe(vc(void 0),o1(),(0,lt.U)(([n,i])=>i.exists?n?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Dn.D)(this.ref.get(e)).pipe(Gr.iC)}}class aG{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?iT(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(n=>n.filter(i=>e.indexOf(i.type)>-1)),Bi(n=>n.length>0),Gr.iC):iT(this.query,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ab((n,i)=>[...n,...i],[]))}snapshotChanges(e){const n=P3(e);return N3(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return fN(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Gr.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(Gr.iC)}}const lG=new u.OlP("angularfire2.enableFirestorePersistence"),cG=new u.OlP("angularfire2.firestore.persistenceSettings"),dG=new u.OlP("angularfire2.firestore.settings"),uG=new u.OlP("angularfire2.firestore.use-emulator");function V3(t,e=(n=>n)){return{query:e(t),ref:t}}let hG=(()=>{class t{constructor(n,i,r,a,c,m,_,b,D,M,L,U,W,re,ge,je,Je){this.schedulers=_;const nt=(0,wi.on)(n,m,i),ct=D;M&&jL(nt,m,L,W,re,ge,U,je),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const kt=m.runOutsideAngular(()=>nt.firestore());if(a&&kt.settings(a),ct&&kt.useEmulator(...ct),r&&!bs(c)){const Ut=()=>{try{return(0,Dn.D)(kt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(on){return typeof console<"u"&&console.warn(on),(0,vt.of)(!1)}};return[kt,m.runOutsideAngular(Ut)]}return[kt,(0,vt.of)(!1)]},[a,ct,r])}collection(n,i){let r;r="string"==typeof n?this.firestore.collection(n):n;const{ref:a,query:c}=V3(r,i),m=this.schedulers.ngZone.run(()=>a);return new F3(m,c,this)}collectionGroup(n,i){const r=i||(c=>c),a=this.firestore.collectionGroup(n);return new aG(r(a),this)}doc(n){let i;i="string"==typeof n?this.firestore.doc(n):n;const r=this.schedulers.ngZone.run(()=>i);return new L3(r,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(wi.Dh),u.LFG(wi.xv,8),u.LFG(lG,8),u.LFG(dG,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gr.HU),u.LFG(cG,8),u.LFG(uG,8),u.LFG(S_,8),u.LFG(PL,8),u.LFG(FL,8),u.LFG(LL,8),u.LFG(VL,8),u.LFG(UL,8),u.LFG(BL,8),u.LFG(r1,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),U3=(()=>{var t;class e{constructor(i,r){this.afd=i,this.afa=r,this.afa.authState.subscribe(a=>{a?.uid?(this.user_id=a?.uid,console.log(this.user_id),this.list(this.user_id)):this.user_id=""})}save(i){return""==i.id?i.user_create=this.user_id:i.user_edit=this.user_id,i.id=""==i.id?this.afd.createId():i.id,this.afd.collection("Produtos").doc(i.id).set(i,{merge:!0})}update(i){return this.afd.collection("Produtos").doc(i.id).set(i,{merge:!0})}list(i){this.lista=this.afd.collection("Produtos",r=>r.where("user_create","==",i)).valueChanges()}delete(i){return this.afd.collection("Produtos").doc(i).delete()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(hG),u.LFG(S_))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fG(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"mat-list-item")(1,"a",11),u._UZ(2,"br"),u.TgZ(3,"b"),u._uU(4),u.qZA(),u._uU(5),u.qZA(),u.TgZ(6,"button",12),u.NdJ("click",function(){const a=u.CHM(n).$implicit,c=u.oxw();return u.KtG(c.edit(a))}),u.TgZ(7,"mat-icon"),u._uU(8,"edit"),u.qZA()(),u.TgZ(9,"button",12),u.NdJ("click",function(){const a=u.CHM(n).$implicit,c=u.oxw();return u.KtG(c.deleteProduct(a.id))}),u.TgZ(10,"mat-icon"),u._uU(11,"delete"),u.qZA()()()}if(2&t){const n=e.$implicit;u.xp6(4),u.hij("",n.nome," ==>"),u.xp6(1),u.AsE(" Quantidade: ",n.qtde," - Valor: R$ ",n.preco,"")}}const B3="body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#f0f0f0;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a}.form[_ngcontent-%COMP%]{margin-bottom:20px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:10px;color:#333}.form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;margin-bottom:15px;transition:border-color .3s}.form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.list[_ngcontent-%COMP%]{margin-top:20px}.list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:15px;color:#333}.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;border:1px solid #ccc;border-radius:8px;margin-bottom:15px;transition:background-color .2s;background-color:#fff;box-shadow:0 2px 4px #0000001a}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:15px}.list-item-info[_ngcontent-%COMP%]{flex:1}.list-item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.list-item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#555}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.action-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;border-radius:4px;padding:8px 15px;margin-left:15px;cursor:pointer;transition:background-color .3s;font-size:16px}.action-button.delete-button[_ngcontent-%COMP%]{background-color:#dc3545}.action-button[_ngcontent-%COMP%]:hover{background-color:#218838}.mat-list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid #ccc;border-radius:8px;margin-bottom:15px;background-color:#fff;box-shadow:0 2px 4px #0000001a;transition:background-color .2s}.mat-list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.mat-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;text-decoration:none;color:#333;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-list-icon[_ngcontent-%COMP%]{margin-right:10px;color:#555;font-size:24px;transition:color .2s}.mat-list-item[_ngcontent-%COMP%]:hover   .mat-list-icon[_ngcontent-%COMP%]{color:#007bff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}";let mG=(()=>{var t;class e{constructor(i,r){this.formBuilder=i,this.crud=r,this.formProduct=i.group({id:[""],nome:["",hn.compose([hn.required,hn.minLength(3)])],preco:["",hn.compose([hn.required])],qtde:[hn.compose([hn.required,hn.minLength(0)])]})}ngOnInit(){}saveProduto(){this.formProduct.valid?this.crud.save(this.formProduct.value).then(i=>{this.formProduct.reset()}).catch(i=>{console.log(i)}):console.log("Todos os campos sao obrigat\xf3rios")}edit(i){this.formProduct.patchValue({id:i.id,nome:i.nome,preco:i.preco,qtde:i.qtde})}deleteProduct(i){this.crud.delete(i).then(r=>{console.log("Produto excluido com Sucesso")}).catch(r=>{console.log(r)})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(mh),u.Y36(U3))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-cadastro"]],decls:27,vars:4,consts:[["href","https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap","rel","stylesheet"],[1,"container"],[1,"form"],[3,"formGroup","ngSubmit"],[1,"example-form-field"],["formControlName","nome","matInput","","type","text"],["formControlName","qtde","matInput","","type","number"],["formControlName","preco","matInput","","type","text"],["mat-flat-button","","color","primary","type","submit"],[1,"list"],[4,"ngFor","ngForOf"],["matLine",""],["mat-icon-button","",3,"click"]],template:function(i,r){1&i&&(u.TgZ(0,"html")(1,"head"),u._UZ(2,"link",0),u.qZA(),u.TgZ(3,"body")(4,"div",1)(5,"h1"),u._uU(6,"Cadastro de Produtos"),u.qZA(),u.TgZ(7,"div",2)(8,"form",3),u.NdJ("ngSubmit",function(){return r.saveProduto()}),u.TgZ(9,"mat-form-field",4)(10,"mat-label"),u._uU(11,"Nome do Produto"),u.qZA(),u._UZ(12,"input",5),u.qZA(),u.TgZ(13,"mat-form-field",4)(14,"mat-label"),u._uU(15,"Quantidade"),u.qZA(),u._UZ(16,"input",6),u.qZA(),u.TgZ(17,"mat-form-field",4)(18,"mat-label"),u._uU(19,"Pre\xe7o"),u.qZA(),u._UZ(20,"input",7),u.qZA(),u.TgZ(21,"button",8),u._uU(22,"Salvar"),u.qZA()(),u.TgZ(23,"div",9)(24,"mat-nav-list"),u.YNc(25,fG,12,3,"mat-list-item",10),u.ALo(26,"async"),u.qZA()()()()()()),2&i&&(u.xp6(8),u.Q6J("formGroup",r.formProduct),u.xp6(17),u.Q6J("ngForOf",u.lcZ(26,2,r.crud.lista)))},dependencies:[Zo,RE,wy,zg,Rm,sh,Ds,ba,Yu,cc,pc,Sd,Mx,os,Yo],styles:[B3,B3]}),e})();const pN=(0,lt.U)(t=>!!t);let j3=(()=>{class t{constructor(n,i){this.router=n,this.auth=i,this.canActivate=(r,a)=>{const c=r.data.authGuardPipe||(()=>pN);return this.auth.user.pipe(_c(1),c(r,a),(0,lt.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Tt),u.LFG(S_))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const gG=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Fj},{path:"login",component:R4},{path:"cadastro",component:mG,canActivate:[j3]}];let _G=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[dL.forRoot(gG),dL]}),e})();const vG=function(){return["/home"]},yG=function(){return["/cadastro"]},bG=function(){return["/login"]},H3="body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#f0f0f0;margin:0;padding:0}.mat-toolbar[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:0 20px}.mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}.example-icon[_ngcontent-%COMP%]{color:#f50303;transition:color .2s}.example-icon[_ngcontent-%COMP%]:hover{color:#bd4040}";let wG=(()=>{var t;class e{constructor(i,r){this.auth=i,this.router=r,this.title="Supermarket"}logout(){this.auth.logout().then(()=>{this.router.navigate(["login"])})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(HL),u.Y36(Tt))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:20,vars:7,consts:[["href","https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap","rel","stylesheet"],[2,"margin-right","60%"],[1,"example-spacer"],["routerLinkActive","router-link-active","mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon",3,"routerLink"],["routerLinkActive","router-link-active","mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"routerLink"],["mat-icon-button","",1,"example-icon",3,"click"]],template:function(i,r){1&i&&(u.TgZ(0,"html")(1,"head"),u._UZ(2,"link",0),u.qZA(),u.TgZ(3,"body")(4,"mat-toolbar")(5,"span",1),u._uU(6),u.qZA(),u._UZ(7,"span",2),u.TgZ(8,"button",3)(9,"mat-icon"),u._uU(10,"home"),u.qZA()(),u.TgZ(11,"button",4)(12,"mat-icon"),u._uU(13,"inventory_2"),u.qZA()(),u.TgZ(14,"button",4)(15,"mat-icon"),u._uU(16,"lock"),u.qZA()(),u.TgZ(17,"button",5),u.NdJ("click",function(){return r.logout()}),u._uU(18,"Sair "),u.qZA()(),u._UZ(19,"router-outlet"),u.qZA()()),2&i&&(u.xp6(6),u.Oqu(r.title),u.xp6(2),u.Q6J("routerLink",u.DdM(4,vG)),u.xp6(3),u.Q6J("routerLink",u.DdM(5,yG)),u.xp6(3),u.Q6J("routerLink",u.DdM(6,bG)))},dependencies:[Wh,Js,su,RE,PA],styles:[H3,H3]}),e})(),EG=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[wG]}),t.\u0275inj=u.cJS({providers:[U3],imports:[Ql,_G,ib,$S,Gg,fx,em,tm,wi.hO.initializeApp(FM_firebase),kA,k4]}),e})();Mn().bootstrapModule(EG).catch(t=>console.error(t))},5619:(ut,Ce,O)=>{O.d(Ce,{X:()=>X});var u=O(8645);class X extends u.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ie=super._subscribe(J);return!ie.closed&&J.next(this._value),ie}getValue(){const{hasError:J,thrownError:ie,_value:ae}=this;if(J)throw ie;return this._throwIfClosed(),ae}next(J){super.next(this._value=J)}}},5592:(ut,Ce,O)=>{O.d(Ce,{y:()=>Ne});var u=O(305),X=O(7394),N=O(4850),J=O(8407),ie=O(2653),ae=O(4674),_e=O(1441);let Ne=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ze=new Y;return Ze.source=this,Ze.operator=Se,Ze}subscribe(Se,Ze,Re){const Ge=function $(Y){return Y&&Y instanceof u.Lv||function V(Y){return Y&&(0,ae.m)(Y.next)&&(0,ae.m)(Y.error)&&(0,ae.m)(Y.complete)}(Y)&&(0,X.Nn)(Y)}(Se)?Se:new u.Hp(Se,Ze,Re);return(0,_e.x)(()=>{const{operator:Fe,source:pt}=this;Ge.add(Fe?Fe.call(Ge,pt):pt?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ze){Se.error(Ze)}}forEach(Se,Ze){return new(Ze=fe(Ze))((Re,Ge)=>{const Fe=new u.Hp({next:pt=>{try{Se(pt)}catch(ht){Ge(ht),Fe.unsubscribe()}},error:Ge,complete:Re});this.subscribe(Fe)})}_subscribe(Se){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Se)}[N.L](){return this}pipe(...Se){return(0,J.U)(Se)(this)}toPromise(Se){return new(Se=fe(Se))((Ze,Re)=>{let Ge;this.subscribe(Fe=>Ge=Fe,Fe=>Re(Fe),()=>Ze(Ge))})}}return Y.create=Ve=>new Y(Ve),Y})();function fe(Y){var Ve;return null!==(Ve=Y??ie.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(ut,Ce,O)=>{O.d(Ce,{x:()=>_e});var u=O(5592),X=O(7394);const J=(0,O(2306).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=O(9039),ae=O(1441);let _e=(()=>{class fe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new Ne(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new J}next($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ve,observers:Se}=this;return Y||Ve?X.Lc:(this.currentObservers=null,Se.push($),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ve,isStopped:Se}=this;Y?$.error(Ve):Se&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return fe.create=(V,$)=>new Ne(V,$),fe})();class Ne extends _e{constructor(V,$){super(),this.destination=V,this.source=$}next(V){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,V)}error(V){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,V)}complete(){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===$||$.call(V)}_subscribe(V){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(V))&&void 0!==Y?Y:X.Lc}}},305:(ut,Ce,O)=>{O.d(Ce,{Hp:()=>Re,Lv:()=>Y});var u=O(4674),X=O(7394),N=O(2653),J=O(3894),ie=O(2420);const ae=fe("C",void 0,void 0);function fe(ne,ye,ee){return{kind:ne,value:ye,error:ee}}var V=O(7599),$=O(1441);class Y extends X.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,X.Nn)(ye)&&ye.add(this)):this.destination=ht}static create(ye,ee,De){return new Re(ye,ee,De)}next(ye){this.isStopped?pt(function Ne(ne){return fe("N",ne,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?pt(function _e(ne){return fe("E",void 0,ne)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?pt(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(ne,ye){return Ve.call(ne,ye)}class Ze{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:ee}=this;if(ee.next)try{ee.next(ye)}catch(De){Ge(De)}}error(ye){const{partialObserver:ee}=this;if(ee.error)try{ee.error(ye)}catch(De){Ge(De)}else Ge(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(ee){Ge(ee)}}}class Re extends Y{constructor(ye,ee,De){let Pe;if(super(),(0,u.m)(ye)||!ye)Pe={next:ye??void 0,error:ee??void 0,complete:De??void 0};else{let qe;this&&N.config.useDeprecatedNextContext?(qe=Object.create(ye),qe.unsubscribe=()=>this.unsubscribe(),Pe={next:ye.next&&Se(ye.next,qe),error:ye.error&&Se(ye.error,qe),complete:ye.complete&&Se(ye.complete,qe)}):Pe=ye}this.destination=new Ze(Pe)}}function Ge(ne){N.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(ne):(0,J.h)(ne)}function pt(ne,ye){const{onStoppedNotification:ee}=N.config;ee&&V.z.setTimeout(()=>ee(ne,ye))}const ht={closed:!0,next:ie.Z,error:function Fe(ne){throw ne},complete:ie.Z}},7394:(ut,Ce,O)=>{O.d(Ce,{Lc:()=>ae,w0:()=>ie,Nn:()=>_e});var u=O(4674);const N=(0,O(2306).d)(fe=>function($){fe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ve)=>`${Ve+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var J=O(9039);class ie{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Se){V=Se instanceof N?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{Ne(Se)}catch(Ze){V=V??[],Ze instanceof N?V=[...V,...Ze.errors]:V.push(Ze)}}if(V)throw new N(V)}}add(V){var $;if(V&&V!==this)if(this.closed)Ne(V);else{if(V instanceof ie){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(V)}}_hasParent(V){const{_parentage:$}=this;return $===V||Array.isArray($)&&$.includes(V)}_addParent(V){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(V),$):$?[$,V]:V}_removeParent(V){const{_parentage:$}=this;$===V?this._parentage=null:Array.isArray($)&&(0,J.P)($,V)}remove(V){const{_finalizers:$}=this;$&&(0,J.P)($,V),V instanceof ie&&V._removeParent(this)}}ie.EMPTY=(()=>{const fe=new ie;return fe.closed=!0,fe})();const ae=ie.EMPTY;function _e(fe){return fe instanceof ie||fe&&"closed"in fe&&(0,u.m)(fe.remove)&&(0,u.m)(fe.add)&&(0,u.m)(fe.unsubscribe)}function Ne(fe){(0,u.m)(fe)?fe():fe.unsubscribe()}},2653:(ut,Ce,O)=>{O.d(Ce,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ut,Ce,O)=>{O.d(Ce,{E:()=>X});const X=new(O(5592).y)(ie=>ie.complete())},2459:(ut,Ce,O)=>{O.d(Ce,{D:()=>ye});var u=O(4829),X=O(3093),N=O(5137),ae=O(5592),Ne=O(4971),fe=O(4674),V=O(7103);function Y(ee,De){if(!ee)throw new Error("Iterable cannot be null");return new ae.y(Pe=>{(0,V.f)(Pe,De,()=>{const qe=ee[Symbol.asyncIterator]();(0,V.f)(Pe,De,()=>{qe.next().then(le=>{le.done?Pe.complete():Pe.next(le.value)})},0,!0)})})}var Ve=O(8382),Se=O(4026),Ze=O(4266),Re=O(3664),Ge=O(5726),Fe=O(9853),pt=O(541);function ye(ee,De){return De?function ne(ee,De){if(null!=ee){if((0,Ve.c)(ee))return function J(ee,De){return(0,u.Xf)(ee).pipe((0,N.R)(De),(0,X.Q)(De))}(ee,De);if((0,Ze.z)(ee))return function _e(ee,De){return new ae.y(Pe=>{let qe=0;return De.schedule(function(){qe===ee.length?Pe.complete():(Pe.next(ee[qe++]),Pe.closed||this.schedule())})})}(ee,De);if((0,Se.t)(ee))return function ie(ee,De){return(0,u.Xf)(ee).pipe((0,N.R)(De),(0,X.Q)(De))}(ee,De);if((0,Ge.D)(ee))return Y(ee,De);if((0,Re.T)(ee))return function $(ee,De){return new ae.y(Pe=>{let qe;return(0,V.f)(Pe,De,()=>{qe=ee[Ne.h](),(0,V.f)(Pe,De,()=>{let le,bt;try{({value:le,done:bt}=qe.next())}catch(Ht){return void Pe.error(Ht)}bt?Pe.complete():Pe.next(le)},0,!0)}),()=>(0,fe.m)(qe?.return)&&qe.return()})}(ee,De);if((0,pt.L)(ee))return function ht(ee,De){return Y((0,pt.Q)(ee),De)}(ee,De)}throw(0,Fe.z)(ee)}(ee,De):(0,u.Xf)(ee)}},4829:(ut,Ce,O)=>{O.d(Ce,{Xf:()=>Ve});var u=O(7582),X=O(4266),N=O(4026),J=O(5592),ie=O(8382),ae=O(5726),_e=O(9853),Ne=O(3664),fe=O(541),V=O(4674),$=O(3894),Y=O(4850);function Ve(ne){if(ne instanceof J.y)return ne;if(null!=ne){if((0,ie.c)(ne))return function Se(ne){return new J.y(ye=>{const ee=ne[Y.L]();if((0,V.m)(ee.subscribe))return ee.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,X.z)(ne))return function Ze(ne){return new J.y(ye=>{for(let ee=0;ee<ne.length&&!ye.closed;ee++)ye.next(ne[ee]);ye.complete()})}(ne);if((0,N.t)(ne))return function Re(ne){return new J.y(ye=>{ne.then(ee=>{ye.closed||(ye.next(ee),ye.complete())},ee=>ye.error(ee)).then(null,$.h)})}(ne);if((0,ae.D)(ne))return Fe(ne);if((0,Ne.T)(ne))return function Ge(ne){return new J.y(ye=>{for(const ee of ne)if(ye.next(ee),ye.closed)return;ye.complete()})}(ne);if((0,fe.L)(ne))return function pt(ne){return Fe((0,fe.Q)(ne))}(ne)}throw(0,_e.z)(ne)}function Fe(ne){return new J.y(ye=>{(function ht(ne,ye){var ee,De,Pe,qe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ee=(0,u.KL)(ne);!(De=yield ee.next()).done;)if(ye.next(De.value),ye.closed)return}catch(le){Pe={error:le}}finally{try{De&&!De.done&&(qe=ee.return)&&(yield qe.call(ee))}finally{if(Pe)throw Pe.error}}ye.complete()})})(ne,ye).catch(ee=>ye.error(ee))})}},3019:(ut,Ce,O)=>{O.d(Ce,{T:()=>ae});var u=O(7537),X=O(4829),N=O(6232),J=O(4564),ie=O(2459);function ae(..._e){const Ne=(0,J.yG)(_e),fe=(0,J._6)(_e,1/0),V=_e;return V.length?1===V.length?(0,X.Xf)(V[0]):(0,u.J)(fe)((0,ie.D)(V,Ne)):N.E}},2096:(ut,Ce,O)=>{O.d(Ce,{of:()=>N});var u=O(4564),X=O(2459);function N(...J){const ie=(0,u.yG)(J);return(0,X.D)(J,ie)}},8251:(ut,Ce,O)=>{O.d(Ce,{x:()=>X});var u=O(305);function X(J,ie,ae,_e,Ne){return new N(J,ie,ae,_e,Ne)}class N extends u.Lv{constructor(ie,ae,_e,Ne,fe,V){super(ie),this.onFinalize=fe,this.shouldUnsubscribe=V,this._next=ae?function($){try{ae($)}catch(Y){ie.error(Y)}}:super._next,this._error=Ne?function($){try{Ne($)}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch($){ie.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(ut,Ce,O)=>{O.d(Ce,{x:()=>J});var u=O(2737),X=O(9360),N=O(8251);function J(ae,_e=u.y){return ae=ae??ie,(0,X.e)((Ne,fe)=>{let V,$=!0;Ne.subscribe((0,N.x)(fe,Y=>{const Ve=_e(Y);($||!ae(V,Ve))&&($=!1,V=Ve,fe.next(Y))}))})}function ie(ae,_e){return ae===_e}},7398:(ut,Ce,O)=>{O.d(Ce,{U:()=>N});var u=O(9360),X=O(8251);function N(J,ie){return(0,u.e)((ae,_e)=>{let Ne=0;ae.subscribe((0,X.x)(_e,fe=>{_e.next(J.call(ie,fe,Ne++))}))})}},7537:(ut,Ce,O)=>{O.d(Ce,{J:()=>N});var u=O(1631),X=O(2737);function N(J=1/0){return(0,u.z)(X.y,J)}},1631:(ut,Ce,O)=>{O.d(Ce,{z:()=>Ne});var u=O(7398),X=O(4829),N=O(9360),J=O(7103),ie=O(8251),_e=O(4674);function Ne(fe,V,$=1/0){return(0,_e.m)(V)?Ne((Y,Ve)=>(0,u.U)((Se,Ze)=>V(Y,Se,Ve,Ze))((0,X.Xf)(fe(Y,Ve))),$):("number"==typeof V&&($=V),(0,N.e)((Y,Ve)=>function ae(fe,V,$,Y,Ve,Se,Ze,Re){const Ge=[];let Fe=0,pt=0,ht=!1;const ne=()=>{ht&&!Ge.length&&!Fe&&V.complete()},ye=De=>Fe<Y?ee(De):Ge.push(De),ee=De=>{Se&&V.next(De),Fe++;let Pe=!1;(0,X.Xf)($(De,pt++)).subscribe((0,ie.x)(V,qe=>{Ve?.(qe),Se?ye(qe):V.next(qe)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Fe--;Ge.length&&Fe<Y;){const qe=Ge.shift();Ze?(0,J.f)(V,Ze,()=>ee(qe)):ee(qe)}ne()}catch(qe){V.error(qe)}}))};return fe.subscribe((0,ie.x)(V,ye,()=>{ht=!0,ne()})),()=>{Re?.()}}(Y,Ve,fe,$)))}},3093:(ut,Ce,O)=>{O.d(Ce,{Q:()=>J});var u=O(7103),X=O(9360),N=O(8251);function J(ie,ae=0){return(0,X.e)((_e,Ne)=>{_e.subscribe((0,N.x)(Ne,fe=>(0,u.f)(Ne,ie,()=>Ne.next(fe),ae),()=>(0,u.f)(Ne,ie,()=>Ne.complete(),ae),fe=>(0,u.f)(Ne,ie,()=>Ne.error(fe),ae)))})}},3020:(ut,Ce,O)=>{O.d(Ce,{B:()=>ie});var u=O(4829),X=O(8645),N=O(305),J=O(9360);function ie(_e={}){const{connector:Ne=(()=>new X.x),resetOnError:fe=!0,resetOnComplete:V=!0,resetOnRefCountZero:$=!0}=_e;return Y=>{let Ve,Se,Ze,Re=0,Ge=!1,Fe=!1;const pt=()=>{Se?.unsubscribe(),Se=void 0},ht=()=>{pt(),Ve=Ze=void 0,Ge=Fe=!1},ne=()=>{const ye=Ve;ht(),ye?.unsubscribe()};return(0,J.e)((ye,ee)=>{Re++,!Fe&&!Ge&&pt();const De=Ze=Ze??Ne();ee.add(()=>{Re--,0===Re&&!Fe&&!Ge&&(Se=ae(ne,$))}),De.subscribe(ee),!Ve&&Re>0&&(Ve=new N.Hp({next:Pe=>De.next(Pe),error:Pe=>{Fe=!0,pt(),Se=ae(ht,fe,Pe),De.error(Pe)},complete:()=>{Ge=!0,pt(),Se=ae(ht,V),De.complete()}}),(0,u.Xf)(ye).subscribe(Ve))})(Y)}}function ae(_e,Ne,...fe){if(!0===Ne)return void _e();if(!1===Ne)return;const V=new N.Hp({next:()=>{V.unsubscribe(),_e()}});return(0,u.Xf)(Ne(...fe)).subscribe(V)}},5137:(ut,Ce,O)=>{O.d(Ce,{R:()=>X});var u=O(9360);function X(N,J=0){return(0,u.e)((ie,ae)=>{ae.add(N.schedule(()=>ie.subscribe(ae),J))})}},4664:(ut,Ce,O)=>{O.d(Ce,{w:()=>J});var u=O(4829),X=O(9360),N=O(8251);function J(ie,ae){return(0,X.e)((_e,Ne)=>{let fe=null,V=0,$=!1;const Y=()=>$&&!fe&&Ne.complete();_e.subscribe((0,N.x)(Ne,Ve=>{fe?.unsubscribe();let Se=0;const Ze=V++;(0,u.Xf)(ie(Ve,Ze)).subscribe(fe=(0,N.x)(Ne,Re=>Ne.next(ae?ae(Ve,Re,Ze,Se++):Re),()=>{fe=null,Y()}))},()=>{$=!0,Y()}))})}},9397:(ut,Ce,O)=>{O.d(Ce,{b:()=>ie});var u=O(4674),X=O(9360),N=O(8251),J=O(2737);function ie(ae,_e,Ne){const fe=(0,u.m)(ae)||_e||Ne?{next:ae,error:_e,complete:Ne}:ae;return fe?(0,X.e)((V,$)=>{var Y;null===(Y=fe.subscribe)||void 0===Y||Y.call(fe);let Ve=!0;V.subscribe((0,N.x)($,Se=>{var Ze;null===(Ze=fe.next)||void 0===Ze||Ze.call(fe,Se),$.next(Se)},()=>{var Se;Ve=!1,null===(Se=fe.complete)||void 0===Se||Se.call(fe),$.complete()},Se=>{var Ze;Ve=!1,null===(Ze=fe.error)||void 0===Ze||Ze.call(fe,Se),$.error(Se)},()=>{var Se,Ze;Ve&&(null===(Se=fe.unsubscribe)||void 0===Se||Se.call(fe)),null===(Ze=fe.finalize)||void 0===Ze||Ze.call(fe)}))}):J.y}},1954:(ut,Ce,O)=>{O.d(Ce,{o:()=>ie});var u=O(7394);class X extends u.w0{constructor(_e,Ne){super()}schedule(_e,Ne=0){return this}}const N={setInterval(ae,_e,...Ne){const{delegate:fe}=N;return fe?.setInterval?fe.setInterval(ae,_e,...Ne):setInterval(ae,_e,...Ne)},clearInterval(ae){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(ae)},delegate:void 0};var J=O(9039);class ie extends X{constructor(_e,Ne){super(_e,Ne),this.scheduler=_e,this.work=Ne,this.pending=!1}schedule(_e,Ne=0){var fe;if(this.closed)return this;this.state=_e;const V=this.id,$=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId($,V,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId($,this.id,Ne),this}requestAsyncId(_e,Ne,fe=0){return N.setInterval(_e.flush.bind(_e,this),fe)}recycleAsyncId(_e,Ne,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Ne;null!=Ne&&N.clearInterval(Ne)}execute(_e,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(_e,Ne);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ne){let V,fe=!1;try{this.work(_e)}catch($){fe=!0,V=$||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ne}=this,{actions:fe}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(fe,this),null!=_e&&(this.id=this.recycleAsyncId(Ne,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(ut,Ce,O)=>{O.d(Ce,{v:()=>N});var u=O(4552);class X{constructor(ie,ae=X.now){this.schedulerActionCtor=ie,this.now=ae}schedule(ie,ae=0,_e){return new this.schedulerActionCtor(this,ie).schedule(_e,ae)}}X.now=u.l.now;class N extends X{constructor(ie,ae=X.now){super(ie,ae),this.actions=[],this._active=!1}flush(ie){const{actions:ae}=this;if(this._active)return void ae.push(ie);let _e;this._active=!0;do{if(_e=ie.execute(ie.state,ie.delay))break}while(ie=ae.shift());if(this._active=!1,_e){for(;ie=ae.shift();)ie.unsubscribe();throw _e}}}},6321:(ut,Ce,O)=>{O.d(Ce,{z:()=>N});var u=O(1954);const N=new(O(2631).v)(u.o)},4552:(ut,Ce,O)=>{O.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(ut,Ce,O)=>{O.d(Ce,{z:()=>u});const u={setTimeout(X,N,...J){const{delegate:ie}=u;return ie?.setTimeout?ie.setTimeout(X,N,...J):setTimeout(X,N,...J)},clearTimeout(X){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(ut,Ce,O)=>{O.d(Ce,{h:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ut,Ce,O)=>{O.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ut,Ce,O)=>{O.d(Ce,{_6:()=>ae,jO:()=>J,yG:()=>ie});var u=O(4674);function N(_e){return _e[_e.length-1]}function J(_e){return(0,u.m)(N(_e))?_e.pop():void 0}function ie(_e){return function X(_e){return _e&&(0,u.m)(_e.schedule)}(N(_e))?_e.pop():void 0}function ae(_e,Ne){return"number"==typeof N(_e)?_e.pop():Ne}},9039:(ut,Ce,O)=>{function u(X,N){if(X){const J=X.indexOf(N);0<=J&&X.splice(J,1)}}O.d(Ce,{P:()=>u})},2306:(ut,Ce,O)=>{function u(X){const J=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}O.d(Ce,{d:()=>u})},1441:(ut,Ce,O)=>{O.d(Ce,{O:()=>J,x:()=>N});var u=O(2653);let X=null;function N(ie){if(u.config.useDeprecatedSynchronousErrorHandling){const ae=!X;if(ae&&(X={errorThrown:!1,error:null}),ie(),ae){const{errorThrown:_e,error:Ne}=X;if(X=null,_e)throw Ne}}else ie()}function J(ie){u.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},7103:(ut,Ce,O)=>{function u(X,N,J,ie=0,ae=!1){const _e=N.schedule(function(){J(),ae?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(_e),!ae)return _e}O.d(Ce,{f:()=>u})},2737:(ut,Ce,O)=>{function u(X){return X}O.d(Ce,{y:()=>u})},4266:(ut,Ce,O)=>{O.d(Ce,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(ut,Ce,O)=>{O.d(Ce,{D:()=>X});var u=O(4674);function X(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},4674:(ut,Ce,O)=>{function u(X){return"function"==typeof X}O.d(Ce,{m:()=>u})},8382:(ut,Ce,O)=>{O.d(Ce,{c:()=>N});var u=O(4850),X=O(4674);function N(J){return(0,X.m)(J[u.L])}},3664:(ut,Ce,O)=>{O.d(Ce,{T:()=>N});var u=O(4971),X=O(4674);function N(J){return(0,X.m)(J?.[u.h])}},4026:(ut,Ce,O)=>{O.d(Ce,{t:()=>X});var u=O(4674);function X(N){return(0,u.m)(N?.then)}},541:(ut,Ce,O)=>{O.d(Ce,{L:()=>J,Q:()=>N});var u=O(7582),X=O(4674);function N(ie){return(0,u.FC)(this,arguments,function*(){const _e=ie.getReader();try{for(;;){const{value:Ne,done:fe}=yield(0,u.qq)(_e.read());if(fe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ne)}}finally{_e.releaseLock()}})}function J(ie){return(0,X.m)(ie?.getReader)}},9360:(ut,Ce,O)=>{O.d(Ce,{A:()=>X,e:()=>N});var u=O(4674);function X(J){return(0,u.m)(J?.lift)}function N(J){return ie=>{if(X(ie))return ie.lift(function(ae){try{return J(ae,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ut,Ce,O)=>{function u(){}O.d(Ce,{Z:()=>u})},8407:(ut,Ce,O)=>{O.d(Ce,{U:()=>N,z:()=>X});var u=O(2737);function X(...J){return N(J)}function N(J){return 0===J.length?u.y:1===J.length?J[0]:function(ae){return J.reduce((_e,Ne)=>Ne(_e),ae)}}},3894:(ut,Ce,O)=>{O.d(Ce,{h:()=>N});var u=O(2653),X=O(7599);function N(J){X.z.setTimeout(()=>{const{onUnhandledError:ie}=u.config;if(!ie)throw J;ie(J)})}},9853:(ut,Ce,O)=>{function u(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>u})},5879:(ut,Ce,O)=>{O.d(Ce,{$8M:()=>lc,$WT:()=>Ls,$Z:()=>cS,AFp:()=>PT,ALo:()=>s_,AaK:()=>Y,AsE:()=>lx,CHM:()=>Yl,CRH:()=>yI,DdM:()=>Hy,EJc:()=>fb,EiD:()=>CT,EpF:()=>FE,F$t:()=>my,F4k:()=>WS,FYo:()=>Lw,FiY:()=>_a,Gf:()=>vI,GfV:()=>qT,Gpc:()=>Ze,HDt:()=>LI,Hsn:()=>km,Ikx:()=>Ey,JOm:()=>Cd,JVY:()=>IN,JZr:()=>ht,KtG:()=>Vu,L6k:()=>CN,LAX:()=>TN,LFG:()=>xt,LSH:()=>kv,Lbi:()=>Mw,Lck:()=>Xx,MAs:()=>ME,MMx:()=>Jx,NdJ:()=>fy,O4$:()=>ec,Ojb:()=>eP,OlP:()=>fn,Oqu:()=>zg,P3R:()=>DT,PXZ:()=>Eb,Q6J:()=>ly,QGY:()=>Mm,QbO:()=>JN,Qsj:()=>sP,R0b:()=>Ci,RDi:()=>gT,Rgc:()=>zm,SBq:()=>xh,Sil:()=>qM,Suo:()=>h_,TTD:()=>sa,TgZ:()=>jg,VuI:()=>Sk,W1O:()=>tb,X6Q:()=>Ab,XFs:()=>ft,Xpm:()=>Al,Xq5:()=>Mg,Xts:()=>mg,Y36:()=>mm,YKP:()=>e_,YNc:()=>Ic,Yjl:()=>Wc,Yz7:()=>Nt,Z0I:()=>sn,ZZ4:()=>C_,_Bn:()=>Vh,_UZ:()=>dy,_c5:()=>wk,_uU:()=>by,aQg:()=>Fb,c2e:()=>hb,cJS:()=>xn,cg1:()=>$g,dDg:()=>rk,dqk:()=>en,eBb:()=>DN,eFA:()=>Ib,eJc:()=>nb,ekj:()=>XE,eoX:()=>YI,f3M:()=>Ot,g9A:()=>FT,h0i:()=>Zd,hGG:()=>Ek,hij:()=>Nm,iGM:()=>_I,ifc:()=>Me,ip1:()=>Ym,jDz:()=>as,kL8:()=>Sx,kcU:()=>gd,lG2:()=>Qo,lcZ:()=>Hm,lqb:()=>pl,lri:()=>ZI,mCW:()=>Av,n5z:()=>fa,n_E:()=>Bh,oAB:()=>Yo,oxw:()=>jE,pB0:()=>SN,q3G:()=>bh,q4F:()=>WT,qFp:()=>_C,qLn:()=>fm,qOj:()=>Aa,qZA:()=>Am,qzn:()=>sm,rWj:()=>KI,rg0:()=>$l,s9C:()=>py,sBO:()=>tC,s_b:()=>a_,soG:()=>__,tb:()=>ip,tp0:()=>ul,uIk:()=>ty,vHH:()=>ne,vpe:()=>Oa,wAp:()=>Fh,xp6:()=>Hv,z2F:()=>Rc,z3N:()=>ml,zSh:()=>Dw,zs3:()=>Da});var u=O(8645),X=O(7394),N=O(5619),J=O(5592),ie=O(3019),ae=O(2096),_e=O(3020),Ne=O(4664),fe=O(3997);function V(s){for(let o in s)if(s[o]===V)return o;throw Error("Could not find renamed property on target object.")}function $(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Y(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Y).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Se=V({__forward_ref__:V});function Ze(s){return s.__forward_ref__=Ze,s.toString=function(){return Y(this())},s}function Re(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(Se)&&s.__forward_ref__===Ze}function Fe(s){return s&&!!s.\u0275providers}const ht="https://g.co/ng/security#xss";class ne extends Error{constructor(o,l){super(function ye(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ee(s){return"string"==typeof s?s:null==s?"":String(s)}function bt(s,o){throw new ne(-201,!1)}function tt(s,o){null==s&&function ze(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Nt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function xn(s){return{providers:s.providers||[],imports:s.imports||[]}}function fi(s){return Mi(s,rr)||Mi(s,Ps)}function sn(s){return null!==fi(s)}function Mi(s,o){return s.hasOwnProperty(o)?s[o]:null}function no(s){return s&&(s.hasOwnProperty(sr)||s.hasOwnProperty(Ua))?s[sr]:null}const rr=V({\u0275prov:V}),sr=V({\u0275inj:V}),Ps=V({ngInjectableDef:V}),Ua=V({ngInjectorDef:V});var ft=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(ft||{});let zt;function cn(s){const o=zt;return zt=s,o}function In(s,o,l){const d=fi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ft.Optional?null:void 0!==o?o:void bt(Y(s))}const en=globalThis,Zi={},Ln="__NG_DI_FLAG__",mr="ngTempTokenPath",j=/\n/gm,q="__source";let Ee;function Ke(s){const o=Ee;return Ee=s,o}function At(s,o=ft.Default){if(void 0===Ee)throw new ne(-203,!1);return null===Ee?In(s,void 0,o):Ee.get(s,o&ft.Optional?null:void 0,o)}function xt(s,o=ft.Default){return(function Rt(){return zt}()||At)(Re(s),o)}function Ot(s,o=ft.Default){return xt(s,An(o))}function An(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Wt(s){const o=[];for(let l=0;l<s.length;l++){const d=Re(s[l]);if(Array.isArray(d)){if(0===d.length)throw new ne(900,!1);let h,p=ft.Default;for(let v=0;v<d.length;v++){const E=d[v],I=Xr(E);"number"==typeof I?-1===I?h=E.token:p|=I:h=E}o.push(xt(h,p))}else o.push(xt(d))}return o}function $n(s,o){return s[Ln]=o,s.prototype[Ln]=o,s}function Xr(s){return s[Ln]}function de(s){return{toString:s}.toString()}var te=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(te||{}),Me=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Me||{});const st={},We=[],Pt=V({\u0275cmp:V}),Qt=V({\u0275dir:V}),Vn=V({\u0275pipe:V}),Un=V({\u0275mod:V}),pi=V({\u0275fac:V}),Jr=V({__NG_ELEMENT_ID__:V}),Wo=V({__NG_ENV_ID__:V});function zc(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}function Ha(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],v=l[d++],E=l[d++];s.setAttribute(o,v,E,p)}else{const p=h,v=l[++d];gr(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),d++}}return d}function $c(s){return 3===s||4===s||6===s}function gr(s){return 64===s.charCodeAt(0)}function so(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Zo(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Zo(s,o,l,d,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const Gc="ng-template";function Bn(s,o,l){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const v=s[d++];if(l&&"class"===p&&-1!==zc(v.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function oo(s){return 4===s.type&&s.value!==Gc}function Up(s,o,l){return o===(4!==s.type||l?s.value:Gc)}function wf(s,o,l){let d=4;const h=s.attrs||[],p=function Bp(s){for(let o=0;o<s.length;o++)if($c(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!Up(s,I,l)||""===I&&1===o.length){if(Ki(d))return!1;v=!0}}else{const S=8&d?I:o[++E];if(8&d&&null!==s.attrs){if(!Bn(s.attrs,S,l)){if(Ki(d))return!1;v=!0}continue}const F=ao(8&d?"class":I,h,oo(s),l);if(-1===F){if(Ki(d))return!1;v=!0;continue}if(""!==S){let G;G=F>p?"":h[F+1].toLowerCase();const K=8&d?G:null;if(K&&-1!==zc(K,S,0)||2&d&&S!==G){if(Ki(d))return!1;v=!0}}}}else{if(!v&&!Ki(d)&&!Ki(I))return!1;if(v&&Ki(I))continue;v=!1,d=I|1&d}}return Ki(d)||v}function Ki(s){return 0==(1&s)}function ao(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function lo(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Sl(s,o,l=!1){for(let d=0;d<o.length;d++)if(wf(s,o[d],l))return!0;return!1}function yu(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Ko(s,o){return s?":not("+o.trim()+")":o}function za(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ki(v)&&(o+=Ko(p,h),h=""),d=v,p=p||!Ki(d);l++}return""!==h&&(o+=Ko(p,h)),o}function Al(s){return de(()=>{const o=Zc(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===te.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Me.Emulated,styles:s.styles||We,_:null,schemas:s.schemas||null,tView:null,id:""};Ef(l);const d=s.dependencies;return l.directiveDefs=$a(d,!1),l.pipeDefs=$a(d,!0),l.id=function vr(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of l)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function qc(s){return Zt(s)||On(s)}function Ml(s){return null!==s}function Yo(s){return de(()=>({type:s.type,bootstrap:s.bootstrap||We,declarations:s.declarations||We,imports:s.imports||We,exports:s.exports||We,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function kl(s,o){if(null==s)return st;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}function Qo(s){return de(()=>{const o=Zc(s);return Ef(o),o})}function Wc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[Pt]||null}function On(s){return s[Qt]||null}function ki(s){return s[Vn]||null}function Ls(s){const o=Zt(s)||On(s)||ki(s);return null!==o&&o.standalone}function Ri(s,o){const l=s[Un]||null;if(!l&&!0===o)throw new Error(`Type ${Y(s)} does not have '\u0275mod' property.`);return l}function Zc(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||st,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||We,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kl(s.inputs,o),outputs:kl(s.outputs)}}function Ef(s){s.features?.forEach(o=>o(s))}function $a(s,o){if(!s)return null;const l=o?ki:qc;return()=>("function"==typeof s?s():s).map(d=>l(d)).filter(Ml)}const Cn=0,Ye=1,wt=2,yn=3,Oi=4,co=5,gi=6,Ga=7,pn=8,ys=9,Xo=10,Ct=11,_i=12,Eu=13,bs=14,bn=15,Kc=16,uo=17,ni=18,ws=19,Es=20,Vs=21,yr=22,Ol=23,ho=24,Vt=25,Jo=1,Nl=2,ii=7,ri=9,vi=11;function si(s){return Array.isArray(s)&&"object"==typeof s[Jo]}function Ni(s){return Array.isArray(s)&&!0===s[Jo]}function Pl(s){return 0!=(4&s.flags)}function mo(s){return s.componentOffset>-1}function or(s){return 1==(1&s.flags)}function Yi(s){return!!s.template}function ea(s){return 0!=(512&s[wt])}function po(s,o){return s.hasOwnProperty(pi)?s[pi]:null}let td=en.WeakRef??class Ul{constructor(o){this.ref=o}deref(){return this.ref}},Bl=0,es=null,go=!1;function Nn(s){const o=es;return es=s,o}class Tf{constructor(){this.id=Bl++,this.ref=function ia(s){return new td(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,l]of this.producers){const d=l.producerNode.deref();if(null!=d&&l.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(l.seenValueVersion))return!0}else this.producers.delete(o),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=go;go=!0;try{for(const[l,d]of this.consumers){const h=d.consumerNode.deref();null!=h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(l),h?.producers.delete(this.id))}}finally{go=o}}producerAccessed(){if(go)throw new Error("");if(null===es)return;let o=es.producers.get(this.id);void 0===o?(o={consumerNode:es.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:es.trackingVersion},es.producers.set(this.id,o),this.consumers.set(es.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=es.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==es?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let zl=null;function $l(s){const o=Nn(null);try{return s()}finally{Nn(o)}}const Au=()=>{};class Mu extends Tf{constructor(o,l,d){super(),this.watch=o,this.schedule=l,this.dirty=!1,this.cleanupFn=Au,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Nn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Au,this.watch(this.registerOnCleanup)}finally{Nn(o)}}cleanup(){this.cleanupFn()}}class Mf{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function sa(){return ku}function ku(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ka),_o}function _o(){const s=Ru(this),o=s?.current;if(o){const l=s.previous;if(l===st)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ka(s,o,l,d){const h=this.declaredInputs[l],p=Ru(s)||function Gl(s,o){return s[id]=o}(s,{previous:st,current:null}),v=p.current||(p.current={}),E=p.previous,I=E[h];v[h]=new Mf(I&&I.currentValue,o,E===st),s[d]=o}sa.ngInherit=!0;const id="__ngSimpleChanges__";function Ru(s){return s[id]||null}const br=function(s,o,l){},Rf="svg";function un(s){for(;Array.isArray(s);)s=s[Cn];return s}function Wl(s,o){return un(o[s])}function Li(s,o){return un(o[s.index])}function Ou(s,o){return s.data[o]}function wr(s,o){return s[o]}function Pn(s,o){const l=o[s];return si(l)?l:l[Cn]}function js(s,o){return null==o?null:s[o]}function od(s){s[uo]=0}function Of(s){1024&s[wt]||(s[wt]|=1024,yo(s,1))}function Pu(s){1024&s[wt]&&(s[wt]&=-1025,yo(s,-1))}function yo(s,o){let l=s[yn];if(null===l)return;l[co]+=o;let d=l;for(l=l[yn];null!==l&&(1===o&&1===d[co]||-1===o&&0===d[co]);)l[co]+=o,d=l,l=l[yn]}const It={lFrame:Hu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wo(){return It.bindingsEnabled}function aa(){return null!==It.skipHydrationRootTNode}function pe(){return It.lFrame.lView}function Xt(){return It.lFrame.tView}function Yl(s){return It.lFrame.contextLView=s,s[pn]}function Vu(s){return It.lFrame.contextLView=null,s}function Gn(){let s=Qa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Qa(){return It.lFrame.currentTNode}function Pr(s,o){const l=It.lFrame;l.currentTNode=s,l.isParent=o}function oi(){return It.lFrame.isParent}function xo(){It.lFrame.isParent=!1}function Qi(){const s=It.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Is(){return It.lFrame.bindingIndex++}function ai(s){const o=It.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function hd(s,o){const l=It.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ff(o)}function Ff(s){It.lFrame.currentDirectiveIndex=s}function Bu(){return It.lFrame.currentQueryIndex}function fd(s){It.lFrame.currentQueryIndex=s}function qp(s){const o=s[Ye];return 2===o.type?o.declTNode:1===o.type?s[gi]:null}function md(s,o,l){if(l&ft.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&ft.Host||(h=qp(p),null===h||(p=p[bs],10&h.type))););if(null===h)return!1;o=h,s=p}const d=It.lFrame=ca();return d.currentTNode=o,d.lView=s,!0}function ju(s){const o=ca(),l=s[Ye];It.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ca(){const s=It.lFrame,o=null===s?null:s.child;return null===o?Hu(s):o}function Hu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function pd(){const s=It.lFrame;return It.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xl=pd;function Ja(){const s=pd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Xi(){return It.lFrame.selectedIndex}function Hs(s){It.lFrame.selectedIndex=s}function kn(){const s=It.lFrame;return Ou(s.tView,s.selectedIndex)}function ec(){It.lFrame.currentNamespace=Rf}function gd(){!function Zp(){It.lFrame.currentNamespace=null}()}let Dn=!0;function qn(){return Dn}function zs(s){Dn=s}function da(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=p;v&&(s.contentHooks??=[]).push(-l,v),E&&((s.contentHooks??=[]).push(l,E),(s.contentCheckHooks??=[]).push(l,E)),I&&(s.viewHooks??=[]).push(-l,I),S&&((s.viewHooks??=[]).push(l,S),(s.viewCheckHooks??=[]).push(l,S)),null!=R&&(s.destroyHooks??=[]).push(l,R)}}function Co(s,o,l){Do(s,o,3,l)}function Cs(s,o,l,d){(3&s[wt])===l&&Do(s,o,l,d)}function tl(s,o){let l=s[wt];(3&l)===o&&(l&=8191,l+=1,s[wt]=l)}function Do(s,o,l,d){const p=d??-1,v=o.length-1;let E=0;for(let I=void 0!==d?65535&s[uo]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=d&&E>=d)break}else o[I]<0&&(s[uo]+=65536),(E<p||-1==p)&&(jn(s,l,o,I),s[uo]=(4294901760&s[uo])+I+2),I++}function $s(s,o){br(4,s,o);const l=Nn(null);try{o.call(s)}finally{Nn(l),br(5,s,o)}}function jn(s,o,l,d){const h=l[d]<0,p=l[d+1],E=s[h?-l[d]:l[d]];h?s[wt]>>13<s[uo]>>16&&(3&s[wt])===o&&(s[wt]+=8192,$s(E,p)):$s(E,p)}const lt=-1;class Ei{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ic(s){return s!==lt}function So(s){return 32767&s}function Ao(s,o){let l=function Kp(s){return s>>16}(s),d=o;for(;l>0;)d=d[bs],l--;return d}let Ds=!0;function ar(s){const o=Ds;return Ds=s,o}const Ii=255,Lr=5;let qu=0;const hn={};function sc(s,o){const l=vd(s,o);if(-1!==l)return l;const d=o[Ye];d.firstCreatePass&&(s.injectorIndex=o.length,ua(d.data,s),ua(o,null),ua(d.blueprint,null));const h=Mo(s,o),p=s.injectorIndex;if(ic(h)){const v=So(h),E=Ao(h,o),I=E[Ye].data;for(let S=0;S<8;S++)o[p+S]=E[v+S]|I[v+S]}return o[p+8]=h,p}function ua(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Mo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=al(h),null===d)return lt;if(l++,h=h[bs],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return lt}function nl(s,o,l){!function _d(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Jr)&&(d=l[Jr]),null==d&&(d=l[Jr]=qu++);const h=d&Ii;o.data[s+(h>>Lr)]|=1<<h}(s,o,l)}function il(s,o,l){if(l&ft.Optional||void 0!==s)return s;bt()}function rl(s,o,l,d){if(l&ft.Optional&&void 0===d&&(d=null),!(l&(ft.Self|ft.Host))){const h=s[ys],p=cn(void 0);try{return h?h.get(o,d,l&ft.Optional):In(o,d,l&ft.Optional)}finally{cn(p)}}return il(d,0,l)}function yd(s,o,l,d=ft.Default,h){if(null!==s){if(2048&o[wt]&&!(d&ft.Self)){const v=function Ro(s,o,l,d,h){let p=s,v=o;for(;null!==p&&null!==v&&2048&v[wt]&&!(512&v[wt]);){const E=sl(p,v,l,d|ft.Self,hn);if(E!==hn)return E;let I=p.parent;if(!I){const S=v[Es];if(S){const R=S.get(l,hn,d);if(R!==hn)return R}I=al(v),v=v[bs]}p=I}return h}(s,o,l,d,hn);if(v!==hn)return v}const p=sl(s,o,l,d,hn);if(p!==hn)return p}return rl(o,l,d,h)}function sl(s,o,l,d,h){const p=function Ku(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Jr)?s[Jr]:void 0;return"number"==typeof o?o>=0?o&Ii:ac:o}(l);if("function"==typeof p){if(!md(o,s,d))return d&ft.Host?il(h,0,d):rl(o,l,d,h);try{let v;if(v=p(d),null!=v||d&ft.Optional)return v;bt()}finally{Xl()}}else if("number"==typeof p){let v=null,E=vd(s,o),I=lt,S=d&ft.Host?o[bn][gi]:null;for((-1===E||d&ft.SkipSelf)&&(I=-1===E?Mo(s,o):o[E+8],I!==lt&&ko(d,!1)?(v=o[Ye],E=So(I),o=Ao(I,o)):E=-1);-1!==E;){const R=o[Ye];if(ol(p,E,R.data)){const F=Zu(E,o,l,v,d,S);if(F!==hn)return F}I=o[E+8],I!==lt&&ko(d,o[Ye].data[E+8]===S)&&ol(p,E,o)?(v=R,E=So(I),o=Ao(I,o)):E=-1}}return h}function Zu(s,o,l,d,h,p){const v=o[Ye],E=v.data[s+8],R=oc(E,v,l,null==d?mo(E)&&Ds:d!=v&&0!=(3&E.type),h&ft.Host&&p===E);return null!==R?Ts(o,v,R,E):hn}function oc(s,o,l,d,h){const p=s.providerIndexes,v=o.data,E=1048575&p,I=s.directiveStart,R=p>>20,G=h?E+R:s.directiveEnd;for(let K=d?E:E+R;K<G;K++){const ve=v[K];if(K<I&&l===ve||K>=I&&ve.type===l)return K}if(h){const K=v[I];if(K&&Yi(K)&&K.type===l)return I}return null}function Ts(s,o,l,d){let h=s[l];const p=o.data;if(function $u(s){return s instanceof Ei}(h)){const v=h;v.resolving&&function Pe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ee(s)}(p[l]));const E=ar(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?cn(v.injectImpl):null;md(s,d,ft.Default);try{h=s[l]=v.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function el(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const v=ku(o);(l.preOrderHooks??=[]).push(s,v),(l.preOrderCheckHooks??=[]).push(s,v)}h&&(l.preOrderHooks??=[]).push(0-s,h),p&&((l.preOrderHooks??=[]).push(s,p),(l.preOrderCheckHooks??=[]).push(s,p))}(l,p[l],o)}finally{null!==S&&cn(S),ar(E),v.resolving=!1,Xl()}}return h}function ol(s,o,l){return!!(l[o+(s>>Lr)]&1<<s)}function ko(s,o){return!(s&ft.Self||s&ft.Host&&o)}class Hn{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return yd(this._tNode,this._lView,o,An(d),l)}}function ac(){return new Hn(Gn(),pe())}function fa(s){return de(()=>{const o=s.prototype.constructor,l=o[pi]||qs(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[pi]||qs(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function qs(s){return Ge(s)?()=>{const o=qs(Re(s));return o&&o()}:po(s)}function al(s){const o=s[Ye],l=o.type;return 2===l?o.declTNode:1===l?s[gi]:null}function lc(s){return function Wu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if($c(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Gn(),s)}const Wn="__parameters__";function ma(s,o,l){return de(()=>{const d=function Ss(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const v=new h(...p);return E.annotation=v,E;function E(I,S,R){const F=I.hasOwnProperty(Wn)?I[Wn]:Object.defineProperty(I,Wn,{value:[]})[Wn];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Z(s,o){s.forEach(l=>Array.isArray(l)?Z(l,o):o(l))}function me(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function $e(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Be(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function tn(s,o,l){let d=Ks(s,o);return d>=0?s[1|d]=l:(d=~d,function St(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ts(s,o){const l=Ks(s,o);if(l>=0)return s[1|l]}function Ks(s,o){return function cr(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),v=s[p<<l];if(o===v)return p<<l;v>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const _a=$n(ma("Optional"),8),ul=$n(ma("SkipSelf"),4);function Id(s){return 128==(128&s.flags)}var Cd=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Cd||{});const lh=new Map;let Wf=0;const ch="__ngContext__";function Ui(s,o){si(o)?(s[ch]=o[ws],function Ur(s){lh.set(s[ws],s)}(o)):s[ch]=o}let Br;function uh(s,o){return Br(s,o)}function kd(s){const o=s[yn];return Ni(o)?o[yn]:o}function cg(s){return Qf(s[_i])}function fh(s){return Qf(s[Oi])}function Qf(s){for(;null!==s&&!Ni(s);)s=s[Oi];return s}function y(s,o,l,d,h){if(null!=d){let p,v=!1;Ni(d)?p=d:si(d)&&(v=!0,d=d[Cn]);const E=un(d);0===s&&null!==l?null==h?em(o,l,E):Ea(o,l,E,h||null,!0):1===s&&null!==l?Ea(o,l,E,h||null,!0):2===s?function _h(s,o,l){const d=nm(s,o);d&&function Od(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=p&&function li(s,o,l,d,h){const p=l[ii];p!==un(l)&&y(o,s,d,p,h);for(let E=vi;E<l.length;E++){const I=l[E];rm(I[Ye],I,s,o,d,p)}}(o,s,p,l,h)}}function T(s,o,l){return s.createElement(o,l)}function rt(s,o){const l=s[ri],d=l.indexOf(o);Pu(o),l.splice(d,1)}function gn(s,o){if(s.length<=vi)return;const l=vi+o,d=s[l];if(d){const h=d[Kc];null!==h&&h!==s&&rt(h,d),o>0&&(s[l-1][Oi]=d[Oi]);const p=$e(s,vi+o);!function k(s,o){rm(s,o,o[Ct],2,null,null),o[Cn]=null,o[gi]=null}(d[Ye],d);const v=p[ni];null!==v&&v.detachView(p[Ye]),d[yn]=null,d[Oi]=null,d[wt]&=-129}return d}function rs(s,o){if(!(256&o[wt])){const l=o[Ct];o[Ol]?.destroy(),o[ho]?.destroy(),l.destroyNode&&rm(s,o,l,3,null,null),function Oe(s){let o=s[_i];if(!o)return Rd(s[Ye],s);for(;o;){let l=null;if(si(o))l=o[_i];else{const d=o[vi];d&&(l=d)}if(!l){for(;o&&!o[Oi]&&o!==s;)si(o)&&Rd(o[Ye],o),o=o[yn];null===o&&(o=s),si(o)&&Rd(o[Ye],o),l=o&&o[Oi]}o=l}}(o)}}function Rd(s,o){if(!(256&o[wt])){o[wt]&=-129,o[wt]|=256,function mh(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Ei)){const p=l[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const E=h[p[v]],I=p[v+1];br(4,E,I);try{I.call(E)}finally{br(5,E,I)}}else{br(4,h,p);try{p.call(h)}finally{br(5,h,p)}}}}}(s,o),function Xf(s,o){const l=s.cleanup,d=o[Ga];if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const v=l[p+3];v>=0?d[v]():d[-v].unsubscribe(),p+=2}else l[p].call(d[l[p+1]]);null!==d&&(o[Ga]=null);const h=o[Vs];if(null!==h){o[Vs]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,o),1===o[Ye].type&&o[Ct].destroy();const l=o[Kc];if(null!==l&&Ni(o[yn])){l!==o[yn]&&rt(l,o);const d=o[ni];null!==d&&d.detachView(s)}!function sg(s){lh.delete(s[ws])}(o)}}function Jf(s,o,l){return function dg(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[Cn];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Me.None||p===Me.Emulated)return null}return Li(d,l)}}(s,o.parent,l)}function Ea(s,o,l,d,h){s.insertBefore(o,l,d,h)}function em(s,o,l){s.appendChild(o,l)}function tm(s,o,l,d,h){null!==d?Ea(s,o,l,d,h):em(s,o,l)}function nm(s,o){return s.parentNode(o)}function im(s,o,l){return ph(s,o,l)}let Cv,Dv,pw,ug,ph=function Iv(s,o,l){return 40&s.type?Li(s,l):null};function Nd(s,o,l,d){const h=Jf(s,d,o),p=o[Ct],E=im(d.parent||o[gi],d,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)tm(p,h,l[I],E,!1);else tm(p,h,l,E,!1);void 0!==Cv&&Cv(p,d,o,l,h)}function No(s,o){if(null!==o){const l=o.type;if(3&l)return Li(o,s);if(4&l)return dw(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return No(s,d);{const h=s[o.index];return Ni(h)?dw(-1,h):un(h)}}if(32&l)return uh(o,s)()||un(s[o.index]);{const d=uT(s,o);return null!==d?Array.isArray(d)?d[0]:No(kd(s[bn]),d):No(s,o.next)}}return null}function uT(s,o){return null!==o?s[bn][gi].projection[o.projection]:null}function dw(s,o){const l=vi+s+1;if(l<o.length){const d=o[l],h=d[Ye].firstChild;if(null!==h)return No(d,h)}return o[ii]}function hw(s,o,l,d,h,p,v){for(;null!=l;){const E=d[l.index],I=l.type;if(v&&0===o&&(E&&Ui(un(E),d),l.flags|=2),32!=(32&l.flags))if(8&I)hw(s,o,l.child,d,h,p,!1),y(o,s,h,E,p);else if(32&I){const S=uh(l,d);let R;for(;R=S();)y(o,s,h,R,p);y(o,s,h,E,p)}else 16&I?fw(s,o,d,l,h,p):y(o,s,h,E,p);l=v?l.projectionNext:l.next}}function rm(s,o,l,d,h,p){hw(l,d,s.firstChild,o,h,p,!1)}function fw(s,o,l,d,h,p){const v=l[bn],I=v[gi].projection[d.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)y(o,s,h,I[S],p);else{let S=I;const R=v[yn];Id(d)&&(S.flags|=128),hw(s,o,S,R,h,p,!0)}}function fT(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function mw(s,o,l){const{mergedAttrs:d,classes:h,styles:p}=l;null!==d&&Ha(s,o,d),null!==h&&fT(s,o,h),null!==p&&function _N(s,o,l){s.setAttribute(o,"style",l)}(s,o,p)}function vh(s){return function Tv(){if(void 0===Dv&&(Dv=null,en.trustedTypes))try{Dv=en.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Dv}()?.createHTML(s)||s}function gT(s){pw=s}function vw(s){return function Sv(){if(void 0===ug&&(ug=null,en.trustedTypes))try{ug=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ug}()?.createScriptURL(s)||s}class Fd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class _T extends Fd{getTypeName(){return"HTML"}}class yN extends Fd{getTypeName(){return"Style"}}class bN extends Fd{getTypeName(){return"Script"}}class wN extends Fd{getTypeName(){return"URL"}}class EN extends Fd{getTypeName(){return"ResourceURL"}}function ml(s){return s instanceof Fd?s.changingThisBreaksApplicationSecurity:s}function sm(s,o){const l=function xN(s){return s instanceof Fd&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${ht})`)}return l===o}function IN(s){return new _T(s)}function CN(s){return new yN(s)}function DN(s){return new bN(s)}function TN(s){return new wN(s)}function SN(s){return new EN(s)}class yT{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(vh(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class AN{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=vh(o),l}}const kN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Av(s){return(s=String(s)).match(kN)?s:"unsafe:"+s}function Ia(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function hg(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const bT=Ia("area,br,col,hr,img,wbr"),wT=Ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ET=Ia("rp,rt"),yw=hg(bT,hg(wT,Ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hg(ET,Ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hg(ET,wT)),bw=Ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xT=hg(bw,Ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),RN=Ia("script,style,template");class ON{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!yw.hasOwnProperty(l))return this.sanitizedSomething=!0,!RN.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),v=p.name,E=v.toLowerCase();if(!xT.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=p.value;bw[E]&&(I=Av(I)),this.buf.push(" ",v,'="',IT(I),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();yw.hasOwnProperty(l)&&!bT.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(IT(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const NN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,PN=/([^\#-~ |!])/g;function IT(s){return s.replace(/&/g,"&amp;").replace(NN,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(PN,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mv;function CT(s,o){let l=null;try{Mv=Mv||function vT(s){const o=new AN(s);return function MN(){try{return!!(new window.DOMParser).parseFromString(vh(""),"text/html")}catch{return!1}}()?new yT(o):o}(s);let d=o?String(o):"";l=Mv.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=Mv.getInertBodyElement(d)}while(d!==p);return vh((new ON).sanitizeChildren(ww(l)||l))}finally{if(l){const d=ww(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ww(s){return"content"in s&&function FN(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var bh=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(bh||{});function kv(s){const o=fg();return o?o.sanitize(bh.URL,s)||"":sm(s,"URL")?ml(s):Av(ee(s))}function Ew(s){const o=fg();if(o)return vw(o.sanitize(bh.RESOURCE_URL,s)||"");if(sm(s,"ResourceURL"))return vw(ml(s));throw new ne(904,!1)}function DT(s,o,l){return function HN(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Ew:kv}(o,l)(s)}function fg(){const s=pe();return s&&s[Xo].sanitizer}class fn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Nt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mg=new fn("ENVIRONMENT_INITIALIZER"),TT=new fn("INJECTOR",-1),ST=new fn("INJECTOR_DEF_TYPES");class xw{get(o,l=Zi){if(l===Zi){const d=new Error(`NullInjectorError: No provider for ${Y(o)}!`);throw d.name="NullInjectorError",d}return l}}function zN(...s){return{\u0275providers:MT(0,s),\u0275fromNgModule:!0}}function MT(s,...o){const l=[],d=new Set;let h;const p=v=>{l.push(v)};return Z(o,v=>{const E=v;Rv(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&kT(h,p),l}function kT(s,o){for(let l=0;l<s.length;l++){const{ngModule:d,providers:h}=s[l];Iw(h,p=>{o(p,d)})}}function Rv(s,o,l,d){if(!(s=Re(s)))return!1;let h=null,p=no(s);const v=!p&&Zt(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(p=no(I),!p)return!1;h=I}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Rv(S,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;d.add(h);try{Z(p.imports,R=>{Rv(R,o,l,d)&&(S||=[],S.push(R))})}finally{}void 0!==S&&kT(S,o)}if(!E){const S=po(h)||(()=>new h);o({provide:h,useFactory:S,deps:We},h),o({provide:ST,useValue:h,multi:!0},h),o({provide:mg,useValue:()=>xt(h),multi:!0},h)}const I=p.providers;if(null!=I&&!E){const S=s;Iw(I,R=>{o(R,S)})}}}return h!==s&&void 0!==s.providers}function Iw(s,o){for(let l of s)Fe(l)&&(l=l.\u0275providers),Array.isArray(l)?Iw(l,o):o(l)}const $N=V({provide:String,useValue:V});function Cw(s){return null!==s&&"object"==typeof s&&$N in s}function wh(s){return"function"==typeof s}const Dw=new fn("Set Injector scope."),Ov={},qN={};let Tw;function Nv(){return void 0===Tw&&(Tw=new xw),Tw}class pl{}class Pv extends pl{get destroyed(){return this._destroyed}constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Aw(o,v=>this.processProvider(v)),this.records.set(TT,om(void 0,this)),h.has("environment")&&this.records.set(pl,om(void 0,this));const p=this.records.get(Dw);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ST.multi,We,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=Ke(this),d=cn(void 0);try{return o()}finally{Ke(l),cn(d)}}get(o,l=Zi,d=ft.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Wo))return o[Wo](this);d=An(d);const p=Ke(this),v=cn(void 0);try{if(!(d&ft.SkipSelf)){let I=this.records.get(o);if(void 0===I){const S=function QN(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&fi(o);I=S&&this.injectableDefInScope(S)?om(Sw(o),Ov):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(d&ft.Self?Nv():this.parent).get(o,l=d&ft.Optional&&l===Zi?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[mr]=E[mr]||[]).unshift(Y(o)),p)throw E;return function vs(s,o,l,d){const h=s[mr];throw o[q]&&h.unshift(o[q]),s.message=function ja(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Y(o);if(Array.isArray(o))h=o.map(Y).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];p.push(v+":"+("string"==typeof E?JSON.stringify(E):Y(E)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(j,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[mr]=null,s}(E,o,"R3InjectorError",this.source)}throw E}finally{cn(v),Ke(p)}}resolveInjectorInitializers(){const o=Ke(this),l=cn(void 0);try{const h=this.get(mg.multi,We,ft.Self);for(const p of h)p()}finally{Ke(o),cn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(Y(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(o){let l=wh(o=Re(o))?o:Re(o&&o.provide);const d=function ZN(s){return Cw(s)?om(void 0,s.useValue):om(NT(s),Ov)}(o);if(wh(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=om(void 0,Ov,!0),h.factory=()=>Wt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Ov&&(l.value=qN,l.value=l.factory()),"object"==typeof l.value&&l.value&&function YN(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Re(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function Sw(s){const o=fi(s),l=null!==o?o.factory:po(s);if(null!==l)return l;if(s instanceof fn)throw new ne(204,!1);if(s instanceof Function)return function WN(s){const o=s.length;if(o>0)throw Be(o,"?"),new ne(204,!1);const l=function ir(s){return s&&(s[rr]||s[Ps])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ne(204,!1)}function NT(s,o,l){let d;if(wh(s)){const h=Re(s);return po(h)||Sw(h)}if(Cw(s))d=()=>Re(s.useValue);else if(function OT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Wt(s.deps||[]));else if(function RT(s){return!(!s||!s.useExisting)}(s))d=()=>xt(Re(s.useExisting));else{const h=Re(s&&(s.useClass||s.provide));if(!function KN(s){return!!s.deps}(s))return po(h)||Sw(h);d=()=>new h(...Wt(s.deps))}return d}function om(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Aw(s,o){for(const l of s)Array.isArray(l)?Aw(l,o):l&&Fe(l)?Aw(l.\u0275providers,o):o(l)}const PT=new fn("AppId",{providedIn:"root",factory:()=>XN}),XN="ng",FT=new fn("Platform Initializer"),Mw=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JN=new fn("AnimationModuleType"),eP=new fn("CSP nonce",{providedIn:"root",factory:()=>function yh(){if(void 0!==pw)return pw;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(s,o,l)=>null;function Vd(s,o,l=!1){return lm(s,o,l)}class HT{}class Pw{}class nP{resolveComponentFactory(o){throw function zT(s){const o=Error(`No component factory found for ${Y(s)}.`);return o.ngComponent=s,o}(o)}}let cm=(()=>{class o{}return o.NULL=new nP,o})();function iP(){return dm(Gn(),pe())}function dm(s,o){return new xh(Li(s,o))}let xh=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=iP,o})();function rP(s){return s instanceof xh?s.nativeElement:s}class Lw{}let sP=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function GT(){const s=pe(),l=Pn(Gn().index,s);return(si(l)?l:s)[Ct]}(),o})(),oP=(()=>{var s;class o{}return(s=o).\u0275prov=Nt({token:s,providedIn:"root",factory:()=>null}),o})();class qT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const WT=new qT("16.2.2"),Uv={};function jv(s,o=null,l=null,d){const h=JT(s,o,l,d);return h.resolveInjectorInitializers(),h}function JT(s,o=null,l=null,d,h=new Set){const p=[l||We,zN(s)];return d=d||("object"==typeof s?void 0:Y(s)),new Pv(p,o||Nv(),d||null,h)}let Da=(()=>{var s;class o{static create(d,h){if(Array.isArray(d))return jv({name:""},h,d,"");{const p=d.name??"";return jv({name:p},d.parent,d.providers,p)}}}return(s=o).THROW_IF_NOT_FOUND=Zi,s.NULL=new xw,s.\u0275prov=Nt({token:s,providedIn:"any",factory:()=>xt(TT)}),s.__NG_ELEMENT_ID__=-1,o})();function bc(s){return s instanceof Function?s():s}let jw=(()=>{var s;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ne(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const d of this.callbacks)d.invoke()}finally{this.runningCallbacks=!1;for(const d of this.deferredCallbacks)this.callbacks.add(d);this.deferredCallbacks.clear()}}register(d){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(d)}unregister(d){this.callbacks.delete(d),this.deferredCallbacks.delete(d)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=o).\u0275prov=Nt({token:s,providedIn:"root",factory:()=>new s}),o})();function bg(s){for(;s;){s[wt]|=64;const o=kd(s);if(ea(s)&&!o)return s;s=o}return null}function Hw(s){return s.ngOriginalError}class fm{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Hw(o);for(;l&&Hw(l);)l=Hw(l);return l||null}}const rS=new fn("",{providedIn:"root",factory:()=>!1});class qw extends Tf{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){bg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,l,d){const h=Nn(this);this.trackingVersion++;try{o(l,d)}finally{Nn(h)}}destroy(){this.trackingVersion++}}let Eg=null;function Ww(){return Eg??=new qw,Eg}function Zw(s,o){return s[o]??Ww()}function lS(s,o){const l=Ww();l.hasReadASignal&&(s[o]=Eg,l.lView=s,Eg=new qw)}const Bt={};function Hv(s){zv(Xt(),pe(),Xi()+s,!1)}function zv(s,o,l,d){if(!d)if(3==(3&o[wt])){const p=s.preOrderCheckHooks;null!==p&&Co(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Cs(o,p,0,l)}Hs(l)}function mm(s,o=ft.Default){const l=pe();return null===l?xt(s,o):yd(Gn(),l,Re(s),o)}function cS(){throw new Error("invalid")}function $v(s,o,l,d,h,p,v,E,I,S,R){const F=o.blueprint.slice();return F[Cn]=h,F[wt]=140|d,(null!==S||s&&2048&s[wt])&&(F[wt]|=2048),od(F),F[yn]=F[bs]=s,F[pn]=l,F[Xo]=v||s&&s[Xo],F[Ct]=E||s&&s[Ct],F[ys]=I||s&&s[ys]||null,F[gi]=p,F[ws]=function pc(){return Wf++}(),F[yr]=R,F[Es]=S,F[bn]=2==o.type?s[bn]:F,F}function pm(s,o,l,d,h){let p=s.data[o];if(null===p)p=function Kw(s,o,l,d,h){const p=Qa(),v=oi(),I=s.data[o]=function IP(s,o,l,d,h,p){let v=o?o.injectorIndex:-1,E=0;return aa()&&(E|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(v?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(s,o,l,d,h),function dd(){return It.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const v=function Mn(){const s=It.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Pr(p,!0),p}function xg(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function dS(s,o,l,d,h){const p=Zw(o,Ol),v=Xi(),E=2&d;try{if(Hs(-1),E&&o.length>Vt&&zv(s,o,Vt,!1),br(E?2:0,h),E)p.runInContext(l,d,h);else{const S=Nn(null);try{l(d,h)}finally{Nn(S)}}}finally{E&&null===o[Ol]&&lS(o,Ol),Hs(v),br(E?3:1,h)}}function Ig(s,o,l){if(Pl(o)){const d=Nn(null);try{const p=o.directiveEnd;for(let v=o.directiveStart;v<p;v++){const E=s.data[v];E.contentQueries&&E.contentQueries(1,l[v],v)}}finally{Nn(d)}}}function Yw(s,o,l){wo()&&(function MP(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;mo(l)&&function rE(s,o,l){const d=Li(o,s),h=Xw(l);let v=16;l.signals?v=4096:l.onPush&&(v=64);const E=Wv(s,$v(s,h,null,v,d,o,null,s[Xo].rendererFactory.createRenderer(d,l),null,null,null));s[o.index]=E}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||sc(l,o),Ui(d,o);const v=l.initialInputs;for(let E=h;E<p;E++){const I=s.data[E],S=Ts(o,s,E,l);Ui(S,o),null!==v&&sE(0,E-h,S,I,0,v),Yi(I)&&(Pn(l.index,o)[pn]=Ts(o,s,E,l))}}(s,o,l,Li(l,o)),64==(64&l.flags)&&nE(s,o,l))}function Qw(s,o,l=Li){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Xw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Gv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function Gv(s,o,l,d,h,p,v,E,I,S,R){const F=Vt+d,G=F+h,K=function ss(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Bt);return l}(F,G),ve="function"==typeof S?S():S;return K[Ye]={type:s,blueprint:K,template:l,queries:null,viewQuery:E,declTNode:o,data:K.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ve,incompleteFirstPass:!1,ssrId:R}}let uS=s=>null;function eE(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const p=s[h];null===d?hS(l,o,h,p):d.hasOwnProperty(h)&&hS(l,o,d[h],p)}return l}function hS(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function Qs(s,o,l,d,h,p,v,E){const I=Li(o,l);let R,S=o.inputs;!E&&null!=S&&(R=S[d])?(lE(s,l,R,d,h),mo(o)&&function DP(s,o){const l=Pn(o,s);16&l[wt]||(l[wt]|=64)}(l,o.index)):3&o.type&&(d=function fS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,p.setProperty(I,d,h))}function tE(s,o,l,d){if(wo()){const h=null===d?null:{"":-1},p=function RP(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];if(Sl(o,v.selectors,!1))if(d||(d=[]),Yi(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),Ud(s,o,E.length)}else d.unshift(v),Ud(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,l);let v,E;null===p?v=E=null:[v,E]=p,null!==v&&mS(s,o,l,v,h,E),h&&function OP(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new ne(-301,!1);d.push(o[h],p)}}}(l,d,h)}l.mergedAttrs=so(l.mergedAttrs,l.attrs)}function mS(s,o,l,d,h,p){for(let S=0;S<d.length;S++)nl(sc(l,o),s,d[S].type);!function iE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let S=0;S<d.length;S++){const R=d[S];R.providersResolver&&R.providersResolver(R)}let v=!1,E=!1,I=xg(s,o,d.length,null);for(let S=0;S<d.length;S++){const R=d[S];l.mergedAttrs=so(l.mergedAttrs,R.hostAttrs),gS(s,l,o,I,R),pS(I,R,h),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const F=R.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),v=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),E=!0),I++}!function CP(s,o,l){const h=o.directiveEnd,p=s.data,v=o.attrs,E=[];let I=null,S=null;for(let R=o.directiveStart;R<h;R++){const F=p[R],G=l?l.get(F):null,ve=G?G.outputs:null;I=eE(F.inputs,R,I,G?G.inputs:null),S=eE(F.outputs,R,S,ve);const Le=null===I||null===v||oo(o)?null:gm(I,R,v);E.push(Le)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=I,o.outputs=S}(s,l,p)}function nE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,v=function Uu(){return It.lFrame.currentDirectiveIndex}();try{Hs(p);for(let E=d;E<h;E++){const I=s.data[E],S=o[E];Ff(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&kP(I,S)}}finally{Hs(-1),Ff(v)}}function kP(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ud(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function pS(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Yi(o)&&(l[""]=s)}}function gS(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=po(h.type)),v=new Ei(p,Yi(h),mm);s.blueprint[d]=v,l[d]=v,function SP(s,o,l,d,h){const p=h.hostBindings;if(p){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function AP(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,p)}}(s,o,d,xg(s,l,h.hostVars,Bt),h)}function Ta(s,o,l,d,h,p){const v=Li(s,o);!function Cg(s,o,l,d,h,p,v){if(null==p)s.removeAttribute(o,h,l);else{const E=null==v?ee(p):v(p,d||"",h);s.setAttribute(o,h,E,l)}}(o[Ct],v,p,s.value,l,d,h)}function sE(s,o,l,d,h,p){const v=p[o];if(null!==v)for(let E=0;E<v.length;)qv(d,l,v[E++],v[E++],v[E++])}function qv(s,o,l,d,h){const p=Nn(null);try{const v=s.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(h=v[d].call(o,h)),null!==s.setInput?s.setInput(o,h,l,d):o[d]=h}finally{Nn(p)}}function gm(s,o,l){let d=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const v=s[p];for(let E=0;E<v.length;E+=2)if(v[E]===o){d.push(p,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function oE(s,o,l,d){return[s,!0,!1,o,null,0,d,l,null,null,null]}function Dg(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const p=l[d+1];if(-1!==p){const v=s.data[p];fd(l[d]),v.contentQueries(2,o[p],p)}}}function Wv(s,o){return s[_i]?s[Eu][Oi]=o:s[_i]=o,s[Eu]=o,o}function Zv(s,o,l){fd(0);const d=Nn(null);try{o(s,l)}finally{Nn(d)}}function aE(s){return s[Ga]||(s[Ga]=[])}function _S(s){return s.cleanup||(s.cleanup=[])}function yS(s,o){const l=s[ys],d=l?l.get(fm,null):null;d&&d.handleError(o)}function lE(s,o,l,d,h){for(let p=0;p<l.length;){const v=l[p++],E=l[p++];qv(s.data[v],o[v],d,E,h)}}function wc(s,o,l){const d=Wl(o,s);!function g(s,o,l){s.setValue(o,l)}(s[Ct],d,l)}function NP(s,o){const l=Pn(o,s),d=l[Ye];!function PP(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(d,l);const h=l[Cn];null!==h&&null===l[yr]&&(l[yr]=Vd(h,l[ys])),cE(d,l,l[pn])}function cE(s,o,l){ju(o);try{const d=s.viewQuery;null!==d&&Zv(1,d,l);const h=s.template;null!==h&&dS(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Dg(s,o),s.staticViewQueries&&Zv(2,s.viewQuery,l);const p=s.components;null!==p&&function FP(s,o){for(let l=0;l<o.length;l++)NP(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[wt]&=-5,Ja()}}let bS=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(d,h,p){const v=typeof Zone>"u"?null:Zone.current,E=new Mu(d,R=>{this.all.has(R)&&this.queue.set(R,v)},p);let I;this.all.add(E),E.notify();const S=()=>{E.cleanup(),I?.(),this.all.delete(E),this.queue.delete(E)};return I=h?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[d,h]of this.queue)this.queue.delete(d),h?h.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=Nt({token:s,providedIn:"root",factory:()=>new s}),o})();function Kv(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?p=E:1==p?h=Ve(h,E):2==p&&(d=Ve(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Tg(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(un(p)),Ni(p)){for(let E=vi;E<p.length;E++){const I=p[E],S=I[Ye].firstChild;null!==S&&Tg(I[Ye],I,S,d)}p[ii]!==p[Cn]&&d.push(p[ii])}const v=l.type;if(8&v)Tg(s,o,l.child,d);else if(32&v){const E=uh(l,o);let I;for(;I=E();)d.push(I)}else if(16&v){const E=uT(o,l);if(Array.isArray(E))d.push(...E);else{const I=kd(o[bn]);Tg(I[Ye],I,E,d,!0)}}l=h?l.projectionNext:l.next}return d}function Yv(s,o,l,d=!0){const h=o[Xo],p=h.rendererFactory,v=h.afterRenderEventManager;p.begin?.(),v?.begin();try{wS(s,o,s.template,l)}catch(I){throw d&&yS(o,I),I}finally{p.end?.(),h.effectManager?.flush(),v?.end()}}function wS(s,o,l,d){const h=o[wt];if(256!=(256&h)){o[Xo].effectManager?.flush(),ju(o);try{od(o),function la(s){return It.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&dS(s,o,l,2,d);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Co(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Cs(o,S,0,null),tl(o,0)}if(function UP(s){for(let o=cg(s);null!==o;o=fh(o)){if(!o[Nl])continue;const l=o[ri];for(let d=0;d<l.length;d++){Of(l[d])}}}(o),ES(o,2),null!==s.contentQueries&&Dg(s,o),v){const S=s.contentCheckHooks;null!==S&&Co(o,S)}else{const S=s.contentHooks;null!==S&&Cs(o,S,1),tl(o,1)}!function yP(s,o){const l=s.hostBindingOpCodes;if(null===l)return;const d=Zw(o,ho);try{for(let h=0;h<l.length;h++){const p=l[h];if(p<0)Hs(~p);else{const v=p,E=l[++h],I=l[++h];hd(E,v),d.runInContext(I,2,o[v])}}}finally{null===o[ho]&&lS(o,ho),Hs(-1)}}(s,o);const E=s.components;null!==E&&Ih(o,E,0);const I=s.viewQuery;if(null!==I&&Zv(2,I,d),v){const S=s.viewCheckHooks;null!==S&&Co(o,S)}else{const S=s.viewHooks;null!==S&&Cs(o,S,2),tl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[wt]&=-73,Pu(o)}finally{Ja()}}}function ES(s,o){for(let l=cg(s);null!==l;l=fh(l))for(let d=vi;d<l.length;d++)vt(l[d],o)}function BP(s,o,l){vt(Pn(o,s),l)}function vt(s,o){if(!function Nu(s){return 128==(128&s[wt])}(s))return;const l=s[Ye];if(80&s[wt]&&0===o||1024&s[wt]||2===o)wS(l,s,l.template,s[pn]);else if(s[co]>0){ES(s,1);const h=s[Ye].components;null!==h&&Ih(s,h,1)}}function Ih(s,o,l){for(let d=0;d<o.length;d++)BP(s,o[d],l)}class Sa{get rootNodes(){const o=this._lView,l=o[Ye];return Tg(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(o){this._lView[pn]=o}get destroyed(){return 256==(256&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[yn];if(Ni(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(gn(o,d),$e(l,d))}this._attachedToViewContainer=!1}rs(this._lView[Ye],this._lView)}onDestroy(o){!function bo(s,o){if(256==(256&s[wt]))throw new ne(911,!1);null===s[Vs]&&(s[Vs]=[]),s[Vs].push(o)}(this._lView,o)}markForCheck(){bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-129}reattach(){this._lView[wt]|=128}detectChanges(){Yv(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q(s,o){rm(s,o,o[Ct],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=o}}class Ec extends Sa{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Yv(o[Ye],o,o[pn],!1)}checkNoChanges(){}get context(){return null}}class _m extends cm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Zt(o);return new Bd(l,this.ngModule)}}function Qv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Ch{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=An(d);const h=this.injector.get(o,Uv,d);return h!==Uv||l===Uv?h:this.parentInjector.get(o,l,d)}}class Bd extends Pw{get inputs(){const o=this.componentDef,l=o.inputTransforms,d=Qv(o.inputs);if(null!==l)for(const h of d)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return d}get outputs(){return Qv(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function bu(s){return s.map(za).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,h){let p=(h=h||this.ngModule)instanceof pl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Ch(o,p):o,E=v.get(Lw,null);if(null===E)throw new ne(407,!1);const F={rendererFactory:E,sanitizer:v.get(oP,null),effectManager:v.get(bS,null),afterRenderEventManager:v.get(jw,null)},G=E.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ve=d?function bP(s,o,l,d){const p=d.get(rS,!1)||l===Me.ShadowDom,v=s.selectRootElement(o,p);return function wP(s){uS(s)}(v),v}(G,d,this.componentDef.encapsulation,v):T(G,K,function jr(s){const o=s.toLowerCase();return"svg"===o?Rf:"math"===o?"math":null}(K)),_t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ae=null;null!==ve&&(Ae=Vd(ve,v,!0));const Ft=Gv(0,null,null,1,0,null,null,null,null,null,null),Tt=$v(null,Ft,null,_t,null,null,F,G,v,null,Ae);let _n,$r;ju(Tt);try{const Js=this.componentDef;let su,Hb=null;Js.findHostDirectiveDefs?(su=[],Hb=new Map,Js.findHostDirectiveDefs(Js,su,Hb),su.push(Js)):su=[Js];const yC=function _l(s,o){const l=s[Ye],d=Vt;return s[d]=o,pm(l,d,2,"#host",null)}(Tt,ve),iL=function jP(s,o,l,d,h,p,v){const E=h[Ye];!function xS(s,o,l,d){for(const h of s)o.mergedAttrs=so(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Kv(o,o.mergedAttrs,!0),null!==l&&mw(d,l,o))}(d,s,o,v);let I=null;null!==o&&(I=Vd(o,h[ys]));const S=p.rendererFactory.createRenderer(o,l);let R=16;l.signals?R=4096:l.onPush&&(R=64);const F=$v(h,Xw(l),null,R,h[s.index],s,p,S,null,null,I);return E.firstCreatePass&&Ud(E,s,d.length-1),Wv(h,F),h[s.index]=F}(yC,ve,Js,su,Tt,F,G);$r=Ou(Ft,Vt),ve&&function CS(s,o,l,d){if(d)Ha(s,l,["ng-version",WT.full]);else{const{attrs:h,classes:p}=function _r(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!Ki(h))break;h=p}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&Ha(s,l,h),p&&p.length>0&&fT(s,l,p.join(" "))}}(G,Js,ve,d),void 0!==l&&function DS(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=l[h];d.push(null!=p?Array.from(p):null)}}($r,this.ngContentSelectors,l),_n=function IS(s,o,l,d,h,p){const v=Gn(),E=h[Ye],I=Li(v,h);mS(E,h,v,l,null,d);for(let R=0;R<l.length;R++)Ui(Ts(h,E,v.directiveStart+R,v),h);nE(E,h,v),I&&Ui(I,h);const S=Ts(h,E,v.directiveStart+v.componentOffset,v);if(s[pn]=h[pn]=S,null!==p)for(const R of p)R(S,o);return Ig(E,v,s),S}(iL,Js,su,Hb,Tt,[dE]),cE(Ft,Tt,null)}finally{Ja()}return new Xv(this.componentType,_n,dm($r,Tt),Tt,$r)}}class Xv extends HT{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Ec(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const p=this._rootLView;lE(p[Ye],p,h,o,l),this.previousInputValues.set(o,l),bg(Pn(this._tNode.index,p))}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function dE(){const s=Gn();da(pe()[Ye],s)}function Aa(s){let o=function vm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Yi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ne(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Sg(s.inputs),v.inputTransforms=Sg(s.inputTransforms),v.declaredInputs=Sg(s.declaredInputs),v.outputs=Sg(s.outputs);const E=h.hostBindings;E&&hE(s,E);const I=h.viewQuery,S=h.contentQueries;if(I&&TS(s,I),S&&uE(s,S),$(s.inputs,h.inputs),$(s.declaredInputs,h.declaredInputs),$(s.outputs,h.outputs),null!==h.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),$(v.inputTransforms,h.inputTransforms)),Yi(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const E=p[v];E&&E.ngInherit&&E(s),E===Aa&&(l=!1)}}o=Object.getPrototypeOf(o)}!function HP(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=so(h.hostAttrs,l=so(l,h.hostAttrs))}}(d)}function Sg(s){return s===st?{}:s===We?[]:s}function TS(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function uE(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function hE(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}function Mg(s){const o=s.inputConfig,l={};for(const d in o)if(o.hasOwnProperty(d)){const h=o[d];Array.isArray(h)&&h[2]&&(l[d]=h[2])}s.inputTransforms=l}function kg(s){return!!gE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function gE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function vl(s,o,l){return s[o]=l}function Cr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function ty(s,o,l,d){const h=pe();return Cr(h,Is(),o)&&(Xt(),Ta(kn(),h,s,o,l,d)),ty}function jd(s,o,l,d){return Cr(s,Is(),l)?o+ee(l)+d:Bt}function Em(s,o,l,d,h,p){const E=function Dh(s,o,l,d){const h=Cr(s,o,l);return Cr(s,o+1,d)||h}(s,function Fr(){return It.lFrame.bindingIndex}(),l,h);return ai(2),E?o+ee(l)+d+ee(h)+p:Bt}function Ic(s,o,l,d,h,p,v,E){const I=pe(),S=Xt(),R=s+Vt,F=S.firstCreatePass?function TE(s,o,l,d,h,p,v,E,I){const S=o.consts,R=pm(o,s,4,v||null,js(S,E));tE(o,l,R,js(S,I)),da(o,R);const F=R.tView=Gv(2,R,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,I,o,l,d,h,p,v):S.data[R];Pr(F,!1);const G=Sm(S,I,F,s);qn()&&Nd(S,I,G,F),Ui(G,I),Wv(I,I[R]=oE(G,I,G,F)),or(F)&&Yw(S,I,F),null!=v&&Qw(I,F,E)}let Sm=function SE(s,o,l,d){return zs(!0),o[Ct].createComment("")};function ME(s){return wr(function Ql(){return It.lFrame.contextLView}(),Vt+s)}function ly(s,o,l){const d=pe();return Cr(d,Is(),o)&&Qs(Xt(),kn(),d,s,o,d[Ct],l,!1),ly}function cy(s,o,l,d,h){const v=h?"class":"style";lE(s,l,o.inputs[v],v,d)}function jg(s,o,l,d){const h=pe(),p=Xt(),v=Vt+s,E=h[Ct],I=p.firstCreatePass?function zS(s,o,l,d,h,p){const v=o.consts,I=pm(o,s,2,d,js(v,h));return tE(o,l,I,js(v,p)),null!==I.attrs&&Kv(I,I.attrs,!1),null!==I.mergedAttrs&&Kv(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(v,p,h,o,l,d):p.data[v],S=kE(p,h,I,E,o,s);h[v]=S;const R=or(I);return Pr(I,!0),mw(E,S,I),32!=(32&I.flags)&&qn()&&Nd(p,h,S,I),0===function Lu(){return It.lFrame.elementDepthCount}()&&Ui(S,h),function Ya(){It.lFrame.elementDepthCount++}(),R&&(Yw(p,h,I),Ig(p,I,h)),null!==d&&Qw(h,I),jg}function Am(){let s=Gn();oi()?xo():(s=s.parent,Pr(s,!1));const o=s;(function Eo(s){return It.skipHydrationRootTNode===s})(o)&&function mv(){It.skipHydrationRootTNode=null}(),function Pf(){It.lFrame.elementDepthCount--}();const l=Xt();return l.firstCreatePass&&(da(l,s),Pl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function nc(s){return 0!=(8&s.flags)}(o)&&cy(l,o,pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function xi(s){return 0!=(16&s.flags)}(o)&&cy(l,o,pe(),o.stylesWithoutHost,!1),Am}function dy(s,o,l,d){return jg(s,o,l,d),Am(),dy}let kE=(s,o,l,d,h,p)=>(zs(!0),T(d,h,function wi(){return It.lFrame.currentNamespace}()));function FE(){return pe()}function Mm(s){return!!s&&"function"==typeof s.then}function WS(s){return!!s&&"function"==typeof s.subscribe}function fy(s,o,l,d){const h=pe(),p=Xt(),v=Gn();return function UE(s,o,l,d,h,p,v){const E=or(d),S=s.firstCreatePass&&_S(s),R=o[pn],F=aE(o);let G=!0;if(3&d.type||v){const Le=Li(d,o),Qe=v?v(Le):Le,_t=F.length,Ae=v?Tt=>v(un(Tt[d.index])):d.index;let Ft=null;if(!v&&E&&(Ft=function VE(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===l&&h[p+1]===d){const E=o[Ga],I=h[p+2];return E.length>I?E[I]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,d.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=p,Ft.__ngLastListenerFn__=p,G=!1;else{p=BE(d,o,R,p,!1);const Tt=l.listen(Qe,h,p);F.push(p,Tt),S&&S.push(h,Ae,_t,_t+1)}}else p=BE(d,o,R,p,!1);const K=d.outputs;let ve;if(G&&null!==K&&(ve=K[h])){const Le=ve.length;if(Le)for(let Qe=0;Qe<Le;Qe+=2){const _n=o[ve[Qe]][ve[Qe+1]].subscribe(p),$r=F.length;F.push(p,_n),S&&S.push(h,d.index,$r,-($r+1))}}}(p,h,h[Ct],v,s,o,d),fy}function Ma(s,o,l,d){try{return br(6,o,l),!1!==l(d)}catch(h){return yS(s,h),!1}finally{br(7,o,l)}}function BE(s,o,l,d,h){return function p(v){if(v===Function)return d;bg(s.componentOffset>-1?Pn(s.index,o):o);let I=Ma(o,l,d,v),S=p.__ngNextListenerFn__;for(;S;)I=Ma(o,l,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&v.preventDefault(),I}}function jE(s=1){return function zu(s){return(It.lFrame.contextLView=function Jl(s,o){for(;s>0;)o=o[bs],s--;return o}(s,It.lFrame.contextLView))[pn]}(s)}function KP(s,o){let l=null;const d=function vu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Sl(s,p,!0):yu(d,p))return h}else l=h}return l}function my(s){const o=pe()[bn][gi];if(!o.projection){const d=o.projection=Be(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const v=s?KP(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:d[v]=p,h[v]=p),p=p.next}}}function km(s,o=0,l){const d=pe(),h=Xt(),p=pm(h,Vt+s,16,null,l||null);null===p.projection&&(p.projection=o),xo(),(!d[yr]||aa())&&32!=(32&p.flags)&&function hT(s,o,l){fw(o[Ct],0,o,l,Jf(s,l,o),im(l.parent||o[gi],l,o))}(h,d,p)}function py(s,o,l){return HE(s,"",o,"",l),py}function HE(s,o,l,d,h){const p=pe(),v=jd(p,o,l,d);return v!==Bt&&Qs(Xt(),kn(),p,s,v,p[Ct],h,!1),HE}function kh(s,o){return s<<17|o<<2}function yl(s){return s>>17&32767}function Hg(s){return 2|s}function zd(s){return(131068&s)>>2}function _y(s,o){return-131069&s|o<<2}function vy(s){return 1|s}function GE(s,o,l,d,h){const p=s[l+1],v=null===o;let E=d?yl(p):zd(p),I=!1;for(;0!==E&&(!1===I||v);){const R=s[E+1];iA(s[E],o)&&(I=!0,s[E+1]=d?vy(R):Hg(R)),E=d?yl(R):zd(R)}I&&(s[l+1]=d?Hg(p):vy(p))}function iA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ks(s,o)>=0}function XE(s,o){return function Fo(s,o,l,d){const h=pe(),p=Xt(),v=ai(2);p.firstUpdatePass&&function uA(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Xi()],v=function JE(s,o){return o>=s.expandoStartIndex}(s,l);(function yy(s,o){return 0!=(s.flags&(o?8:16))})(p,d)&&null===o&&!v&&(o=!1),o=function ex(s,o,l,d){const h=function Io(s){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Nh(l=Oh(null,s,o,l,d),o.attrs,d),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Oh(h,s,o,l,d),null===p){let I=function tx(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==zd(d))return s[yl(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=Oh(null,s,o,I[1],d),I=Nh(I,o.attrs,d),function hA(s,o,l,d){s[yl(l?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function nx(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Nh(d,s[p].hostAttrs,l);return Nh(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function tA(s,o,l,d,h,p){let v=p?o.classBindings:o.styleBindings,E=yl(v),I=zd(v);s[d]=l;let R,S=!1;if(Array.isArray(l)?(R=l[1],(null===R||Ks(l,R)>0)&&(S=!0)):R=l,h)if(0!==I){const G=yl(s[E+1]);s[d+1]=kh(G,E),0!==G&&(s[G+1]=_y(s[G+1],d)),s[E+1]=function $E(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=kh(E,0),0!==E&&(s[E+1]=_y(s[E+1],d)),E=d;else s[d+1]=kh(I,0),0===E?E=d:s[I+1]=_y(s[I+1],d),I=d;S&&(s[d+1]=Hg(s[d+1])),GE(s,R,d,!0),GE(s,R,d,!1),function nA(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ks(p,o)>=0&&(l[d+1]=vy(l[d+1]))}(o,R,s,d,p),v=kh(E,I),p?o.classBindings=v:o.styleBindings=v}(h,p,o,l,v,d)}}(p,s,v,d),o!==Bt&&Cr(h,v,o)&&function fA(s,o,l,d,h,p,v,E){if(!(3&o.type))return;const I=s.data,S=I[E+1],R=function eA(s){return 1==(1&s)}(S)?mA(I,o,l,h,zd(S),v):void 0;Om(R)||(Om(p)||function JS(s){return 2==(2&s)}(S)&&(p=mA(I,null,l,h,E,v)),function Pd(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:Cd.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Cd.Important),s.setStyle(l,d,h,p))}}(d,v,Wl(Xi(),l),h,p))}(p,p.data[Xi()],h,h[Ct],s,h[v+1]=function pA(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Y(ml(s)))),s}(o,l),d,v)}(s,o,null,!0),XE}function Oh(s,o,l,d,h){let p=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(p=o[E],d=Nh(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Nh(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tn(s,v,!!l||o[++p]))}return void 0===s?null:s}function mA(s,o,l,d,h,p){const v=null===o;let E;for(;h>0;){const I=s[h],S=Array.isArray(I),R=S?I[1]:I,F=null===R;let G=l[h+1];G===Bt&&(G=F?We:void 0);let K=F?ts(G,d):R===d?G:void 0;if(S&&!Om(K)&&(K=ts(I,d)),Om(K)&&(E=K,v))return E;const ve=s[h+1];h=v?yl(ve):zd(ve)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(E=ts(I,d))}return E}function Om(s){return void 0!==s}function by(s,o=""){const l=pe(),d=Xt(),h=s+Vt,p=d.firstCreatePass?pm(d,h,1,o,null):d.data[h],v=ox(d,l,p,o,s);l[h]=v,qn()&&Nd(d,l,v,p),Pr(p,!1)}let ox=(s,o,l,d,h)=>(zs(!0),function f(s,o){return s.createText(o)}(o[Ct],d));function zg(s){return Nm("",s,""),zg}function Nm(s,o,l){const d=pe(),h=jd(d,s,o,l);return h!==Bt&&wc(d,Xi(),h),Nm}function lx(s,o,l,d,h){const p=pe(),v=Em(p,s,o,l,d,h);return v!==Bt&&wc(p,Xi(),v),lx}function Ey(s,o,l){const d=pe();return Cr(d,Is(),o)&&Qs(Xt(),kn(),d,s,o,d[Ct],l,!0),Ey}const $d=void 0;var CA=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IA(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ph={};function $g(s){const o=function SA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=xy(o);if(l)return l;const d=o.split("-")[0];if(l=xy(d),l)return l;if("en"===d)return CA;throw new ne(701,!1)}function Sx(s){return $g(s)[Fh.PluralCase]}function xy(s){return s in Ph||(Ph[s]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[s]),Ph[s]}var Fh=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Fh||{});const Pm="en-US";let Ax=Pm;function Fy(s,o,l,d,h){if(s=Re(s),Array.isArray(s))for(let p=0;p<s.length;p++)Fy(s[p],o,l,d,h);else{const p=Xt(),v=pe(),E=Gn();let I=wh(s)?s:Re(s.provide);const S=NT(s),R=1048575&E.providerIndexes,F=E.directiveStart,G=E.providerIndexes>>20;if(wh(s)||!s.multi){const K=new Ei(S,h,mm),ve=Vy(I,o,h?R:R+G,F);-1===ve?(nl(sc(E,v),p,I),qd(p,s,o.length),o.push(I),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(K),v.push(K)):(l[ve]=K,v[ve]=K)}else{const K=Vy(I,o,R+G,F),ve=Vy(I,o,R,R+G),Qe=ve>=0&&l[ve];if(h&&!Qe||!h&&!(K>=0&&l[K])){nl(sc(E,v),p,I);const _t=function Wd(s,o,l,d,h){const p=new Ei(s,l,mm);return p.multi=[],p.index=o,p.componentProviders=0,Ly(p,h,d&&!l),p}(h?Dc:Qx,l.length,h,d,S);!h&&Qe&&(l[ve].providerFactory=_t),qd(p,s,o.length,0),o.push(I),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(_t),v.push(_t)}else qd(p,s,K>-1?K:ve,Ly(l[h?ve:K],S,!h&&d));!h&&d&&Qe&&l[ve].componentProviders++}}}function qd(s,o,l,d){const h=wh(o),p=function GN(s){return!!s.useClass}(o);if(h||p){const I=(p?Re(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,I]):S[R+1].push(d,I)}else S.push(l,I)}}}function Ly(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Vy(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function Qx(s,o,l,d){return Xs(this.multi,[])}function Dc(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ts(l,l[Ye],this.providerFactory.index,d);p=E.slice(0,v),Xs(h,p);for(let I=v;I<E.length;I++)p.push(E[I])}else p=[],Xs(h,p);return p}function Xs(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Vh(s,o=[]){return l=>{l.providersResolver=(d,h)=>function Jg(s,o,l){const d=Xt();if(d.firstCreatePass){const h=Yi(s);Fy(l,d.data,d.blueprint,h,!0),Fy(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Zd{}class e_{}function Xx(s,o){return new Uh(s,o??null,[])}class Uh extends Zd{constructor(o,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _m(this);const h=Ri(o);this._bootstrapComponents=bc(h.bootstrap),this._r3Injector=JT(o,l,[{provide:Zd,useValue:this},{provide:cm,useValue:this.componentFactoryResolver},...d],Y(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Uy extends e_{constructor(o){super(),this.moduleType=o}create(o){return new Uh(this.moduleType,o,[])}}class nM extends Zd{constructor(o){super(),this.componentFactoryResolver=new _m(this),this.instance=null;const l=new Pv([...o.providers,{provide:Zd,useValue:this},{provide:cm,useValue:this.componentFactoryResolver}],o.parent||Nv(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jx(s,o,l=null){return new nM({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let iM=(()=>{var s;class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const h=MT(0,d.type),p=h.length>0?Jx([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,p)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=Nt({token:s,providedIn:"environment",factory:()=>new s(xt(pl))}),o})();function as(s){s.getStandaloneInjector=o=>o.get(iM).getOrCreateStandaloneInjector(s)}function Hy(s,o,l){const d=Qi()+s,h=pe();return h[d]===Bt?vl(h,d,l?o.call(l):o()):function wm(s,o){return s[o]}(h,d)}function nI(s,o,l,d,h,p){const v=o+l;return Cr(s,v,h)?vl(s,v+1,p?d.call(p,h):d(h)):function Tc(s,o){const l=s[o];return l===Bt?void 0:l}(s,v+1)}function s_(s,o){const l=Xt();let d;const h=s+Vt;l.firstCreatePass?(d=function _M(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks??=[]).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=po(d.type)),E=cn(mm);try{const I=ar(!1),S=p();return ar(I),function AE(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,pe(),h,S),S}finally{cn(E)}}function Hm(s,o,l){const d=s+Vt,h=pe(),p=wr(h,d);return function Yd(s,o){return s[Ye].data[o].pure}(h,d)?nI(h,Qi(),o,p.transform,l,p):p.transform(l)}function qy(s){return o=>{setTimeout(s,void 0,o)}}const Oa=class CF extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,p=l||(()=>null),v=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(p=qy(p),h&&(h=qy(h)),v&&(v=qy(v)));const E=super.subscribe({next:h,error:p,complete:v});return o instanceof X.w0&&o.add(E),E}};function cI(){return this._results[Symbol.iterator]()}class Bh{get changes(){return this._changes||(this._changes=new Oa)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Bh.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=cI)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=function H(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function P(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bM(s,o,l,d=!0){const h=o[Ye];if(function He(s,o,l,d){const h=vi+d,p=l.length;d>0&&(l[h-1][Oi]=o),d<p-vi?(o[Oi]=l[h],me(l,vi+d,o)):(l.push(o),o[Oi]=null),o[yn]=l;const v=o[Kc];null!==v&&l!==v&&function ot(s,o){const l=s[ri];o[bn]!==o[yn][yn][bn]&&(s[Nl]=!0),null===l?s[ri]=[o]:l.push(o)}(v,o);const E=o[ni];null!==E&&E.insertView(s),o[wt]|=128}(h,o,s,l),d){const p=dw(l,s),v=o[Ct],E=nm(v,s[ii]);null!==E&&function z(s,o,l,d,h,p){d[Cn]=h,d[gi]=o,rm(s,d,l,1,h,p)}(h,s[gi],v,o,E,p)}}let zm=(()=>{class o{}return o.__NG_ELEMENT_ID__=xM,o})();const wM=zm,EM=class extends wM{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,d){const h=function dI(s,o,l,d){const h=o.tView,E=$v(s,h,l,4096&s[wt]?4096:16,null,o,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[Kc]=s[o.index];const S=s[ni];return null!==S&&(E[ni]=S.createEmbeddedView(h)),cE(h,E,l),E}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:d});return new Sa(h)}};function xM(){return $m(Gn(),pe())}function $m(s,o){return 4&s.type?new EM(o,s,dm(s,o)):null}let a_=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lo,o})();function Lo(){return fI(Gn(),pe())}const Yy=a_,jh=class extends Yy{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return dm(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Mo(this._hostTNode,this._hostLView);if(ic(o)){const l=Ao(o,this._hostLView),d=So(o);return new Hn(l[Ye].data[d+8],l)}return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=l_(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(o,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=o.createEmbeddedViewImpl(l||{},p,null);return this.insertImpl(E,h,false),E}createComponent(o,l,d,h,p){const v=o&&!function A(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const Le=l||{};E=Le.index,d=Le.injector,h=Le.projectableNodes,p=Le.environmentInjector||Le.ngModuleRef}const I=v?o:new Bd(Zt(o)),S=d||this.parentInjector;if(!p&&null==I.ngModule){const Qe=(v?S:this.parentInjector).get(pl,null);Qe&&(p=Qe)}Zt(I.componentType??{});const K=I.create(S,h,null,p);return this.insertImpl(K.hostView,E,false),K}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,d){const h=o._lView;if(function sd(s){return Ni(s[yn])}(h)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const S=h[yn],R=new jh(S,S[gi],S[yn]);R.detach(R.indexOf(o))}}const v=this._adjustIndex(l),E=this._lContainer;return bM(E,h,v,!d),o.attachToViewContainerRef(),me(Qy(E),v,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=l_(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=gn(this._lContainer,l);d&&($e(Qy(this._lContainer),l),rs(d[Ye],d))}detach(o){const l=this._adjustIndex(o,-1),d=gn(this._lContainer,l);return d&&null!=$e(Qy(this._lContainer),l)?new Sa(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function l_(s){return s[8]}function Qy(s){return s[8]||(s[8]=[])}function fI(s,o){let l;const d=o[s.index];return Ni(d)?l=d:(l=oE(d,o,null,s),o[s.index]=l,Wv(o,l)),mI(l,o,s,d),new jh(l,s,o)}let mI=function pI(s,o,l,d){if(s[ii])return;let h;h=8&l.type?un(d):function Xy(s,o){const l=s[Ct],d=l.createComment(""),h=Li(o,s);return Ea(l,nm(l,h),d,function xa(s,o){return s.nextSibling(o)}(l,h),!1),d}(o,l),s[ii]=h};class d_{constructor(o){this.queryList=o,this.matches=null}clone(){return new d_(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const v=l.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new u_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==xI(o,l).matches&&this.queries[l].setDirty()}}class Jy{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class ls{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new ls(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Sc{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Sc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,AM(l,p)),this.matchTNodeWithReadOption(o,l,oc(l,o,p,!1,!1))}else d===zm?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,oc(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===xh||h===a_||h===zm&&4&l.type)this.addMatch(l.index,-2);else{const p=oc(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function AM(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function gI(s,o,l,d){return-1===l?function MM(s,o){return 11&s.type?dm(s,o):4&s.type?$m(s,o):null}(o,s):-2===l?function kM(s,o,l){return l===xh?dm(o,s):l===zm?$m(o,s):l===a_?fI(o,s):void 0}(s,o,d):Ts(s,s[Ye],l,o)}function eb(s,o,l,d){const h=o[ni].queries[d];if(null===h.matches){const p=s.data,v=l.matches,E=[];for(let I=0;I<v.length;I+=2){const S=v[I];E.push(S<0?null:gI(o,p[S],v[I+1],l.metadata.read))}h.matches=E}return h.matches}function Hh(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const v=eb(s,o,h,l);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)d.push(v[E/2]);else{const S=p[E+1],R=o[-I];for(let F=vi;F<R.length;F++){const G=R[F];G[Kc]===G[yn]&&Hh(G[Ye],G,S,d)}if(null!==R[ri]){const F=R[ri];for(let G=0;G<F.length;G++){const K=F[G];Hh(K[Ye],K,S,d)}}}}}return d}function _I(s){const o=pe(),l=Xt(),d=Bu();fd(d+1);const h=xI(l,d);if(s.dirty&&function oa(s){return 4==(4&s[wt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Hh(l,o,d,[]):eb(l,o,h,d);s.reset(p,rP),s.notifyOnChanges()}return!0}return!1}function vI(s,o,l){const d=Xt();d.firstCreatePass&&(EI(d,new Jy(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),wI(d,pe(),o)}function h_(s,o,l,d){const h=Xt();if(h.firstCreatePass){const p=Gn();EI(h,new Jy(o,l,d),p.index),function RM(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}wI(h,pe(),l)}function yI(){return function bI(s,o){return s[ni].queries[o].queryList}(pe(),Bu())}function wI(s,o,l){const d=new Bh(4==(4&l));(function xP(s,o,l,d){const h=aE(o);h.push(l),s.firstCreatePass&&_S(s).push(d,h.length-1)})(s,o,d,d.destroy),null===o[ni]&&(o[ni]=new u_),o[ni].queries.push(new d_(d))}function EI(s,o,l){null===s.queries&&(s.queries=new ls),s.queries.track(new Sc(o,l))}function xI(s,o){return s.queries.getByIndex(o)}function tb(s,o){return $m(s,o)}function nb(s){return!!Ri(s)}const Ym=new fn("Application Initializer");let tu=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h}),this.appInits=Ot(Ym,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const p of this.appInits){const v=p();if(Mm(v))d.push(v);else if(WS(v)){const E=new Promise((I,S)=>{v.subscribe({complete:I,error:S})});d.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),hb=(()=>{var s;class o{log(d){console.log(d)}warn(d){console.warn(d)}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const __=new fn("LocaleId",{providedIn:"root",factory:()=>Ot(__,ft.Optional|ft.SkipSelf)||function g_(){return typeof $localize<"u"&&$localize.locale||Pm}()}),fb=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let LI=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class GM{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let qM=(()=>{var s;class o{compileModuleSync(d){return new Uy(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),v=bc(Ri(d).declarations).reduce((E,I)=>{const S=Zt(I);return S&&E.push(new Bd(S)),E},[]);return new GM(h,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function $I(...s){}class Ci{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function GI(){const s="function"==typeof en.requestAnimationFrame;let o=en[s?"requestAnimationFrame":"setTimeout"],l=en[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function ep(s){const o=()=>{!function Ac(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(en,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Mc(s),s.isCheckStableRunning=!0,Gh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Mc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,v,E)=>{try{return tp(s),l.invokeTask(h,p,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),yb(s)}},onInvoke:(l,d,h,p,v,E,I)=>{try{return tp(s),l.invoke(h,p,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),yb(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Mc(s),Gh(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new ne(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,Na,$I,$I);try{return p.runTask(v,l,d)}finally{p.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Na={};function Gh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Mc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function tp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yb(s){s._nesting--,Gh(s)}class ik{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const qI=new fn("",{providedIn:"root",factory:WI});function WI(){const s=Ot(Ci);let o=!0;const l=new J.y(h=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(o),h.complete()})}),d=new J.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const v=s.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,ie.T)(l,d.pipe((0,_e.B)()))}const ZI=new fn(""),KI=new fn("");let bb,rk=(()=>{var s;class o{constructor(d,h,p){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bb||(function sk(s){bb=s}(p),p.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==v),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,p){return[]}}return(s=o).\u0275fac=function(d){return new(d||s)(xt(Ci),xt(YI),xt(KI))},s.\u0275prov=Nt({token:s,factory:s.\u0275fac}),o})(),YI=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return bb?.findTestabilityInTree(this,d,h)??null}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),kc=null;const wb=new fn("AllowMultipleToken"),np=new fn("PlatformDestroyListeners"),ip=new fn("appBootstrapListener");class Eb{constructor(o,l){this.name=o,this.token=l}}function Ib(s,o,l=[]){const d=`Platform: ${o}`,h=new fn(d);return(p=[])=>{let v=Cb();if(!v||v.injector.get(wb,!1)){const E=[...l,...p,{provide:h,useValue:!0}];s?s(E):function xb(s){if(kc&&!kc.get(wb,!1))throw new ne(400,!1);(function qh(){!function nd(s){zl=s}(()=>{throw new ne(600,!1)})})(),kc=s;const o=s.get(rp);(function nu(s){s.get(FT,null)?.forEach(l=>l())})(s)}(function iu(s=[],o){return Da.create({name:o,providers:[{provide:Dw,useValue:"platform"},{provide:np,useValue:new Set([()=>kc=null])},...s]})}(E,d))}return function ak(s){const o=Cb();if(!o)throw new ne(401,!1);return o}()}}function Cb(){return kc?.get(rp)??null}let rp=(()=>{var s;class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const p=function Tb(s="zone.js",o){return"noop"===s?new ik:"zone.js"===s?new Ci(o):s}(h?.ngZone,function Db(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const v=function By(s,o,l){return new Uh(s,o,l)}(d.moduleType,this.injector,function eC(s){return[{provide:Ci,useFactory:s},{provide:mg,multi:!0,useFactory:()=>{const o=Ot(ck,{optional:!0});return()=>o.initialize()}},{provide:sp,useFactory:JI},{provide:qI,useFactory:WI}]}(()=>p)),E=v.injector.get(fm,null);return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:S=>{E.handleError(S)}});v.onDestroy(()=>{Wh(this._modules,v),I.unsubscribe()})}),function Sb(s,o,l){try{const d=l();return Mm(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,p,()=>{const I=v.injector.get(tu);return I.runInitializers(),I.donePromise.then(()=>(function MA(s){tt(s,"Expected localeId to be defined"),"string"==typeof s&&(Ax=s.toLowerCase().replace(/_/g,"-"))}(v.injector.get(__,Pm)||Pm),this._moduleDoBootstrap(v),v))})})}bootstrapModule(d,h=[]){const p=b_({},h);return function UF(s,o,l){const d=new Uy(l);return Promise.resolve(d)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(d){const h=d.injector.get(Rc);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new ne(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(np,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(d){return new(d||s)(xt(Da))},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function b_(s,o){return Array.isArray(o)?o.reduce(b_,s):{...s,...o}}let Rc=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(sp),this.zoneIsStable=Ot(qI),this.componentTypes=[],this.components=[],this.isStable=Ot(LI).hasPendingTasks.pipe((0,Ne.w)(d=>d?(0,ae.of)(!1):this.zoneIsStable),(0,fe.x)(),(0,_e.B)()),this._injector=Ot(pl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const p=d instanceof Pw;if(!this._injector.get(tu).done)throw!p&&Ls(d),new ne(405,!1);let E;E=p?d:this._injector.get(cm).resolveComponentFactory(d),this.componentTypes.push(E.componentType);const I=function QI(s){return s.isBoundToModule}(E)?void 0:this._injector.get(Zd),R=E.create(Da.NULL,[],h||E.selector,I),F=R.location.nativeElement,G=R.injector.get(ZI,null);return G?.registerApplication(F),R.onDestroy(()=>{this.detachView(R.hostView),Wh(this.components,R),G?.unregisterApplication(F)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Wh(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(ip,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Wh(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ne(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Wh(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}const sp=new fn("",{providedIn:"root",factory:()=>Ot(fm).handleError.bind(void 0)});function JI(){const s=Ot(Ci),o=Ot(fm);return l=>s.runOutsideAngular(()=>o.handleError(l))}let ck=(()=>{var s;class o{constructor(){this.zone=Ot(Ci),this.applicationRef=Ot(Rc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Nt({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Ab(){return!1}let tC=(()=>{class o{}return o.__NG_ELEMENT_ID__=fk,o})();function fk(s){return function HF(s,o,l){if(mo(s)&&!l){const d=Pn(s.index,o);return new Sa(d,d)}return 47&s.type?new Sa(o[bn],o):null}(Gn(),pe(),16==(16&s))}class rC{constructor(){}supports(o){return kg(o)}create(o){return new lp(o)}}const ap=(s,o)=>o;class lp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ap}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const v=!d||l&&l.currentIndex<oC(d,h,p)?l:d,E=oC(v,h,p),I=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{p||(p=[]);const S=E-h,R=I-h;if(S!=R){for(let G=0;G<S;G++){const K=G<p.length?p[G]:p[G]=0,ve=K+G;R<=ve&&ve<S&&(p[G]=K+1)}p[v.previousIndex]=R-S}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!kg(o))throw new ne(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],v=this._trackByFn(E,p),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,p,v,E)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,v,E),d=!0),l=l._next}else h=0,function pE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new gk(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new sC),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class gk{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _k{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class sC{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new _k,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oC(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class aC{constructor(){}supports(o){return o instanceof Map||gE(o)}create(){return new vk}}class vk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||gE(o)))throw new ne(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const d=new GF(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class GF{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lC(){return new C_([new rC])}let C_=(()=>{var s;class o{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||lC()),deps:[[o,new ul,new _a]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new ne(901,!1)}}return(s=o).\u0275prov=Nt({token:s,providedIn:"root",factory:lC}),o})();function ru(){return new Fb([new aC])}let Fb=(()=>{var s;class o{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||ru()),deps:[[o,new ul,new _a]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new ne(901,!1)}}return(s=o).\u0275prov=Nt({token:s,providedIn:"root",factory:ru}),o})();const wk=Ib(null,"core",[]);let Ek=(()=>{var s;class o{constructor(d){}}return(s=o).\u0275fac=function(d){return new(d||s)(xt(Rc))},s.\u0275mod=Yo({type:s}),s.\u0275inj=xn({}),o})();function Sk(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function _C(s){const o=Zt(s);if(!o)return null;const l=new Bd(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4097:(ut,Ce,O)=>{O.d(Ce,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(534);(0,u.registerVersion)("firebase","9.23.0","app")},120:(ut,Ce,O)=>{O.d(Ce,{Z:()=>u.Z});var u=O(3106);u.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(ut,Ce,O)=>{O.r(Ce);var u=O(5861),X=O(3106),N=O(9058),J=O(534),ie=O(7582),ae=O(7879),_e=O(4537);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Re=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new ae.Yd("@firebase/auth");function ne(y,...f){pt.logLevel<=ae.in.ERROR&&pt.error(`Auth (${J.SDK_VERSION}): ${y}`,...f)}function ye(y,...f){throw qe(y,...f)}function ee(y,...f){return qe(y,...f)}function De(y,f,g){const w=Object.assign(Object.assign({},Re()),{[f]:g});return new N.LL("auth","Firebase",w).create(f,{appName:y.name})}function Pe(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ye(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return Ge.create(y,...f)}function le(y,f,...g){if(!y)throw qe(f,...g)}function bt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ne(f),new Error(f)}function Ht(y,f){y||bt(f)}function hi(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Gi(){return"http:"===ps()||"https:"===ps()}function ps(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class gs{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ht(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gi()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ce(y,f){Ht(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class he{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new gs(3e4,6e4);function Ie(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Te(y,f,g,w){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(y,f,g,w,T={}){return ze(y,T,(0,u.Z)(function*(){let k={},z={};w&&("GET"===f?z=w:k={body:JSON.stringify(w)});const Q=(0,N.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Oe=yield y._getAdditionalHeaders();return Oe["Content-Type"]="application/json",y.languageCode&&(Oe["X-Firebase-Locale"]=y.languageCode),he.fetch()(Nt(y,y.config.apiHost,g,Q),Object.assign({method:f,headers:Oe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function ze(y,f,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},be),f);try{const T=new vn(y),k=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield k.json();if("needConfirmation"in z)throw xn(y,"account-exists-with-different-credential",z);if(k.ok&&!("errorMessage"in z))return z;{const Q=k.ok?z.errorMessage:z.error.message,[Oe,He]=Q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw xn(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Oe)throw xn(y,"email-already-in-use",z);if("USER_DISABLED"===Oe)throw xn(y,"user-disabled",z);const ot=w[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw De(y,ot,He);ye(y,ot)}}catch(T){if(T instanceof N.ZR)throw T;ye(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function gt(y,f,g,w){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(y,f,g,w,T={}){const k=yield Te(y,f,g,w,T);return"mfaPendingCredential"in k&&ye(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Nt(y,f,g,w){const T=`${f}${g}?${w}`;return y.config.emulator?ce(y.config,T):`${y.config.apiScheme}://${T}`}class vn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ee(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=ee(y,f,w);return T.customData._tokenResponse=g,T}function sn(){return(sn=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function sr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ft(){return(ft=(0,u.Z)(function*(y,f=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(f),T=Rt(w);le(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,z=k?.sign_in_provider;return{claims:T,token:w,authTime:sr(zt(T.auth_time)),issuedAtTime:sr(zt(T.iat)),expirationTime:sr(zt(T.exp)),signInProvider:z||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(y){return 1e3*Number(y)}function Rt(y){const[f,g,w]=y.split(".");if(void 0===f||void 0===g||void 0===w)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(g);return T?JSON.parse(T):(ne("Failed to decode base64 JWT payload"),null)}catch(T){return ne("Caught error parsing JWT payload as JSON",T?.toString()),null}}function In(y,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof N.ZR&&function en({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class mi{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ba{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(y){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,u.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),T=yield In(y,function no(y,f){return rr.apply(this,arguments)}(g,{idToken:w}));le(T?.users.length,g,"internal-error");const k=T.users[0];y._notifyReloadListener(k);const z=null!==(f=k.providerUserInfo)&&void 0!==f&&f.length?function ro(y){return y.map(f=>{var{providerId:g}=f,w=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(k.providerUserInfo):[],Q=function io(y,f){return[...y.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}(y.providerData,z),ot=!!y.isAnonymous&&!(y.email&&k.passwordHash||Q?.length),rt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Q,metadata:new Ba(k.createdAt,k.lastLoginAt),isAnonymous:ot};Object.assign(y,rt)}),Wi.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(y){const f=(0,N.m9)(y);yield Jt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(y,f){const g=yield ze(y,{},(0,u.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:k}=y.config,z=Nt(y,T,"/v1/token",`key=${k}`),Q=yield y._getAdditionalHeaders();return Q["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(z,{method:"POST",headers:Q,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){le(f.idToken,"internal-error"),le(typeof f.idToken<"u","internal-error"),le(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cn(y){const f=Rt(y);return le(f,"internal-error"),le(typeof f.exp<"u","internal-error"),le(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,u.Z)(function*(){return le(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:z}=yield function fr(y,f){return Fs.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(T,k,Number(z))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:T,expirationTime:k}=g,z=new Nr;return w&&(le("string"==typeof w,"internal-error",{appName:f}),z.refreshToken=w),T&&(le("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),k&&(le("number"==typeof k,"internal-error",{appName:f}),z.expirationTime=k),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Nr,this.toJSON())}_performRefresh(){return bt("not implemented")}}function Jn(y,f){le("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class ei{constructor(f){var{uid:g,auth:w,stsTokenManager:T}=f,k=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ba(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const w=yield In(g,g.stsTokenManager.getToken(g.auth,f));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Ua(y){return ft.apply(this,arguments)}(this,f)}reload(){return function $t(y){return _s.apply(this,arguments)}(this)}_assign(f){this!==f&&(le(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new ei(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,u.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Jt(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield In(f,function fi(y,f){return sn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,T,k,z,Q,Oe,He,ot;const rt=null!==(w=g.displayName)&&void 0!==w?w:void 0,gn=null!==(T=g.email)&&void 0!==T?T:void 0,rs=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Rd=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Xf=null!==(Q=g.tenantId)&&void 0!==Q?Q:void 0,mh=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,Jf=null!==(He=g.createdAt)&&void 0!==He?He:void 0,dg=null!==(ot=g.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Ea,emailVerified:em,isAnonymous:tm,providerData:Od,stsTokenManager:Oo}=g;le(Ea&&Oo,f,"internal-error");const nm=Nr.fromJSON(this.name,Oo);le("string"==typeof Ea,f,"internal-error"),Jn(rt,f.name),Jn(gn,f.name),le("boolean"==typeof em,f,"internal-error"),le("boolean"==typeof tm,f,"internal-error"),Jn(rs,f.name),Jn(Rd,f.name),Jn(Xf,f.name),Jn(mh,f.name),Jn(Jf,f.name),Jn(dg,f.name);const xa=new ei({uid:Ea,auth:f,email:gn,emailVerified:em,displayName:rt,isAnonymous:tm,photoURL:Rd,phoneNumber:rs,tenantId:Xf,stsTokenManager:nm,createdAt:Jf,lastLoginAt:dg});return Od&&Array.isArray(Od)&&(xa.providerData=Od.map(im=>Object.assign({},im))),mh&&(xa._redirectEventId=mh),xa}static _fromIdTokenResponse(f,g,w=!1){return(0,u.Z)(function*(){const T=new Nr;T.updateFromServerResponse(g);const k=new ei({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield Jt(k),k})()}}const Zi=new Map;function Ln(y){Ht(y instanceof Function,"Expected a class definition");let f=Zi.get(y);return f?(Ht(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Zi.set(y,f),f)}const pr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,u.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function j(y,f,g){return`firebase:${y}:${f}:${g}`}class B{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:T,name:k}=this.auth;this.fullUserKey=j(this.userKey,T.apiKey,k),this.fullPersistenceKey=j("persistence",T.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ei._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new B(Ln(pr),f,w);const T=(yield Promise.all(g.map(function(){var He=(0,u.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return He.apply(this,arguments)}}()))).filter(He=>He);let k=T[0]||Ln(pr);const z=j(w,f.config.apiKey,f.name);let Q=null;for(const He of g)try{const ot=yield He._get(z);if(ot){const rt=ei._fromJSON(f,ot);He!==k&&(Q=rt),k=He;break}}catch{}const Oe=T.filter(He=>He._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],Q&&(yield k._set(z,Q.toJSON())),yield Promise.all(g.map(function(){var He=(0,u.Z)(function*(ot){if(ot!==k)try{yield ot._remove(z)}catch{}});return function(ot){return He.apply(this,arguments)}}())),new B(k,f,w)):new B(k,f,w)})()}}function q(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(At(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ee(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ti(f))return"Blackberry";if(Ot(f))return"Webos";if(se(f))return"Safari";if((f.includes("chrome/")||Ke(f))&&!f.includes("edge/"))return"Chrome";if(xt(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ee(y=(0,N.z$)()){return/firefox\//i.test(y)}function se(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ke(y=(0,N.z$)()){return/crios\//i.test(y)}function At(y=(0,N.z$)()){return/iemobile/i.test(y)}function xt(y=(0,N.z$)()){return/android/i.test(y)}function ti(y=(0,N.z$)()){return/blackberry/i.test(y)}function Ot(y=(0,N.z$)()){return/webos/i.test(y)}function An(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vs(y=(0,N.z$)()){return An(y)||xt(y)||Ot(y)||ti(y)||/windows phone/i.test(y)||At(y)}function de(y,f=[]){let g;switch(y){case"Browser":g=q((0,N.z$)());break;case"Worker":g=`${q((0,N.z$)())}-${y}`;break;default:g=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${w}`}function Me(){return(Me=(0,u.Z)(function*(y){return(yield Te(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function st(y,f){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(y,f){return Te(y,"GET","/v2/recaptchaConfig",Ie(y,f))})).apply(this,arguments)}function Pt(y){return void 0!==y&&void 0!==y.getResponse}function Qt(y){return void 0!==y&&void 0!==y.enterprise}class Vn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function pi(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=T=>{const k=ee("internal-error");k.customData=T,g(k)},w.type="text/javascript",w.charset="UTF-8",function Un(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Jr(y){return`__${y}${Math.floor(1e6*Math.random())}`}class $c{constructor(f){this.type="recaptcha-enterprise",this.auth=Bn(f)}verify(f="verify",g=!1){var w=this;return(0,u.Z)(function*(){function k(){return k=(0,u.Z)(function*(Q){if(!g){if(null==Q.tenantId&&null!=Q._agentRecaptchaConfig)return Q._agentRecaptchaConfig.siteKey;if(null!=Q.tenantId&&void 0!==Q._tenantRecaptchaConfigs[Q.tenantId])return Q._tenantRecaptchaConfigs[Q.tenantId].siteKey}return new Promise(function(){var Oe=(0,u.Z)(function*(He,ot){st(Q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const gn=new Vn(rt);return null==Q.tenantId?Q._agentRecaptchaConfig=gn:Q._tenantRecaptchaConfigs[Q.tenantId]=gn,He(gn.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{ot(rt)})});return function(He,ot){return Oe.apply(this,arguments)}}())}),k.apply(this,arguments)}function z(Q,Oe,He){const ot=window.grecaptcha;Qt(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(Q,{action:f}).then(rt=>{Oe(rt)}).catch(()=>{Oe("NO_RECAPTCHA")})}):He(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Q,Oe)=>{(function T(Q){return k.apply(this,arguments)})(w.auth).then(He=>{if(!g&&Qt(window.grecaptcha))z(He,Q,Oe);else{if(typeof window>"u")return void Oe(new Error("RecaptchaVerifier is only supported in browser"));pi("https://www.google.com/recaptcha/enterprise.js?render="+He).then(()=>{z(He,Q,Oe)}).catch(ot=>{Oe(ot)})}}).catch(He=>{Oe(He)})})})()}}function gr(y,f,g){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(y,f,g,w=!1){const T=new $c(y);let k;try{k=yield T.verify(g)}catch{k=yield T.verify(g,!0)}const z=Object.assign({},f);return Object.assign(z,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class Zo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=k=>new Promise((z,Q)=>{try{z(f(k))}catch(Oe){Q(Oe)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const T of g.queue)yield T(f),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const k of w)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Gc{constructor(f,g,w,T){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oo(this),this.idTokenSubscription=new oo(this),this.beforeStateQueue=new Zo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=Ln(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,k;if(!w._deleted&&(w.persistenceManager=yield B.create(w,f),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let k=T,z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Q=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Oe=k?._redirectEventId,He=yield g.tryRedirectSignIn(f);(!Q||Q===Oe)&&He?.user&&(k=He.user,z=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(k)}catch(Q){k=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Q))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield Jt(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function qo(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const w=f?(0,N.m9)(f):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return f&&le(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Ln(f))}))}initializeRecaptchaConfig(){var f=this;return(0,u.Z)(function*(){const g=yield st(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Vn(g);null==f.tenantId?f._agentRecaptchaConfig=w:f._tenantRecaptchaConfigs[f.tenantId]=w,w.emailPasswordEnabled&&new $c(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,u.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&Ln(f)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield B.create(g,[Ln(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,T){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return le(z,this,"internal-error"),z.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,w,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=de(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const k=yield f._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function ht(y,...f){pt.logLevel<=ae.in.WARN&&pt.warn(`Auth (${J.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Bn(y){return(0,N.m9)(y)}class oo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ao(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function vu(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class lo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return bt("not implemented")}_getIdTokenResponse(f){return bt("not implemented")}_linkToIdToken(f,g){return bt("not implemented")}_getReauthenticationResolver(f){return bt("not implemented")}}function yu(y,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:resetPassword",Ie(y,f))})).apply(this,arguments)}function za(y,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:update",Ie(y,f))})).apply(this,arguments)}function bi(y,f){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithPassword",Ie(y,f))})).apply(this,arguments)}function Ml(y,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:sendOobCode",Ie(y,f))})).apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(y,f){return Ml(y,f)})).apply(this,arguments)}function Qo(y,f){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(y,f){return Ml(y,f)})).apply(this,arguments)}function Zt(y,f){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(y,f){return Ml(y,f)})).apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(y,f){return Ml(y,f)})).apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithEmailLink",Ie(y,f))})).apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithEmailLink",Ie(y,f))})).apply(this,arguments)}class Rl extends lo{constructor(f,g,w,T=null){super("password",w),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Rl(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Rl(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=f._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield gr(f,T,"signInWithPassword");return bi(f,k)}return bi(f,T).catch(function(){var k=(0,u.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Q=yield gr(f,T,"signInWithPassword");return bi(f,Q)}return Promise.reject(z)});return function(z){return k.apply(this,arguments)}}());case"emailLink":return function Ri(y,f){return Zc.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ye(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return za(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ef(y,f){return $a.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function vr(y,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithIdp",Ie(y,f))})).apply(this,arguments)}class wt extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new wt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ye("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=g,k=(0,ie._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const z=new wt(w,T);return z.idToken=k.idToken||void 0,z.accessToken=k.accessToken||void 0,z.secret=k.secret,z.nonce=k.nonce,z.pendingToken=k.pendingToken||null,z}_getIdTokenResponse(f){return vr(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,vr(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,vr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,N.xO)(g)}return f}}function Oi(){return(Oi=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:sendVerificationCode",Ie(y,f))})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,f))})).apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(y,f){const g=yield gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,f));if(g.temporaryProof)throw xn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ys={USER_NOT_FOUND:"user-not-found"};function Ct(){return(Ct=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ys)})).apply(this,arguments)}class _i extends lo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new _i({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new _i({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function co(y,f){return gi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ga(y,f){return pn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xo(y,f){return Ct.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}=f;return w||g||T||k?new _i({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}):null}}class bn{constructor(f){var g,w,T,k,z,Q;const Oe=(0,N.zd)((0,N.pd)(f)),He=null!==(g=Oe.apiKey)&&void 0!==g?g:null,ot=null!==(w=Oe.oobCode)&&void 0!==w?w:null,rt=function Eu(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Oe.mode)&&void 0!==T?T:null);le(He&&ot&&rt,"argument-error"),this.apiKey=He,this.operation=rt,this.code=ot,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(z=Oe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(Q=Oe.tenantId)&&void 0!==Q?Q:null}static parseLink(f){const g=function bs(y){const f=(0,N.zd)((0,N.pd)(y)).link,g=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||f||y}(f);try{return new bn(g)}catch{return null}}}let uo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Rl._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=bn.parseLink(w);return le(T,"argument-error"),Rl._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ws extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Es extends ws{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return le("providerId"in g&&"signInMethod"in g,"argument-error"),wt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return le(f.idToken||f.accessToken,"argument-error"),wt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Es.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Es.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:k,nonce:z,providerId:Q}=f;if(!w&&!T&&!g&&!k||!Q)return null;try{return new Es(Q)._credential({idToken:g,accessToken:w,nonce:z,pendingToken:k})}catch{return null}}}let Vs=(()=>{class y extends ws{constructor(){super("facebook.com")}static credential(g){return wt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),yr=(()=>{class y extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return wt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ol=(()=>{class y extends ws{constructor(){super("github.com")}static credential(g){return wt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Vt extends lo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return vr(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,vr(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,vr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:k}=g;return w&&T&&k&&w===T?new Vt(w,k):null}static _create(f,g){return new Vt(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jo extends ni{constructor(f){le(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Jo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Jo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Vt.fromJSON(f);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Vt._create(w,g)}catch{return null}}}let Nl=(()=>{class y extends ws{constructor(){super("twitter.com")}static credential(g,w){return wt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ii(y,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signUp",Ie(y,f))})).apply(this,arguments)}class ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,T=!1){return(0,u.Z)(function*(){const k=yield ei._fromIdTokenResponse(f,w,T),z=Us(w);return new ri({user:k,providerId:z,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=Us(w);return new ri({user:f,providerId:T,_tokenResponse:w,operationType:g})})()}}function Us(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function xf(){return(xf=(0,u.Z)(function*(y){var f;const g=Bn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ri({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ii(g,{returnSecureToken:!0}),T=yield ri._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class si extends N.ZR{constructor(f,g,w,T){var k;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,si.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,T){return new si(f,g,w,T)}}function Ni(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?si._fromErrorAndOperation(y,k,f,w):k})}function Pl(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function or(){return or=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y);yield ta(!0,g,f);const{providerUserInfo:w}=yield function Mi(y,f){return ir.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Pl(w||[]);return g.providerData=g.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),or.apply(this,arguments)}function Yi(y,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(y,f,g=!1){const w=yield In(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ri._forOperation(y,"link",w)})).apply(this,arguments)}function ta(y,f,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(y,f,g){yield Jt(f);const T=!1===y?"provider-already-linked":"no-such-provider";le(Pl(f.providerData).has(g)===y,f.auth,T)})).apply(this,arguments)}function Hp(y,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(y,f,g=!1){const{auth:w}=y,T="reauthenticate";try{const k=yield In(y,Ni(w,T,f,y),g);le(k.idToken,w,"internal-error");const z=Rt(k.idToken);le(z,w,"internal-error");const{sub:Q}=z;return le(y.uid===Q,w,"user-mismatch"),ri._forOperation(y,T,k)}catch(k){throw"auth/user-not-found"===k?.code&&ye(w,"user-mismatch"),k}})).apply(this,arguments)}function Qc(y,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(y,f,g=!1){const w="signIn",T=yield Ni(y,w,f),k=yield ri._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Xc(y,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(y,f){return Qc(Bn(y),f)})).apply(this,arguments)}function zp(y,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y);return yield ta(!1,g,f.providerId),Yi(g,f)})).apply(this,arguments)}function $p(y,f){return If.apply(this,arguments)}function If(){return(If=(0,u.Z)(function*(y,f){return Hp((0,N.m9)(y),f)})).apply(this,arguments)}function Cf(){return(Cf=(0,u.Z)(function*(y,f){return gt(y,"POST","/v1/accounts:signInWithCustomToken",Ie(y,f))})).apply(this,arguments)}function xs(){return xs=(0,u.Z)(function*(y,f){const g=Bn(y),w=yield function uv(y,f){return Cf.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield ri._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T}),xs.apply(this,arguments)}class Jc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?na._fromServerResponse(f,g):"totpInfo"in g?ed._fromServerResponse(f,g):ye(f,"internal-error")}}class na extends Jc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new na(g)}}class ed extends Jc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new ed(g)}}function qa(y,f,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Wa(){return Wa=(0,u.Z)(function*(y,f,g){var w;const T=Bn(y),k={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield gr(T,k,"getOobCode",!0);g&&qa(T,z,g),yield Qo(T,z)}else g&&qa(T,k,g),yield Qo(T,k).catch(function(){var z=(0,u.Z)(function*(Q){if("auth/missing-recaptcha-token"!==Q.code)return Promise.reject(Q);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Oe=yield gr(T,k,"getOobCode",!0);g&&qa(T,Oe,g),yield Qo(T,Oe)}});return function(Q){return z.apply(this,arguments)}}())}),Wa.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(y,f,g){yield yu((0,N.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Pi(){return Pi=(0,u.Z)(function*(y,f){yield function _r(y,f){return Al.apply(this,arguments)}((0,N.m9)(y),{oobCode:f})}),Pi.apply(this,arguments)}function Vl(y,f){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y),w=yield yu(g,{oobCode:f}),T=w.requestType;switch(le(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=Jc._fromServerResponse(Bn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(y,f){const{data:g}=yield Vl((0,N.m9)(y),f);return g.email})).apply(this,arguments)}function Bl(){return Bl=(0,u.Z)(function*(y,f,g){var w;const T=Bn(y),k={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const He=yield gr(T,k,"signUpPassword");z=ii(T,He)}else z=ii(T,k).catch(function(){var He=(0,u.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield gr(T,k,"signUpPassword");return ii(T,rt)}return Promise.reject(ot)});return function(ot){return He.apply(this,arguments)}}());const Q=yield z.catch(He=>Promise.reject(He)),Oe=yield ri._fromIdTokenResponse(T,"signIn",Q);return yield T._updateCurrentUser(Oe.user),Oe}),Bl.apply(this,arguments)}function Nn(){return Nn=(0,u.Z)(function*(y,f,g){var w;const T=Bn(y),k={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function z(Q,Oe){le(Oe.handleCodeInApp,T,"argument-error"),Oe&&qa(T,Q,Oe)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Q=yield gr(T,k,"getOobCode",!0);z(Q,g),yield Zt(T,Q)}else z(k,g),yield Zt(T,k).catch(function(){var Q=(0,u.Z)(function*(Oe){if("auth/missing-recaptcha-token"!==Oe.code)return Promise.reject(Oe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const He=yield gr(T,k,"getOobCode",!0);z(He,g),yield Zt(T,He)}});return function(Oe){return Q.apply(this,arguments)}}())}),Nn.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),T=uo.credentialWithLink(f,g||hi());return le(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Xc(w,T)})).apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:createAuthUri",Ie(y,f))})).apply(this,arguments)}function Su(){return Su=(0,u.Z)(function*(y,f){const w={identifier:f,continueUri:Gi()?hi():"http://localhost"},{signinMethods:T}=yield function Hl(y,f){return Za.apply(this,arguments)}((0,N.m9)(y),w);return T||[]}),Su.apply(this,arguments)}function ra(){return ra=(0,u.Z)(function*(y,f){const g=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&qa(g.auth,T,f);const{email:k}=yield function wu(y,f){return kl.apply(this,arguments)}(g.auth,T);k!==y.email&&(yield y.reload())}),ra.apply(this,arguments)}function Bs(){return Bs=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&qa(w.auth,k,g);const{email:z}=yield function ki(y,f){return Ls.apply(this,arguments)}(w.auth,k);z!==y.email&&(yield y.reload())}),Bs.apply(this,arguments)}function Af(){return(Af=(0,u.Z)(function*(y,f){return Te(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $l(){return $l=(0,u.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,N.m9)(y),k={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield In(w,function Sf(y,f){return Af.apply(this,arguments)}(w.auth,k));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const Q=w.providerData.find(({providerId:Oe})=>"password"===Oe);Q&&(Q.displayName=w.displayName,Q.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)}),$l.apply(this,arguments)}function Mf(y,f,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(y,f,g){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const z=yield In(y,za(w,k));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class _o{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Ka extends _o{constructor(f,g,w,T){super(f,g,w),this.username=T}}class id extends _o{constructor(f,g){super(f,"facebook.com",g)}}class Ru extends Ka{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Gl extends _o{constructor(f,g){super(f,"google.com",g)}}class vo extends Ka{constructor(f,g,w){super(f,"twitter.com",g,w)}}function kf(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ku(y){var f,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const z=null===(g=null===(f=Rt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new _o(k,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new id(k,T);case"github.com":return new Ru(k,T);case"google.com":return new Gl(k,T);case"twitter.com":return new vo(k,T,y.screenName||null);case"custom":case"anonymous":return new _o(k,null);default:return new _o(k,w,T)}}(g)}class Pn{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Pn("enroll",f,g)}static _fromMfaPendingCredential(f){return new Pn("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Pn._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Pn._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oa{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=Bn(f),T=g.customData._serverResponse,k=(T.mfaInfo||[]).map(Q=>Jc._fromServerResponse(w,Q));le(T.mfaPendingCredential,w,"internal-error");const z=Pn._fromMfaPendingCredential(T.mfaPendingCredential);return new oa(z,k,function(){var Q=(0,u.Z)(function*(Oe){const He=yield Oe._process(w,z);delete T.mfaInfo,delete T.mfaPendingCredential;const ot=Object.assign(Object.assign({},T),{idToken:He.idToken,refreshToken:He.refreshToken});switch(g.operationType){case"signIn":const rt=yield ri._fromIdTokenResponse(w,g.operationType,ot);return yield w._updateCurrentUser(rt.user),rt;case"reauthenticate":return le(g.user,w,"internal-error"),ri._forOperation(g.user,g.operationType,ot);default:ye(w,"internal-error")}});return function(Oe){return Q.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Jc._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Pn._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,u.Z)(function*(){const T=f,k=yield w.getSession(),z=yield In(w.user,T._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const k=yield In(g.user,function Pu(y,f){return Te(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(y,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==w),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const bo=new WeakMap,It="__sak";class Fu{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class y extends Fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nf(){const y=(0,N.z$)();return se(y)||An(y)}()&&function ja(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),k=this.localCache[w];T!==k&&g(w,k,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Q,Oe,He)=>{this.notifyListeners(Q,He)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Q=this.storage.getItem(T);if(g.newValue!==Q)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const k=()=>{const Q=this.storage.getItem(T);!w&&this.localCache[T]===Q||this.notifyListeners(T,Q)},z=this.storage.getItem(T);!function Xr(){return(0,N.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,k=this;return(0,u.Z)(function*(){yield T().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,u.Z)(function*(){const k=yield w().call(T,g);return T.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,T=this;return(0,u.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Eo=(()=>{class y extends Fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let ad=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const T=g,{eventId:k,eventType:z,data:Q}=T.data,Oe=w.handlersMap[z];if(!Oe?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:z});const He=Array.from(Oe).map(function(){var rt=(0,u.Z)(function*(gn){return gn(T.origin,Q)});return function(gn){return rt.apply(this,arguments)}}()),ot=yield function Gp(y){return Promise.all(y.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(He);T.ports[0].postMessage({status:"done",eventId:k,eventType:z,response:ot})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ld(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}class mv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var T=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let z,Q;return new Promise((Oe,He)=>{const ot=ld("",20);k.port1.start();const rt=setTimeout(()=>{He(new Error("unsupported_event"))},w);Q={messageChannel:k,onMessage(gn){const rs=gn;if(rs.data.eventId===ot)switch(rs.data.status){case"ack":clearTimeout(rt),z=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Oe(rs.data.response);break;default:clearTimeout(rt),clearTimeout(z),He(new Error("invalid_response"))}}},T.handlers.add(Q),k.port1.addEventListener("message",Q.onMessage),T.target.postMessage({eventType:f,eventId:ot,data:g},[k.port2])}).finally(()=>{Q&&T.removeMessageHandler(Q)})})()}}function pe(){return window}function Yl(){return typeof pe().WorkerGlobalScope<"u"&&"function"==typeof pe().importScripts}function Gn(){return(Gn=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pr="firebaseLocalStorageDb",xo="firebaseLocalStorage",Ql="fbase_key";class cd{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xa(y,f){return y.transaction([xo],f?"readwrite":"readonly").objectStore(xo)}function Fr(){const y=indexedDB.open(Pr,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(xo,{keyPath:Ql})}catch(T){g(T)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(xo)?f(w):(w.close(),yield function Qi(){const y=indexedDB.deleteDatabase(Pr);return new cd(y).toPromise()}(),f(yield Fr()))}))})}function la(y,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(y,f,g){const w=Xa(y,!0).put({[Ql]:f,value:g});return new cd(w).toPromise()})).apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(y,f){const g=Xa(y,!1).get(f),w=yield new cd(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ud(y,f){const g=Xa(y,!0).delete(f);return new cd(g).toPromise()}const Io=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Fr()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(T++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Yl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=ad._getInstance(function Mn(){return Yl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(T,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(T,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function Vu(){return Gn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new mv(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);k&&null!==(w=k[0])&&void 0!==w&&w.fulfilled&&null!==(T=k[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Qa(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Fr();return yield la(g,It,"1"),yield ud(g,It),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(k=>la(k,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const T=yield w._withRetries(k=>function ai(y,f){return dd.apply(this,arguments)}(k,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(T=>ud(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(z=>{const Q=Xa(z,!1).getAll();return new cd(Q).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:z,value:Q}of w)k.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(Q)&&(g.notifyListeners(z,Q),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!k.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),ca=1e12;class Hu{constructor(f){this.auth=f,this.counter=ca,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new pd(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||ca;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ca))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(f||ca))||void 0===w||w.execute(),""})()}}class pd{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;le(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xl(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ja=Jr("rcb"),zu=new gs(3e4,6e4);class Xi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=pe().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return le(function Hs(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Pt(pe().grecaptcha)?Promise.resolve(pe().grecaptcha):new Promise((w,T)=>{const k=pe().setTimeout(()=>{T(ee(f,"network-request-failed"))},zu.get());pe()[Ja]=()=>{pe().clearTimeout(k),delete pe()[Ja];const Q=pe().grecaptcha;if(!Q||!Pt(Q))return void T(ee(f,"internal-error"));const Oe=Q.render;Q.render=(He,ot)=>{const rt=Oe(He,ot);return this.counter++,rt},this.hostLanguage=g,w(Q)},pi(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ja,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),T(ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=pe().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kn{load(f){return(0,u.Z)(function*(){return new Hu(f)})()}clearedOneInstance(){}}const ec="recaptcha",Wp={theme:"light",type:"image"};class gd{constructor(f,g=Object.assign({},Wp),w){this.parameters=g,this.type=ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;le(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kn:new Xi,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const z=Q=>{Q&&(f.tokenChangeListeners.delete(z),k(Q))};f.tokenChangeListeners.add(z),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=pe()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){le(Gi()&&!Yl(),f.auth,"internal-error"),yield function Zp(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function te(y){return Me.apply(this,arguments)}(f.auth);le(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=_i._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function qn(){return(qn=(0,u.Z)(function*(y,f,g){const w=Bn(y),T=yield Cs(w,f,(0,N.m9)(g));return new wi(T,k=>Xc(w,k))})).apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);yield ta(!1,w,"phone");const T=yield Cs(w.auth,f,(0,N.m9)(g));return new wi(T,k=>zp(w,k))})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y),T=yield Cs(w.auth,f,(0,N.m9)(g));return new wi(T,k=>$p(w,k))})).apply(this,arguments)}function Cs(y,f,g){return tl.apply(this,arguments)}function tl(){return tl=(0,u.Z)(function*(y,f,g){var w;const T=yield g.verify();try{let k;if(le("string"==typeof T,y,"argument-error"),le(g.type===ec,y,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const z=k.session;if("phoneNumber"in k)return le("enroll"===z.type,y,"internal-error"),(yield function sd(y,f){return Te(y,"POST","/v2/accounts/mfaEnrollment:start",Ie(y,f))}(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{le("signin"===z.type,y,"internal-error");const Q=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return le(Q,y,"missing-multi-factor-info"),(yield function Bu(y,f){return Te(y,"POST","/v2/accounts/mfaSignIn:start",Ie(y,f))}(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:Q,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield function yn(y,f){return Oi.apply(this,arguments)}(y,{phoneNumber:k.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}}),tl.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(y,f){yield Yi((0,N.m9)(y),f)})).apply(this,arguments)}let jn=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Bn(g)}verifyPhoneNumber(g,w){return Cs(this.auth,g,(0,N.m9)(w))}static credential(g,w){return _i._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?_i._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function lt(y,f){return f?Ln(f):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ei extends lo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return vr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return vr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return vr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function $u(y){return Qc(y.auth,new Ei(y),y.bypassAuthState)}function Gu(y){const{auth:f,user:g}=y;return le(g,f,"internal-error"),Hp(g,new Ei(y),y.bypassAuthState)}function To(y){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(y){const{auth:f,user:g}=y;return le(g,f,"internal-error"),Yi(g,new Ei(y),y.bypassAuthState)})).apply(this,arguments)}class nc{constructor(f,g,w,T,k=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:k,tenantId:z,error:Q,type:Oe}=f;if(Q)return void g.reject(Q);const He={auth:g.auth,requestUri:w,sessionId:T,tenantId:z||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)(He))}catch(ot){g.reject(ot)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return $u;case"linkViaPopup":case"linkViaRedirect":return To;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:ye(this.auth,"internal-error")}}resolve(f){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xi=new gs(2e3,1e4);function Lf(){return(Lf=(0,u.Z)(function*(y,f,g){const w=Bn(y);Pe(y,f,ni);const T=lt(w,g);return new Ds(w,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);Pe(w.auth,f,ni);const T=lt(w.auth,g);return new Ds(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);Pe(w.auth,f,ni);const T=lt(w.auth,g);return new Ds(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class y extends nc{constructor(g,w,T,k,z){super(g,w,k,z),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){Ht(1===g.filter.length,"Popup operations only handle one event");const w=ld();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,xi.get())};g()}}return y.currentPopupAction=null,y})();const ar="pendingRedirect",rc=new Map;class Ii extends nc{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=rc.get(g.auth._key());if(!w){try{const k=(yield function Lr(y,f){return qu.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(k)}catch(T){w=()=>Promise.reject(T)}rc.set(g.auth._key(),w)}return g.bypassAuthState||rc.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function qu(){return(qu=(0,u.Z)(function*(y,f){const g=Mo(f),w=vd(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function hn(y,f){return _d.apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(y,f){return vd(y)._set(Mo(f),"true")})).apply(this,arguments)}function ua(y,f){rc.set(y._key(),f)}function vd(y){return Ln(y._redirectPersistence)}function Mo(y){return j(ar,y.config.apiKey,y.name)}function nl(y,f,g){return function Wu(y,f,g){return il.apply(this,arguments)}(y,f,g)}function il(){return(il=(0,u.Z)(function*(y,f,g){const w=Bn(y);Pe(y,f,ni),yield w._initializationPromise;const T=lt(w,g);return yield hn(T,w),T._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function rl(y,f,g){return function yd(y,f,g){return sl.apply(this,arguments)}(y,f,g)}function sl(){return(sl=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);Pe(w.auth,f,ni),yield w.auth._initializationPromise;const T=lt(w.auth,g);yield hn(T,w.auth);const k=yield ha(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function Zu(y,f,g){return function oc(y,f,g){return Ts.apply(this,arguments)}(y,f,g)}function Ts(){return(Ts=(0,u.Z)(function*(y,f,g){const w=(0,N.m9)(y);Pe(w.auth,f,ni),yield w.auth._initializationPromise;const T=lt(w.auth,g);yield ta(!1,w,f.providerId),yield hn(T,w.auth);const k=yield ha(w);return T._openRedirect(w.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(y,f){return yield Bn(y)._initializationPromise,ko(y,f,!1)})).apply(this,arguments)}function ko(y,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(y,f,g=!1){const w=Bn(y),T=lt(w,f),z=yield new Ii(w,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,f)),z})).apply(this,arguments)}function ha(y){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(y){const f=ld(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class fa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function al(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ro(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!Ro(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ee(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(f))}saveEventToCache(f){this.cachedEventUids.add(qs(f)),this.lastProcessedEventTime=Date.now()}}function qs(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ro({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function lc(y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(y,f={}){return Te(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Wn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ji=/^https?/;function Ss(){return(Ss=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield lc(y);for(const g of f)try{if(ma(g))return}catch{}ye(y,"unauthorized-domain")})).apply(this,arguments)}function ma(y){const f=hi(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===w}if(!Ji.test(g))return!1;if(Wn.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const Yu=new gs(3e4,6e4);function cc(){const y=pe().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let pa=null;const Vf=new gs(5e3,15e3),pv="__/auth/iframe",Yp="emulator/auth/iframe",ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gv(y){const f=y.config;le(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?ce(f,Yp):`https://${y.config.authDomain}/${pv}`,w={apiKey:f.apiKey,appName:y.name,v:J.SDK_VERSION},T=Qp.get(y.config.apiHost);T&&(w.eid=T);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function C(){return C=(0,u.Z)(function*(y){const f=yield function ga(y){return pa=pa||function Zs(y){return new Promise((f,g)=>{var w,T,k;function z(){cc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{cc(),g(ee(y,"network-request-failed"))},timeout:Yu.get()})}if(null!==(T=null===(w=pe().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(k=pe().gapi)||void 0===k||!k.load){const Q=Jr("iframefcb");return pe()[Q]=()=>{gapi.load?z():g(ee(y,"network-request-failed"))},pi(`https://apis.google.com/js/api.js?onload=${Q}`).catch(Oe=>g(Oe))}z()}}).catch(f=>{throw pa=null,f})}(y),pa}(y),g=pe().gapi;return le(g,y,"internal-error"),f.open({where:document.body,url:gv(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},w=>new Promise(function(){var T=(0,u.Z)(function*(k,z){yield w.restyle({setHideOnLeave:!1});const Q=ee(y,"network-request-failed"),Oe=pe().setTimeout(()=>{z(Q)},Vf.get());function He(){pe().clearTimeout(Oe),k(w)}w.ping(He).then(He,()=>{z(Q)})});return function(k,z){return T.apply(this,arguments)}}()))}),C.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $e{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dt="__/auth/handler",St="emulator/auth/handler",lr=encodeURIComponent("fac");function tn(y,f,g,w,T,k){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(y,f,g,w,T,k){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:J.SDK_VERSION,eventId:T};if(f instanceof ni){f.setDefaultLanguage(y.languageCode),z.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ot,rt]of Object.entries(k||{}))z[ot]=rt}if(f instanceof ws){const ot=f.getScopes().filter(rt=>""!==rt);ot.length>0&&(z.scopes=ot.join(","))}y.tenantId&&(z.tid=y.tenantId);const Q=z;for(const ot of Object.keys(Q))void 0===Q[ot]&&delete Q[ot];const Oe=yield y._getAppCheckToken(),He=Oe?`#${lr}=${encodeURIComponent(Oe)}`:"";return`${function Ks({config:y}){return y.emulator?ce(y,St):`https://${y.authDomain}/${Dt}`}(y)}?${(0,N.xO)(Q).slice(1)}${He}`})).apply(this,arguments)}const As="webStorageSupport",ns=class cr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=ko,this._overrideRedirectResult=ua}_openPopup(f,g,w,T){var k=this;return(0,u.Z)(function*(){var z;Ht(null===(z=k.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const Q=yield tn(f,g,w,hi(),T);return function Be(y,f,g,w=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let Q="";const Oe=Object.assign(Object.assign({},A),{width:w.toString(),height:T.toString(),top:k,left:z}),He=(0,N.z$)().toLowerCase();g&&(Q=Ke(He)?"_blank":g),Ee(He)&&(f=f||"http://localhost",Oe.scrollbars="yes");const ot=Object.entries(Oe).reduce((gn,[rs,Rd])=>`${gn}${rs}=${Rd},`,"");if(function $n(y=(0,N.z$)()){var f;return An(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(He)&&"_self"!==Q)return function at(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Q),new $e(null);const rt=window.open(f||"",Q,ot);le(rt,y,"popup-blocked");try{rt.focus()}catch{}return new $e(rt)}(f,Q,ld())})()}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(f),function Xt(y){pe().location.href=y}(yield tn(f,g,w,hi(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:k}=this.eventManagers[g];return T?Promise.resolve(T):(Ht(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const w=yield function x(y){return C.apply(this,arguments)}(f),T=new fa(f);return w.register("authEvent",k=>(le(k?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(As,{type:As},T=>{var k;const z=null===(k=T?.[0])||void 0===k?void 0:k[As];void 0!==z&&g(!!z),ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bd(y){return Ss.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return vs()||se()||An()}};class cl{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return bt("unexpected MultiFactorSessionType")}}}class dl extends cl{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new dl(f)}_finalizeEnroll(f,g,w){return function js(y,f){return Te(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(y,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function fd(y,f){return Te(y,"POST","/v2/accounts/mfaSignIn:finalize",Ie(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ow=(()=>{class y{constructor(){}static assertion(g){return dl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var dc="@firebase/auth";class wd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ya(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Xu(y){(0,J._registerComponent)(new _e.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),k=f.getProvider("app-check-internal"),{apiKey:z,authDomain:Q}=w.options;le(z&&!z.includes(":"),"invalid-api-key",{appName:w.name});const Oe={apiKey:z,authDomain:Q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:de(y)},He=new Gc(w,T,k,Oe);return function wf(y,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Ln);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(He,g),He},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new _e.wA("auth-internal",f=>{const g=Bn(f.getProvider("auth").getImmediate());return new wd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(dc,"0.23.2",function ul(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,J.registerVersion)(dc,"0.23.2","esm2017")}("Browser");function Bf(){return Bf=(0,u.Z)(function*(y,f,g){var w;const{BuildInfo:T}=ya();Ht(f.sessionId,"AuthEvent did not contain a session ID");const k=yield function _v(y){return hl.apply(this,arguments)}(f.sessionId),z={};return An()?z.ibi=T.packageName:xt()?z.apn=T.packageName:ye(y,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=k,tn(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,z)}),Bf.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(y){const{BuildInfo:f}=ya(),g={};An()?g.iosBundleId=f.packageName:xt()?g.androidPackageName=f.packageName:ye(y,"operation-not-supported-in-this-environment"),yield lc(y,g)})).apply(this,arguments)}function eg(){return(eg=(0,u.Z)(function*(y,f,g){const{cordova:w}=ya();let T=()=>{};try{yield new Promise((k,z)=>{let Q=null;function Oe(){var rt;k();const gn=null===(rt=w.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof gn&&gn(),"function"==typeof g?.close&&g.close()}function He(){Q||(Q=window.setTimeout(()=>{z(ee(y,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===document?.visibilityState&&He()}f.addPassiveListener(Oe),document.addEventListener("resume",He,!1),xt()&&document.addEventListener("visibilitychange",ot,!1),T=()=>{f.removePassiveListener(Oe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",ot,!1),Q&&window.clearTimeout(Q)}})}finally{T()}})).apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(y){const f=function eh(y){if(Ht(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class yv extends fa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function th(y){return nh.apply(this,arguments)}function nh(){return(nh=(0,u.Z)(function*(y){const f=yield bv()._get(ng(y));return f&&(yield bv()._remove(ng(y))),f})).apply(this,arguments)}function fl(){const y=[];for(let g=0;g<20;g++){const w=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return y.join("")}function bv(){return Ln(wo)}function ng(y){return j("authEvent",y.config.apiKey,y.name)}function ig(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,N.zd)(g.join("?"))}const cw=class dT{constructor(){this._redirectPersistence=Eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ko,this._overrideRedirectResult=ua}_initialize(f){var g=this;return(0,u.Z)(function*(){const w=f._key();let T=g.eventManagers.get(w);return T||(T=new yv(f),g.eventManagers.set(w,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){ye(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){!function Hf(y){var f,g,w,T,k,z,Q,Oe,He,ot;const rt=ya();le("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(k=null===(T=null===(w=rt?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Oe=null===(Q=null===(z=rt?.cordova)||void 0===z?void 0:z.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Oe?void 0:Oe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(ot=null===(He=rt?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===ot?void 0:ot.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield k._initialize(f);yield z.initialized(),z.resetRedirect(),function sc(){rc.clear()}(),yield k._originValidation(f);const Q=function lw(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:fl(),postBody:null,tenantId:y.tenantId,error:ee(y,"no-auth-event")}}(f,w,T);yield function fc(y,f){return bv()._set(ng(y),f)}(f,Q);const Oe=yield function hc(y,f,g){return Bf.apply(this,arguments)}(f,Q,g),He=yield function jf(y){const{cordova:f}=ya();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let T=null;w?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function Wt(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Oe);return function aT(y,f,g){return eg.apply(this,arguments)}(f,z,He)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function oT(y){return Ju.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:k}=ya(),z=setTimeout((0,u.Z)(function*(){yield th(f),g.onEvent(zf())}),500),Q=function(){var ot=(0,u.Z)(function*(rt){clearTimeout(z);const gn=yield th(f);let rs=null;gn&&rt?.url&&(rs=function tg(y,f){var g,w;const T=function lT(y){const f=ig(y),g=f.link?decodeURIComponent(f.link):void 0,w=ig(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ig(T).link||T||w||g||y}(f);if(T.includes("/__/auth/callback")){const k=ig(T),z=k.firebaseError?function ih(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,Q=null===(w=null===(g=z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Oe=Q?ee(Q):null;return Oe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(gn,rt.url)),g.onEvent(rs||zf())});return function(gn){return ot.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Q);const Oe=T,He=`${k.packageName.toLowerCase()}://`;ya().handleOpenURL=function(){var ot=(0,u.Z)(function*(rt){if(rt.toLowerCase().startsWith(He)&&Q({url:rt}),"function"==typeof Oe)try{Oe(rt)}catch(gn){console.error(gn)}});return function(rt){return ot.apply(this,arguments)}}()}};function zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ee("no-auth-event")}}function mc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Gf(y=(0,N.z$)()){return!("file:"!==mc()&&"ionic:"!==mc()&&"capacitor:"!==mc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function rg(){try{const y=self.localStorage,f=ld();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Cd(y=(0,N.z$)()){return function Id(){return(0,N.w1)()&&11===document?.documentMode}()||function oh(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return ah()&&(0,N.hl)()}return!1}function ah(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dd(){return(function ba(){return"http:"===mc()||"https:"===mc()}()||(0,N.ru)()||Gf())&&!function wv(){return(0,N.b$)()||(0,N.UG)()}()&&rg()&&!ah()}function qf(){return Gf()&&typeof document<"u"}function Wf(){return(Wf=(0,u.Z)(function*(){return!!qf()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},wa=le,sg="persistence";function Vi(y){return Td.apply(this,arguments)}function Td(){return(Td=(0,u.Z)(function*(y){yield y._initializationPromise;const f=ch(),g=j(sg,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function ch(){var y;try{return(null===(y=function pc(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ui=le;class is{constructor(){this.browserResolver=Ln(ns),this.cordovaResolver=Ln(cw),this.underlyingResolver=null,this._redirectPersistence=Eo,this._completeRedirectFn=ko,this._overrideRedirectResult=ua}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,w,T)})()}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,w,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return qf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ui(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function lh(){return Wf.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Ad(y){return y.unwrap()}function Ev(y){return ag(y)}function ag(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return jn.credentialFromResult(y);const g=f.providerId;if(!g||g===fe.PASSWORD)return null;let w;switch(g){case fe.GOOGLE:w=yr;break;case fe.FACEBOOK:w=Vs;break;case fe.GITHUB:w=Ol;break;case fe.TWITTER:w=Nl;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:z,pendingToken:Q,nonce:Oe}=f;return k||z||T||Q?Q?g.startsWith("saml.")?Vt._create(g,Q):wt._fromParams({providerId:g,signInMethod:g,pendingToken:Q,idToken:T,accessToken:k}):new Es(g).credential({idToken:T,accessToken:k,rawNonce:Oe}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function xr(y,f){return f.catch(g=>{throw g instanceof N.ZR&&function Kf(y,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new lg(y,function Nu(y,f){var g;const w=(0,N.m9)(y),T=f;return le(f.customData.operationType,w,"argument-error"),le(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),oa._fromError(w,T)}(y,f));else if(w){const T=ag(f),k=f;T&&(k.credential=T,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Ev(g),additionalUserInfo:kf(g),user:Ys.getOrCreate(T)}})}function Md(y,f){return dh.apply(this,arguments)}function dh(){return(dh=(0,u.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>xr(y,g.confirm(w))}})).apply(this,arguments)}class lg{constructor(f,g){this.resolver=g,this.auth=function og(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return xr(Ad(this.auth),this.resolver.resolveSignIn(f))}}class Ys{constructor(f){this._delegate=f,this.multiFactor=function Kl(y){const f=(0,N.m9)(y);return bo.has(f)||bo.set(f,yo._fromUser(f)),bo.get(f)}(f)}static getOrCreate(f){return Ys.USER_MAP.has(f)||Ys.USER_MAP.set(f,new Ys(f)),Ys.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return xr(g.auth,zp(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,u.Z)(function*(){return Md(w.auth,function zs(y,f,g){return el.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return xr(g.auth,function Kp(y,f,g){return Ao.apply(this,arguments)}(g._delegate,f,is))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Vi(Bn(g.auth)),Zu(g._delegate,f,is)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return xr(g.auth,$p(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Md(this.auth,function da(y,f,g){return Co.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return xr(this.auth,function ic(y,f,g){return So.apply(this,arguments)}(this._delegate,f,is))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Vi(Bn(g.auth)),rl(g._delegate,f,is)})()}sendEmailVerification(f){return function zl(y,f){return ra.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function mo(y,f){return or.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Au(y,f){return Mf((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Mu(y,f){return Mf((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Do(y,f){return $s.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function fv(y,f){return $l.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function nd(y,f,g){return Bs.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ys.USER_MAP=new WeakMap;const Br=le;let uh=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Br(T,"invalid-api-key",{appName:g.name}),Br(T,"invalid-api-key",{appName:g.name});const k=typeof window<"u"?is:void 0;this._delegate=w.initialize({options:{persistence:kd(T,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Ki(y,f,g){const w=Bn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,k=ao(f),{host:z,port:Q}=function Sl(y){const f=ao(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const k=T[1];return{host:k,port:vu(w.substr(k.length+1))}}{const[k,z]=w.split(":");return{host:k,port:vu(z)}}}(f);w.config.emulator={url:`${k}//${z}${null===Q?"":`:${Q}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:Q,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Bp(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Du(y,f){return Pi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Vl(this._delegate,g)}confirmPasswordReset(g,w){return function po(y,f,g){return Ll.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,u.Z)(function*(){return xr(T._delegate,function Df(y,f,g){return Bl.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Tu(y,f){return Su.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Tf(y,f){const g=bn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Br(Dd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Ku(y,f){return ol.apply(this,arguments)}(g._delegate,is);return w?xr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function rh(y,f){Bn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:k,error:z,complete:Q}=Yf(g,w,T);return this._delegate.onAuthStateChanged(k,z,Q)}onIdTokenChanged(g,w,T){const{next:k,error:z,complete:Q}=Yf(g,w,T);return this._delegate.onIdTokenChanged(k,z,Q)}sendSignInLinkToEmail(g,w){return function go(y,f,g){return Nn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function hv(y,f,g){return Wa.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let T;switch(function Zf(y,f){wa(Object.values(Ur).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?wa(f!==Ur.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?wa(f===Ur.NONE,y,"unsupported-persistence-type"):ah()?wa(f===Ur.NONE||f===Ur.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):wa(f===Ur.NONE||rg(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Ur.SESSION:T=Eo;break;case Ur.LOCAL:T=(yield Ln(Io)._isAvailable())?Io:wo;break;case Ur.NONE:T=pr;break;default:return ye("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return xr(this._delegate,function vi(y){return xf.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return xr(this._delegate,Xc(this._delegate,g))}signInWithCustomToken(g){return xr(this._delegate,function Cu(y,f){return xs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return xr(this._delegate,function es(y,f,g){return Xc((0,N.m9)(y),uo.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return xr(this._delegate,function Fi(y,f,g){return jl.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Md(this._delegate,function Dn(y,f,g){return qn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return Br(Dd(),w._delegate,"operation-not-supported-in-this-environment"),xr(w._delegate,function Er(y,f,g){return Lf.apply(this,arguments)}(w._delegate,g,is))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return Br(Dd(),w._delegate,"operation-not-supported-in-this-environment"),yield Vi(w._delegate),nl(w._delegate,g,is)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function td(y,f){return ia.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ur,y})();function Yf(y,f,g){let w=y;"function"!=typeof y&&({next:w,error:f,complete:g}=y);const T=w;return{next:z=>T(z&&Ys.getOrCreate(z)),error:f,complete:g}}function kd(y,f){const g=function Sd(y,f){const g=ch();if(!g)return[];const w=j(sg,y,f);switch(g.getItem(w)){case Ur.NONE:return[pr];case Ur.LOCAL:return[Io,Eo];case Ur.SESSION:return[Eo];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Io)&&g.push(Io),typeof window<"u")for(const w of[wo,Eo])g.includes(w)||g.push(w);return g.includes(pr)||g.push(pr),g}class hh{constructor(){this.providerId="phone",this._delegate=new jn(Ad(X.Z.auth()))}static credential(f,g){return jn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}hh.PHONE_SIGN_IN_METHOD=jn.PHONE_SIGN_IN_METHOD,hh.PROVIDER_ID=jn.PROVIDER_ID;const xv=le;class cg{constructor(f,g,w=X.Z.app()){var T;xv(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new gd(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qf(y){y.INTERNAL.registerComponent(new _e.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new uh(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:uo,FacebookAuthProvider:Vs,GithubAuthProvider:Ol,GoogleAuthProvider:yr,OAuthProvider:Es,SAMLAuthProvider:Jo,PhoneAuthProvider:hh,PhoneMultiFactorGenerator:ow,RecaptchaVerifier:cg,TwitterAuthProvider:Nl,Auth:uh,AuthCredential:lo,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},3106:(ut,Ce,O)=>{O.d(Ce,{Z:()=>Ze});var u=O(9058),X=O(4537),N=O(534),J=O(7879);class ie{constructor(Ge,Fe){this._delegate=Ge,this.firebase=Fe,(0,N._addComponent)(Ge,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ge,Fe=N._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Ge);return!ht.isInitialized()&&"EXPLICIT"===(null===(pt=ht.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Fe})}_removeServiceInstance(Ge,Fe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Fe)}_addComponent(Ge){(0,N._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,N._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function fe(){const Re=function Ne(Re){const Ge={},Fe={__esModule:!0,initializeApp:function ne(Pe,qe={}){const le=N.initializeApp(Pe,qe);if((0,u.r3)(Ge,le.name))return Ge[le.name];const bt=new Re(le,Fe);return Ge[le.name]=bt,bt},app:ht,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ee(Pe){const qe=Pe.name,le=qe.replace("-compat","");if(N._registerComponent(Pe)&&"PUBLIC"===Pe.type){const bt=(Ht=ht())=>{if("function"!=typeof Ht[le])throw _e.create("invalid-app-argument",{appName:qe});return Ht[le]()};void 0!==Pe.serviceProps&&(0,u.ZB)(bt,Pe.serviceProps),Fe[le]=bt,Re.prototype[le]=function(...Ht){return this._getService.bind(this,qe).apply(this,Pe.multipleInstances?Ht:[])}}return"PUBLIC"===Pe.type?Fe[le]:null},removeApp:function pt(Pe){delete Ge[Pe]},useAsService:function De(Pe,qe){return"serverAuth"===qe?null:qe},modularAPIs:N}};function ht(Pe){if(!(0,u.r3)(Ge,Pe=Pe||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Pe});return Ge[Pe]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function ye(){return Object.keys(Ge).map(Pe=>Ge[Pe])}}),ht.App=Re,Fe}(ie);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function Ge(Fe){(0,u.ZB)(Re,Fe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Re}(),$=new J.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=V;!function Se(Re){(0,N.registerVersion)("@firebase/app-compat","0.2.13",Re)}()},534:(ut,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>io,_DEFAULT_ENTRY_NAME:()=>ft,_addComponent:()=>In,_addOrOverwriteComponent:()=>qi,_apps:()=>Rt,_clearComponents:()=>Jt,_components:()=>cn,_getProvider:()=>mi,_registerComponent:()=>en,_removeServiceInstance:()=>Ba,deleteApp:()=>Nr,getApp:()=>fr,getApps:()=>Fs,initializeApp:()=>ro,onLog:()=>Zi,registerVersion:()=>ei,setLogLevel:()=>Ln});var u=O(5861),X=O(4537),N=O(7879),J=O(9058);const ie=(de,te)=>te.some(Me=>de instanceof Me);let ae,_e;const V=new WeakMap,$=new WeakMap,Y=new WeakMap,Ve=new WeakMap,Se=new WeakMap;let Ge={get(de,te,Me){if(de instanceof IDBTransaction){if("done"===te)return $.get(de);if("objectStoreNames"===te)return de.objectStoreNames||Y.get(de);if("store"===te)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return ne(de[te])},set:(de,te,Me)=>(de[te]=Me,!0),has:(de,te)=>de instanceof IDBTransaction&&("done"===te||"store"===te)||te in de};function ht(de){return"function"==typeof de?function pt(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...te){return de.apply(ye(this),te),ne(V.get(this))}:function(...te){return ne(de.apply(ye(this),te))}:function(te,...Me){const st=de.call(ye(this),te,...Me);return Y.set(st,te.sort?te.sort():[te]),ne(st)}}(de):(de instanceof IDBTransaction&&function Re(de){if($.has(de))return;const te=new Promise((Me,st)=>{const We=()=>{de.removeEventListener("complete",Pt),de.removeEventListener("error",Qt),de.removeEventListener("abort",Qt)},Pt=()=>{Me(),We()},Qt=()=>{st(de.error||new DOMException("AbortError","AbortError")),We()};de.addEventListener("complete",Pt),de.addEventListener("error",Qt),de.addEventListener("abort",Qt)});$.set(de,te)}(de),ie(de,function Ne(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ge):de)}function ne(de){if(de instanceof IDBRequest)return function Ze(de){const te=new Promise((Me,st)=>{const We=()=>{de.removeEventListener("success",Pt),de.removeEventListener("error",Qt)},Pt=()=>{Me(ne(de.result)),We()},Qt=()=>{st(de.error),We()};de.addEventListener("success",Pt),de.addEventListener("error",Qt)});return te.then(Me=>{Me instanceof IDBCursor&&V.set(Me,de)}).catch(()=>{}),Se.set(te,de),te}(de);if(Ve.has(de))return Ve.get(de);const te=ht(de);return te!==de&&(Ve.set(de,te),Se.set(te,de)),te}const ye=de=>Se.get(de),Pe=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],le=new Map;function bt(de,te){if(!(de instanceof IDBDatabase)||te in de||"string"!=typeof te)return;if(le.get(te))return le.get(te);const Me=te.replace(/FromIndex$/,""),st=te!==Me,We=qe.includes(Me);if(!(Me in(st?IDBIndex:IDBObjectStore).prototype)||!We&&!Pe.includes(Me))return;const Pt=function(){var Qt=(0,u.Z)(function*(Vn,...Un){const pi=this.transaction(Vn,We?"readwrite":"readonly");let Jr=pi.store;return st&&(Jr=Jr.index(Un.shift())),(yield Promise.all([Jr[Me](...Un),We&&pi.done]))[0]});return function(Un){return Qt.apply(this,arguments)}}();return le.set(te,Pt),Pt}!function Fe(de){Ge=de(Ge)}(de=>({...de,get:(te,Me,st)=>bt(te,Me)||de.get(te,Me,st),has:(te,Me)=>!!bt(te,Me)||de.has(te,Me)}));class Ht{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function hi(de){const te=de.getComponent();return"VERSION"===te?.type}(Me)){const st=Me.getImmediate();return`${st.library}/${st.version}`}return null}).filter(Me=>Me).join(" ")}}const Gi="@firebase/app",Fn=new N.Yd("@firebase/app"),ft="[DEFAULT]",zt={[Gi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,cn=new Map;function In(de,te){try{de.container.addComponent(te)}catch(Me){Fn.debug(`Component ${te.name} failed to register with FirebaseApp ${de.name}`,Me)}}function qi(de,te){de.container.addOrOverwriteComponent(te)}function en(de){const te=de.name;if(cn.has(te))return Fn.debug(`There were multiple attempts to register component ${te}.`),!1;cn.set(te,de);for(const Me of Rt.values())In(Me,de);return!0}function mi(de,te){const Me=de.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),de.container.getProvider(te)}function Ba(de,te,Me=ft){mi(de,te).clearInstance(Me)}function Jt(){cn.clear()}const $t=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _s{constructor(te,Me,st){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const io="9.23.0";function ro(de,te={}){let Me=de;"object"!=typeof te&&(te={name:te});const st=Object.assign({name:ft,automaticDataCollectionEnabled:!1},te),We=st.name;if("string"!=typeof We||!We)throw $t.create("bad-app-name",{appName:String(We)});if(Me||(Me=(0,J.aH)()),!Me)throw $t.create("no-options");const Pt=Rt.get(We);if(Pt){if((0,J.vZ)(Me,Pt.options)&&(0,J.vZ)(st,Pt.config))return Pt;throw $t.create("duplicate-app",{appName:We})}const Qt=new X.H0(We);for(const Un of cn.values())Qt.addComponent(Un);const Vn=new _s(Me,st,Qt);return Rt.set(We,Vn),Vn}function fr(de=ft){const te=Rt.get(de);if(!te&&de===ft&&(0,J.aH)())return ro();if(!te)throw $t.create("no-app",{appName:de});return te}function Fs(){return Array.from(Rt.values())}function Nr(de){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(de){const te=de.name;Rt.has(te)&&(Rt.delete(te),yield Promise.all(de.container.getProviders().map(Me=>Me.delete())),de.isDeleted=!0)})).apply(this,arguments)}function ei(de,te,Me){var st;let We=null!==(st=zt[de])&&void 0!==st?st:de;Me&&(We+=`-${Me}`);const Pt=We.match(/\s|\//),Qt=te.match(/\s|\//);if(Pt||Qt){const Vn=[`Unable to register library "${We}" with version "${te}":`];return Pt&&Vn.push(`library name "${We}" contains illegal characters (whitespace or "/")`),Pt&&Qt&&Vn.push("and"),Qt&&Vn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void Fn.warn(Vn.join(" "))}en(new X.wA(`${We}-version`,()=>({library:We,version:te}),"VERSION"))}function Zi(de,te){if(null!==de&&"function"!=typeof de)throw $t.create("invalid-log-argument");(0,N.Am)(de,te)}function Ln(de){(0,N.Ub)(de)}const mr="firebase-heartbeat-database",pr=1,j="firebase-heartbeat-store";let B=null;function q(){return B||(B=function ee(de,te,{blocked:Me,upgrade:st,blocking:We,terminated:Pt}={}){const Qt=indexedDB.open(de,te),Vn=ne(Qt);return st&&Qt.addEventListener("upgradeneeded",Un=>{st(ne(Qt.result),Un.oldVersion,Un.newVersion,ne(Qt.transaction),Un)}),Me&&Qt.addEventListener("blocked",Un=>Me(Un.oldVersion,Un.newVersion,Un)),Vn.then(Un=>{Pt&&Un.addEventListener("close",()=>Pt()),We&&Un.addEventListener("versionchange",pi=>We(pi.oldVersion,pi.newVersion,pi))}).catch(()=>{}),Vn}(mr,pr,{upgrade:(de,te)=>{0===te&&de.createObjectStore(j)}}).catch(de=>{throw $t.create("idb-open",{originalErrorMessage:de.message})})),B}function se(){return(se=(0,u.Z)(function*(de){try{return yield(yield q()).transaction(j).objectStore(j).get(xt(de))}catch(te){if(te instanceof J.ZR)Fn.warn(te.message);else{const Me=$t.create("idb-get",{originalErrorMessage:te?.message});Fn.warn(Me.message)}}})).apply(this,arguments)}function Ke(de,te){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(de,te){try{const st=(yield q()).transaction(j,"readwrite");yield st.objectStore(j).put(te,xt(de)),yield st.done}catch(Me){if(Me instanceof J.ZR)Fn.warn(Me.message);else{const st=$t.create("idb-set",{originalErrorMessage:Me?.message});Fn.warn(st.message)}}})).apply(this,arguments)}function xt(de){return`${de.name}!${de.options.appId}`}class An{constructor(te){this.container=te,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Xr(Me),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var te=this;return(0,u.Z)(function*(){const st=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=Wt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==We&&!te._heartbeatsCache.heartbeats.some(Pt=>Pt.date===We))return te._heartbeatsCache.heartbeats.push({date:We,agent:st}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Pt=>{const Qt=new Date(Pt.date).valueOf();return Date.now()-Qt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,u.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Me=Wt(),{heartbeatsToSend:st,unsentEntries:We}=function $n(de,te=1024){const Me=[];let st=de.slice();for(const We of de){const Pt=Me.find(Qt=>Qt.agent===We.agent);if(Pt){if(Pt.dates.push(We.date),vs(Me)>te){Pt.dates.pop();break}}else if(Me.push({agent:We.agent,dates:[We.date]}),vs(Me)>te){Me.pop();break}st=st.slice(1)}return{heartbeatsToSend:Me,unsentEntries:st}}(te._heartbeatsCache.heartbeats),Pt=(0,J.L)(JSON.stringify({version:2,heartbeats:st}));return te._heartbeatsCache.lastSentHeartbeatDate=Me,We.length>0?(te._heartbeatsCache.heartbeats=We,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Pt})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,u.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Ee(de){return se.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Me=this;return(0,u.Z)(function*(){var st;if(yield Me._canUseIndexedDBPromise){const Pt=yield Me.read();return Ke(Me.app,{lastSentHeartbeatDate:null!==(st=te.lastSentHeartbeatDate)&&void 0!==st?st:Pt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Me=this;return(0,u.Z)(function*(){var st;if(yield Me._canUseIndexedDBPromise){const Pt=yield Me.read();return Ke(Me.app,{lastSentHeartbeatDate:null!==(st=te.lastSentHeartbeatDate)&&void 0!==st?st:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...te.heartbeats]})}})()}}function vs(de){return(0,J.L)(JSON.stringify({version:2,heartbeats:de})).length}!function ja(de){en(new X.wA("platform-logger",te=>new Ht(te),"PRIVATE")),en(new X.wA("heartbeat",te=>new An(te),"PRIVATE")),ei(Gi,"0.9.13",de),ei(Gi,"0.9.13","esm2017"),ei("fire-js","")}("")},4537:(ut,Ce,O)=>{O.d(Ce,{H0:()=>Ne,wA:()=>N});var u=O(5861),X=O(9058);class N{constructor(V,$,Y){this.name=V,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const J="[DEFAULT]";class ie{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const Y=new X.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&Y.resolve(Ve)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const Y=this.normalizeInstanceIdentifier(V?.identifier),Ve=null!==($=V?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function _e(fe){return"EAGER"===fe.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});Y.resolve(Se)}catch{}}}}clearInstance(V=J){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,u.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=J){return this.instances.has(V)}getOptions(V=J){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,Y=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Se,Ze]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&Ze.resolve(Ve);return Ve}onInit(V,$){var Y;const Ve=this.normalizeInstanceIdentifier($),Se=null!==(Y=this.onInitCallbacks.get(Ve))&&void 0!==Y?Y:new Set;Se.add(V),this.onInitCallbacks.set(Ve,Se);const Ze=this.instances.get(Ve);return Ze&&V(Ze,Ve),()=>{Se.delete(V)}}invokeOnInitCallbacks(V,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ve of Y)try{Ve(V,$)}catch{}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let Y=this.instances.get(V);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=V,fe===J?void 0:fe),options:$}),this.instances.set(V,Y),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(Y,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,Y)}catch{}var fe;return Y||null}normalizeInstanceIdentifier(V=J){return this.component?this.component.multipleInstances?V:J:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new ie(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(ut,Ce,O)=>{O.d(Ce,{Am:()=>fe,Ub:()=>Ne,Yd:()=>_e,in:()=>X});const u=[];var X=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(X||{});const N={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},J=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ae=(V,$,...Y)=>{if($<V.logLevel)return;const Ve=(new Date).toISOString(),Se=ie[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Ve}]  ${V.name}:`,...Y)};class _e{constructor($){this.name=$,this._logLevel=J,this._logHandler=ae,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function Ne(V){u.forEach($=>{$.setLogLevel(V)})}function fe(V,$){for(const Y of u){let Ve=null;$&&$.level&&(Ve=N[$.level]),Y.userLogHandler=null===V?null:(Se,Ze,...Re)=>{const Ge=Re.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Ze>=(Ve??Se.logLevel)&&V({level:X[Ze].toLowerCase(),message:Ge,args:Re,type:Se.name})}}}},5861:(ut,Ce,O)=>{function u(N,J,ie,ae,_e,Ne,fe){try{var V=N[Ne](fe),$=V.value}catch(Y){return void ie(Y)}V.done?J($):Promise.resolve($).then(ae,_e)}function X(N){return function(){var J=this,ie=arguments;return new Promise(function(ae,_e){var Ne=N.apply(J,ie);function fe($){u(Ne,ae,_e,fe,V,"next",$)}function V($){u(Ne,ae,_e,fe,V,"throw",$)}fe(void 0)})}}O.d(Ce,{Z:()=>X})},7582:(ut,Ce,O)=>{function J(ce,he){var be={};for(var we in ce)Object.prototype.hasOwnProperty.call(ce,we)&&he.indexOf(we)<0&&(be[we]=ce[we]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(we=Object.getOwnPropertySymbols(ce);Ie<we.length;Ie++)he.indexOf(we[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ce,we[Ie])&&(be[we[Ie]]=ce[we[Ie]])}return be}function Y(ce,he,be,we){return new(be||(be=Promise))(function(Te,tt){function ze(Yt){try{gt(we.next(Yt))}catch(Nt){tt(Nt)}}function Rn(Yt){try{gt(we.throw(Yt))}catch(Nt){tt(Nt)}}function gt(Yt){Yt.done?Te(Yt.value):function Ie(Te){return Te instanceof be?Te:new be(function(tt){tt(Te)})}(Yt.value).then(ze,Rn)}gt((we=we.apply(ce,he||[])).next())})}function ne(ce){return this instanceof ne?(this.v=ce,this):new ne(ce)}function ye(ce,he,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,we=be.apply(ce,he||[]),Te=[];return Ie={},tt("next"),tt("throw"),tt("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function tt(vn){we[vn]&&(Ie[vn]=function(xn){return new Promise(function(fi,sn){Te.push([vn,xn,fi,sn])>1||ze(vn,xn)})})}function ze(vn,xn){try{!function Rn(vn){vn.value instanceof ne?Promise.resolve(vn.value.v).then(gt,Yt):Nt(Te[0][2],vn)}(we[vn](xn))}catch(fi){Nt(Te[0][3],fi)}}function gt(vn){ze("next",vn)}function Yt(vn){ze("throw",vn)}function Nt(vn,xn){vn(xn),Te.shift(),Te.length&&ze(Te[0][0],Te[0][1])}}function De(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,he=ce[Symbol.asyncIterator];return he?he.call(ce):(ce=function Re(ce){var he="function"==typeof Symbol&&Symbol.iterator,be=he&&ce[he],we=0;if(be)return be.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&we>=ce.length&&(ce=void 0),{value:ce&&ce[we++],done:!ce}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),be={},we("next"),we("throw"),we("return"),be[Symbol.asyncIterator]=function(){return this},be);function we(Te){be[Te]=ce[Te]&&function(tt){return new Promise(function(ze,Rn){!function Ie(Te,tt,ze,Rn){Promise.resolve(Rn).then(function(gt){Te({value:gt,done:ze})},tt)}(ze,Rn,(tt=ce[Te](tt)).done,tt.value)})}}}O.d(Ce,{FC:()=>ye,KL:()=>De,_T:()=>J,mG:()=>Y,qq:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},ut=>{ut(ut.s=6645)}]);